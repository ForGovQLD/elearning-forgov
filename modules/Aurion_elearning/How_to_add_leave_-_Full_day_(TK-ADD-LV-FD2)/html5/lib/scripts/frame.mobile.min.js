/*! ds-bootstrap - v1.0.0.34031 - 2025-02-19 1:37pm UTC
* Copyright (c) 2025 ; Not Licensed */!function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,a=void 0,a=function(e,n){if("object"!==t(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,n||"default");if("object"!==t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(o,"string"),"symbol"===t(a)?a:String(a)),r)}var o,a}var n=DS,i=n._,r=n.pubSub,o=n.events,a=n.constants,l=n.utils,s=n.translationStore,c=[],u=function(){function t(e,n,l){var s=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.frame=e,this.frame.blocked=!1,this.preso=l,this.setupControlOptions(),this.layouts={},this.dockedStates={},this.dockSettings={dockedState:a.docked.NONE,width:0},this.setLayout(this.frame.default_layout,a.refs.FRAME),DS.flagManager.multiLangSupport&&!i.isEmpty(n)&&this.setLocalizationData(n,!0),this.resourceDescription=this.frame.resourceData.description;var c=l.getFirstSlide();for(var u in this.slideWidth=c.get("width"),this.slideHeight=c.get("height"),this.temp=[],this.frame.layouts)this.temp.push(u);this.rtl="rtl"===this.frame.textdirection,this.hasModernText=0!==this.frame.renderingEngineType,this.dir=this.dir.bind(this),i.bindAll(this,"onLayoutChanged"),r.on(o.controlLayout.CHANGED,this.onLayoutChanged),r.on(o.controlLayout.UPDATE,(function(t,e,n){s.frame.controlLayouts[t]=n,s.setLayout(t,e)})),r.on(o.controlOptions.CHANGED,(function(t){var e=s.optionChangesRequireMenuRefresh(s.frame.controlOptions.menuOptions,t.menuOptions);s.frame.controlOptions=t,s.setupControlOptions(),r.trigger(o.controlOptions.RESET),e&&r.trigger(o.navData.REFRESH_VIEW)})),r.on(o.frame.FONT_SCALE,(function(t){s.frame.fontscale=t,r.trigger(o.controlOptions.RESET)})),r.on(o.glossary.UPDATE,(function(t){s.frame.glossaryData=t,r.trigger(o.glossary.REFRESH_VIEW)})),r.on(o.navData.UPDATE,(function(t){s.frame.navData=t,r.trigger(o.navData.REFRESH_VIEW)})),r.on(o.resources.UPDATE,(function(t){s.frame.resourceData.resources=t,r.trigger(o.resources.REFRESH_VIEW)})),r.on(o.resources.UPDATE_DESCRIPTION,(function(t){s.frame.resourceData.description=t,r.trigger(o.resources.REFRESH_VIEW)})),r.on(o.layer.DIALOG_SHOWN,(function(t){var e=DS.windowManager.getCurrentWindow();r.trigger(o.frameModel.BLOCKED_CHANGED,e.frame.id,!0,t)})),r.on(o.layer.DIALOG_HIDDEN,(function(){var t=DS.windowManager.getCurrentWindow();r.trigger(o.frameModel.BLOCKED_CHANGED,t.frame.id,!1)})),r.on(o.localization.LANGUAGE_UPDATED,(function(){s.setLocalizationData(DS.localizationManager.getCurrentFrameData())})),r.on(o.localization.REVIEW_FRAME_UPDATED,(function(){s.updateReviewStrings()}))}var n,u,f;return n=t,u=[{key:"traverseMenu",value:function(t,e){var n=this;e.forEach((function(i){t(i),null!=i.links&&e.length>0&&n.traverseMenu(t,i.links)}))}},{key:"updateMenuStrings",value:function(){var t=l.getPath(this.frame,"navData.outline.links",[]);this.traverseMenu((function(t){t.displaytext=s.getUpdatedTextData("menuItem","".concat(t.translationId,"-Name"),t.displaytext)}),t)}},{key:"updateGlossaryStrings",value:function(){(this.frame.glossaryData||[]).forEach((function(t){var e=t.translationId;t.title=s.getUpdatedTextData("glossaryItem","".concat(e,"-Term"),t.title),t.content=s.getUpdatedTextData("glossaryItem","".concat(e,"-Definition"),t.content)}))}},{key:"updateResourcesStrings",value:function(){l.getPath(this.frame,"resourceData.resources",[]).forEach((function(t){var e=t.translationId;t.title=s.getUpdatedTextData("resourceItem","".concat(e,"-Title"),t.title)}))}},{key:"updateNoteStrings",value:function(){(this.frame.notesData||[]).forEach((function(t){var e=t.slideId,n=i.last(e.split(".")),r=s.getUpdatedTextData("slideNote","".concat(n,"-Note"));null!=r&&null!=DS.renderHtmlString&&(t.content=DS.renderHtmlString(r))}))}},{key:"updateReviewStrings",value:function(){this.updateMenuStrings(),this.updateGlossaryStrings(),this.updateResourcesStrings(),this.updateNoteStrings(),this.title.text=s.getUpdatedTextData("projectTitle","project-Title",this.title.text),this.notifyStringsUpdated()}},{key:"setLocalizationData",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.frame.stringTables=t.stringTables,this.frame.navData=t.navData,this.frame.resourceData=t.resourceData,this.frame.glossaryData=t.glossaryData,this.frame.notesData=t.notesData,this.frame.controlStrings=t.controlStrings.reduce((function(t,e){var n=e.id,i=e.value;return t[n]=i,t}),{}),this.title.text=this.frame.controlStrings.title,DS.flagManager.localizationRTL&&(this.frame.textdirection=t.textdirection,this.rtl="rtl"===this.frame.textdirection),"bylanguage"===this.initialSidebarPos&&(this.sidebarOpts.sidebarPos=this.getSidebarPos()),e||this.notifyStringsUpdated()}},{key:"notifyStringsUpdated",value:function(){r.trigger(o.strings.UPDATE_STRINGS),r.trigger(o.navData.REFRESH_VIEW),r.trigger(o.glossary.REFRESH_VIEW),r.trigger(o.resources.REFRESH_VIEW),r.trigger(o.transcript.REFRESH_VIEW),r.trigger(o.frame.REFLOW),r.trigger(o.frame.LOCALIZATION_UPDATED)}},{key:"getSidebarPos",value:function(){return"bylanguage"===this.initialSidebarPos?DS.localizationManager.getCurrentLangIsRTL()?"right":"left":this.initialSidebarPos}},{key:"setupControlOptions",value:function(){var t=this.frame.controlOptions.sidebarOptions;this.initialSidebarPos=t.sidebarPos,t.sidebarPos=this.getSidebarPos(),this.sidebarOpts=t,this.bottomBarOpts=this.frame.controlOptions.bottomBarOptions,this.topTabs=t.tabs.linkRight||[],this.topTabsLeft=t.tabs.linkLeft||[],this.topTabsRight=t.tabs.linkRight||[],this.sidebarTabs=t.tabs.sidebar||[],this.outlineInSidebar=this.sidebarTabs.some((function(t){return"outline"===t.name})),this.buttonOptions=this.frame.controlOptions.buttonoptions,this.title={enabled:t.titleEnabled,text:t.titleText}}},{key:"optionChangesRequireMenuRefresh",value:function(t,e){return t.wrapListItems!==e.wrapListItems||t.autonumber!==e.autonumber}},{key:"onLayoutChanged",value:function(t,e){this.setLayout(t,e)}},{key:"hasTopLinks",value:function(){return 0!==this.topTabsLeft.length||0!==this.topTabsRight.length}},{key:"getControlString",value:function(t){return s.getUpdatedTextData("frameLink","".concat(t,"-Link"),l.getPath(this.frame,"controlStrings.".concat(t),null))}},{key:"getString",value:function(t){var e=this.currLayout.string_table,n=this.frame.stringTables[e].string[t];return null==n?(c.includes(t)||(c.push(t),console.warn("could not find ".concat(t," in string table ").concat(e))),t.replace("acc_","").replace(/_/g," ")):n}},{key:"setDocked",value:function(t,e,n){e===a.docked.NONE?(this.dockedStates[t]=null,delete this.dockedStates[t]):this.dockedStates[t]={dockedState:e,width:n};var i=Object.keys(this.dockedStates);0===i.length?this.dockSettings={dockedState:a.docked.NONE,width:0}:e!==a.docked.NONE?this.dockSettings={dockedState:e,width:n}:this.dockSettings=this.dockedStates[i[0]]}},{key:"getDockedWidth",value:function(){var t=this.dockSettings,e=t.dockedState,n=t.width;return e!==DS.constants.docked.NONE?n:0}},{key:"setLayout",value:function(t,e){this.currLayout=this.frame.layouts[t],this.currControlLayout=this.frame.controlLayouts[t],this.layouts[e]=this.currControlLayout,r.trigger(o.frameModel.LAYOUT_CHANGED,this.currControlLayout,e)}},{key:"getWndControlLayout",value:function(t){return this.layouts[t]||this.currControlLayout}},{key:"dir",value:function(t){if(null!=t)return this.rtl?t.reverse():t}}],u&&e(n.prototype,u),f&&e(n,f),Object.defineProperty(n,"prototype",{writable:!1}),t}(),f=u;function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function h(t,e,n){return(e=v(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=o.call(n)).done)&&(l.push(i.value),l.length!==e);s=!0);}catch(t){c=!0,r=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function b(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,v(i.key),i)}}function v(t){var e=function(t,e){if("object"!==d(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==d(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===d(e)?e:String(e)}var m,g=DS,w=g._,S=g.scaler,k=g.detection,O=g.detection.orientation,C=g.utils,E=C.getPath,L=C.scaleVal,T=C.pxify,x=g.dom,P=x.addClass,I=x.removeClass,j=g.constants.refs.FRAME,D=document.getElementById(DS.constants.els.PRESO),A={x:"w",xl:"w",xp:"w",y:"h",yl:"h",yp:"h",wl:"w",wp:"w",hl:"h",hp:"h"},R=["wrapper","lightBoxWrapper"],B=function(t){null!=t.beforeUpdateHook&&t.beforeUpdateHook()},M=function(t,e,n){B(t),n=t.w>0?n:0,t.y=t.top=0,t.x=t.left=e.l+n,t.update(!0),e.l=t.x+t.w},H=function(t,e,n){B(t),n=t.w>0?n:0,t.y=t.top=0,t.x=t.left=e.r-t.w-n,t.update(!0),e.r=t.x},N=function(t,e,n){B(t),n=t.h>0?n:0,t.x=t.left=0,t.y=t.top=e.t+n,t.update(!0),e.t=t.y+t.h},F=function(t,e,n){B(t),n=t.h>0?n:0,t.x=t.left=0,t.y=t.top=e.b-t.h-n,t.update(!0),e.b=t.y},V={l:M,r:H,t:N,b:F},U=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ViewLogic=e,this.params=n,this.nameKey=null!=n&&n.nameKey||e.nameKey,this.enabled=!0}var e,n,i;return e=t,n=[{key:"init",value:function(t){if(this.hasInited)console.warn("has already initialized",this);else{var e;this.hasInited=!0;var n=this.ViewLogic,i=this.params;null==i&&null!=n?i=n:null!=n&&(e=!0),w.isFunction(i)&&(i=i(this.nameSpace||t)),i.w=i.w||i.minW||100,i.h=i.h||i.minH||100,this.orientationProps(i,"x","y","w","h","scale"),(i=Object.assign({position:"absolute",x:0,y:0,minW:0,maxW:Number.MAX_SAFE_INTEGER,minH:0,maxH:Number.MAX_SAFE_INTEGER,wPad:0,scale:1,visibility:"reflow",visual:!0,bgColor:null,overflow:"hidden",origin:"center center",z:null,opacity:null,visible:!0,attrs:{},noContent:!0,calcTextSize:!1},i)).calcTextSize&&(i.noContent=!1),this.noContent=i.noContent,this.lastWidthByText=0,this.lastHeightByText=0,this.padLeft=i.padLeft||0,this.padRight=i.padRight||0,this.childDef=i.childDef,this.childViews=i.childViews,this.updateHook=i.updateHook,this.onCaptionChanged=i.onCaptionChanged,i.childViews=null,i.updateHook=null,i.childDef=null,i.nameKey=null,i.onCaptionChanged=null,Object.assign(this,i.methods),i.methods=null,this.createDynamicGetters(i),i.visual&&(this.el=document.createElement(i.tag||"div"),this.initAttributes(i.attrs),this.initStyles(i),"button"===i.tag&&(this.el.style.cursor="pointer"),this.initContent(i),i.add&&D.appendChild(this.el),this.hasInitialized=!0),this.initVisibility(i),this.initChildRefs(),e&&(this.viewLogic=new n(this))}}},{key:"orientationProp",value:function(t,e){var n="".concat(e,"l"),i="".concat(e,"p");null!=t[n]&&null!=t[i]&&(t[e]=function(){return O.isLandscape?this[n]:this[i]})}},{key:"orientationProps",value:function(t){for(var e=this,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];i.forEach((function(n){return e.orientationProp(t,n)}))}},{key:"initContent",value:function(t){if(this.noContent){var e=this.html;null!=e&&(this.el.innerHTML=e)}else this.content=document.createElement("div"),this.content.setAttribute("class","view-content"),this.content.setAttribute("tabindex",-1),Object.assign(this.content.style,{position:"relative","text-align":"center",top:0}),Object.assign(this.content.style,t.contentStyle||{}),this.initAttributes(t.contentAttrs,this.content),null!=t.html&&(this.content.innerHTML=this.html),this.el.appendChild(this.content)}},{key:"initAttributes",value:function(t,e){for(var n in t)if(null!=t[n]){var i=t[n];"id"===n?i=w.kebabCase(i):"tabindex"===n&&-1!==i&&this.el.setAttribute("data-".concat(n),i),(e||this.el).setAttribute(n,i)}}},{key:"initStyles",value:function(t){if(Object.assign(this.el.style,{position:t.position,left:0,top:0,backgroundColor:t.bgColor,border:t.border,overflow:t.overflow,transformOrigin:t.origin,opacity:t.opacity,zIndex:t.z}),null!=E(t,"style.display")){var e=t.style.display;"boolean"==typeof e&&(t.style.display=e?"block":"none")}Object.assign(this.el.style,t.style)}},{key:"initVisibility",value:function(t){!1===t.visible&&this.setVisibility(!1)}},{key:"initChildRefs",value:function(){this.children=[],this.childList=[];for(var t=this.el.querySelectorAll("[data-ref]"),e=0;e<t.length;e++)this.children[t[e].dataset.ref]={el:t[e]}}},{key:"updateStrings",value:function(){null!=this.ariaStringId&&this.el.setAttribute("aria-label",G.model.getString(this.ariaStringId)),null!=this.updateDomStrings&&(this.updateDomStrings(),this.calcTextSize&&(this.doTextCalcs(),this.update()))}},{key:"updateHtml",value:function(){var t=this.html;null!=t&&(this.noContent?this.el.innerHTML=t:this.content.innerHTML=t)}},{key:"createDynamicGetters",value:function(e){for(var n in e)"id"!==n&&null!=e[n]&&t.prop(this,n,e[n])}},{key:"updateSize",value:function(){"button"===this.tag?(this.el.style.width=T(L(Math.max(this.w,24))),this.el.style.height=T(L(Math.max(this.h,24)))):(this.el.style.width=T(L(this.w)),this.el.style.height=T(L(this.h)))}},{key:"updateTrans",value:function(){var t=R.includes(this.nameKey)?w.identity:L,e=["translate(".concat(T(t(this.x)),", ").concat(T(t(this.y)),")")];if(this.xs)for(var n=0;n<this.xs.length;n++)e.push("translateX(".concat(T(t(this.xs[n])),")"));if(this.ys)for(var i=0;i<this.ys.length;i++)e.push("translateY(".concat(T(t(this.ys[i])),")"));k.deviceView.isMobile&&null!=this.scale&&e.push("scale(".concat(this.scale,")")),this.el.style.transform=e.join(" ")}},{key:"calcChildrensWidth",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!0},e=0;return null!=this.children&&this.children.forEach((function(n){t(n)&&(n.update(),e+=n.w)})),e}},{key:"calcChildrensHeight",value:function(){var t=0;return null!=this.children&&this.children.forEach((function(e){e.update(),t+=e.h})),t}},{key:"positionChildren",value:function(t){var e=t.vertical,n=t.toTop,i=t.toLeft,r=t.pad,o=t.startPos,a=t.reverse,l=void 0!==a&&a,s=t.hook,c=void 0===s?w.noop:s,u=t.rtl,f=void 0!==u&&u,d=t.sizeToChildren,h=t.alignChild,y=e?n?F:N:i?H:M,b=Object.assign({l:o,r:o,t:o,b:o},t.bounds),v=l!==f?this.children.slice().reverse():this.children,m=p(e?["height","t"]:["width","l"],2),g=m[0],S=m[1],k=O.isLandscape?w.first:w.last;v.forEach((function(t){(t.beforeReflowHook||w.noop)();var e=h&&k(t.parentAlign);!t.visible&&"reflow"===t.visibility||"-"===e||(e?V[e](t,b,r):y(t,b,r),c(t))})),d&&(this[g]=b[S])}},{key:"flowChildren",value:function(t){(t=Object.assign({pad:0,sizeToChildren:!1,startPos:0,toLeft:!1,reverse:!1,fullUpdate:!1,rtl:!1,hook:function(){}},t)).fullUpdate?this.hasAllChildren()&&(this.positionChildren(t),this.updateSize()):this.positionChildren(t)}},{key:"isBlocked",value:function(){if(k.theme.isClassic)return!1;var t=G.getTopNameSpace(),e=G.getCurrentNameSpace(),n=G.getBlocker(e.name);return null!=t&&null!=n&&n.visible}},{key:"setEnabled",value:function(t,e){this.enabled!=t&&(this.enabled=t,t?I(this.el,"cs-disabled"):P(this.el,"cs-disabled"),this.el.setAttribute("aria-disabled",!t));var n=this.el.getAttribute("data-tabindex");null!=n&&this.el.setAttribute("tabindex",e&&!t||this.isBlocked()?-1:n)}},{key:"setVisibility",value:function(t,e){var n=this.visible!==t,i=!1;return"no-reflow"===this.visibility?(this.el.style.visibility=t?"visible":"hidden",this.el.style.pointerEvents=t?"":"none"):"reflow"===this.visibility&&(this.el.style.display=t?"block":"none",i=!0),e&&(this.layoutDefaultVisible=t),this.visible=t,n&&E(this,"viewLogic.didChangeVisibility")&&this.viewLogic.didChangeVisibility(t),i}},{key:"childVisibilityChanged",value:function(){null!=this.childVisibilityChangedHook?this.childVisibilityChangedHook():null!=this.parent&&this.parent.childVisibilityChanged()}},{key:"update",value:function(t){null==this.beforeUpdateHook||t||this.beforeUpdateHook(),this.updateSize(),this.updateTrans(),null!=this.updateHook&&this.updateHook()}},{key:"updateChildren",value:function(t){this.children.forEach((function(e){e.update(),t&&e.updateChildren(t)}))}},{key:"doTextCalcs",value:function(){var t=1/S.getScale(),e=this.content.style.width,n=this.el.style.display;(DS.flagManager.multiLangSupport||DS.flagManager.aiCourseTranslation)&&(this.el.style.display="block",this.content.style.width="fit-content");var i=this.content.clientWidth*t,r=this.content.clientHeight*t;(DS.flagManager.multiLangSupport||DS.flagManager.aiCourseTranslation)&&(this.content.style.width=e,this.el.style.display=n),this.lastWidthByText=i+4+this.padLeft+this.padRight,this.lastHeightByText=r+4}},{key:"wasAppended",value:function(){var t=this;this.calcTextSize&&this.doTextCalcs(),null!=this.childViews&&this.childViews.forEach((function(e){"string"==typeof e&&(e=G.getOrCreateView(e)),e.init(t.nameSpace),t.append(e)}))}},{key:"setChildNum",value:function(t){this.defaultChildNum=t}},{key:"hasAllChildren",value:function(){return this.hasInitialized&&this.children.length===this.defaultChildNum}},{key:"append",value:function(t,e){if(t.parent=this,this.children[w.camelCase(t.nameKey)]=t,e?this.children.unshift(t):this.children.push(t),this.noContent||t.outsideContent?this.el.appendChild(t.el):this.content.appendChild(t.el),t.wasAppended(),t.update(),null==t.nameSpace){for(var n=this;null!=n&&null==n.nameSpace;)n=n.parent;t.nameSpace=n.nameSpace,G.hasNamespace(n.nameSpace)?G.getNamespace(n.nameSpace)[t.nameKey]=t:console.warn("could not find namespace ".concat(n.nameSpace," when appending"))}}},{key:"destroy",value:function(){null!=this.children&&this.children.forEach((function(t){return t.destroy()})),null!=this.viewLogic&&this.viewLogic.teardown(),null!=this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.nameSpace=null}},{key:"startFloat",value:function(){this.floating=!0,this.lastFloatParent=this.el.parentNode,this.shouldReparent&&G.getNamespace(this.nameSpace).wrapper.el.appendChild(this.el)}},{key:"endFloat",value:function(){this.floating&&(this.floating=!1,this.shouldReparent&&this.lastFloatParent.appendChild(this.el))}},{key:"right",value:function(){return this.floating?0:this.x+this.w}},{key:"bottom",value:function(){return this.floating?0:this.y+this.h}},{key:"getBox",value:function(){if(null==G.getNamespace(this.nameSpace).wrapper)return null;var t=k.theme.isClassic&&G.getNamespace(this.nameSpace).wrapper.dimScale||1,e=(G.getNamespace(this.nameSpace).wrapper.scale||1)*t,n=this.x,i=this.y,r=this.w,o=this.h,a=this.offsets,l=(a=void 0===a?{}:a).l,s=void 0===l?0:l,c=a.t,u=this;for(n=(n+s)*e,i=(i+(void 0===c?0:c))*e;u=u.parent;){var f=null!=u.parent?e:1,d=u.offsets,h=(d=void 0===d?{}:d).l,p=void 0===h?0:h,y=d.t,b=void 0===y?0:y;n+=(u.x+p)*f,i+=(u.y+b)*f}return{x:n,y:i,w:r*=e,h:o*=e}}}],n&&b(e.prototype,n),i&&b(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();U.propFns={"fit-to-text-w":function(){return Math.max(this.minW,this.lastWidthByText)+this.wPad},"fit-to-text-h":function(){return Math.max(this.minH,this.lastHeightByText)},"vertical-center":function(){return this.parent.h/2-this.h/2},"horizontal-center":function(){return this.parent.w/2-this.w/2}},U.prop=function(t,e,n){if("number"==typeof n)t[e]=n;else if("string"==typeof n&&null!=U.propFns[n])Object.defineProperties(t,h({},e,{get:U.propFns[n],set:w.noop}));else if("string"==typeof n&&n.endsWith("%")){var i=parseFloat(n)/100,r=null!=A[e]?A[e]:e;Object.defineProperties(t,h({},e,{get:function(){return this.parent[r]?t.parent[r]*i:0},set:w.noop}))}else if(w.isFunction(n)){var o;if("w"===e||"h"===e){var a=n.bind(t),l=e.toUpperCase(),s=t["min".concat(l)],c=t["max".concat(l)];o=function(){var t=a();return t<s?t=s:t>c&&(t=c),t}.bind(t)}else o=n;Object.defineProperties(t,h({},e,{get:o,set:w.noop}))}else t[e]=n;t[e]=n};var W={},z={},Z={},K=function(t){var e,n,i=d(t);return"string"===i?e=t:"object"===i?n=t[e=Object.keys(t)[0]]:console.warn("invalid view definition. ".concat(t," is a ").concat(d(t))),{viewName:e,children:n}},G={nameSpaces:{},nsStack:[],getNamespace:function(t){return this.nameSpaces[t]},hasNamespace:function(t){return null!=this.nameSpaces[t]},setModel:function(t){return this.model=t,this},resetStates:function(t){var e=this.getNamespace(t);w.forEach(e,(function(t){return t&&t.setEnabled&&t.setEnabled(!0)}))},updateVisibility:function(t,e){var n=!1;for(var i in t){var r=this.nameSpaces[e][i];if(null!=r)r.setVisibility(t[i],!0)&&(n=!0)}return n},def:function(t,e,n){null==n?e.nameKey=t:n.nameKey=t;var i=new U(e,n);return null==W[t]?(W[t]=i,z[t]={ViewLogic:e,p:n},Z[t]=0):console.warn("views connot share the same name ".concat(t)),i},addNameSpace:function(t){m=t,this.nameSpaces[m]=this.nameSpaces[m]||{name:t,topLevelElements:[],isAttached:!0,tabReachable:!0,detach:function(){this.isAttached=!1,this.topLevelElements.forEach((function(t){return D.removeChild(t.el)}))},reattach:function(){this.isAttached=!0,this.topLevelElements.forEach((function(t){return D.appendChild(t.el)}))},updateTabIndex:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=function(e){if(!e.dataset.leavealone){var n=e.getAttribute("data-tabindex");null==n&&(n=e.tabIndex,e.setAttribute("data-tabindex",n)),e.tabIndex=t.tabReachable?n:-1}};this.topLevelElements.forEach((function(r){var o=function(t,e){e?t.el.removeAttribute("aria-hidden"):t.el.setAttribute("aria-hidden",!0)};e&&(r.children.some((function(t){return"startoverlay"===t.nameKey}))?r.children.filter((function(t){return"startoverlay"!==t.nameKey})).forEach((function(e){return o(e,t.tabReachable)})):o(r,t.tabReachable)),r.el.querySelectorAll(n?"[tabIndex]:not(.acc-shadow-el):not(.slide-object)":"[tabIndex]").forEach((function(t){return i(t)})),"lightBoxClose"===r.nameKey&&i(r.el)}))}}},update:function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e){t.forEach((function(t){w.isFunction(t)?t():Array.isArray(t)?update(t,e):null==t||!t.update||t.noUpdate&&!e||(t.update(),e&&t.updateHtml())}))})),getViewConfig:function(t){var e=z[t];return{name:t,ViewLogic:e.ViewLogic,p:e.p}},getOrCreateView:function(t){if(++Z[t]>1){var e=z[t],n=e.ViewLogic,i=e.p;return new U(n,i)}return W[t]},tree:function(t,e){for(var n=this,i=[],r=function e(i){if(null!==i){var r=K(i),o=r.viewName,a=r.children,l=n.nameSpaces[t][o]=n.getOrCreateView(o);if(null!=l){if(l.nameSpace=t,E(a,"length")>0){l.setChildNum(a.length),l.hasChildren=!0;for(var s=0;s<a.length;s++)e(a[s])}}else console.warn("could not find view '".concat(o,"'"))}},o=function e(r,o){if(null!==r){var a=K(r),l=a.viewName,s=a.children,c=n.nameSpaces[t][l];if(null!=c){if(c.init(t),null!=o?o.append(c):n.nameSpaces[t].topLevelElements.push(c),null!=c.childDef&&c.childDef(),i.push(c),c.hasChildren)for(var u=0;u<s.length;u++)e(s[u],c)}else console.warn("could not find view '".concat(l,"'"))}},a=0;a<e.length;a++)r(e[a]);for(var l=0;l<e.length;l++)o(e[l]);return i},getCurrentNameSpace:function(){return this.nameSpaces[m]},getTopNameSpace:function(){return w.last(this.nsStack)},getCurrentNameSpaceString:function(){return m},getFrameNameSpace:function(){return this.nameSpaces[j]},getBlocker:function(t){switch(t){case DS.constants.refs.FRAME:return G.getNamespace(t).frameBlocker;case"LightboxWnd":return G.getNamespace(t).lightBoxBlocker;case"LightboxControlsWnd":return G.getNamespace(t).lightBoxControlsBlocker;default:return null}}};function Q(t){return function(t){if(Array.isArray(t))return t}(t)||X(t)||Y(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(t){return function(t){if(Array.isArray(t))return $(t)}(t)||X(t)||Y(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(t,e){if(t){if("string"==typeof t)return $(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(t,e):void 0}}function X(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function $(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var J,tt=DS,et=tt._,nt=tt.pubSub,it=tt.events,rt={},ot=!1,at={},lt=function(t){try{var e=q(document.styleSheets).find(t);J=q(e.rules)}catch(t){}};if(lt((function(t){return null!=t.href&&t.href.includes("output.min.css")})),nt.on(it.scheme.CHANGED,(function(t){lt((function(e){return null!=e.ownerNode&&e.ownerNode.id===t})),at={}})),null!=J){var st=function(t,e){var n,i;if(ot){n="".concat(e,".cs-").concat(G.model.frame.default_layout);var r=t.split(" ");i=(r=r.map((function(t){return(t.startsWith(".")?".":"")+et.compact(t.split(".")).reverse().join(".")}))).join(" ")}else{G.model;n=".cs-".concat(G.model.frame.default_layout).concat(e),i=t}return"".concat(n," ").concat(i)};rt.getColor=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=st(e,i);if(null==at[r]){var o=J.find((function(t){return t.selectorText===r}));null==o&&(ot=!ot,r=st(e,i),o=J.find((function(t){return t.selectorText===r}))||{}),at[r]=o.style||{}}return at[r][n]||""}}else{var ct=function(t,e){var n=document.createElement(t);return n.setAttribute("class",e),n},ut=/^\./,ft=/\./g;rt.getColor=function(t,e,n){var i,r,o=(arguments.length>4&&void 0!==arguments[4]&&arguments[4]||e).split(/\s+/),a=G.getNamespace(t).wrapper.el;o.forEach((function(t,e){if(ut.test(t))s=t.replace(ft," "),i=ct("div",s);else{var n=Q(t.split(".")),o=n[0],l=n.slice(1);i=ct(o,l.join(" "))}var s;0===e&&(i.style.position="absolute",i.style.display="none",r=i),a.appendChild(i),a=i}));var l=window.getComputedStyle(i).getPropertyValue(n);return""===l&&"border-color"===n&&(l=window.getComputedStyle(i).getPropertyValue("border-top-color")),r.parentNode.removeChild(r),l||""}}var dt=rt;function ht(t){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ht(t)}function pt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==ht(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==ht(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===ht(o)?o:String(o)),i)}var r,o}var yt,bt,vt,mt,gt=DS,wt=gt.dom,St=gt._,kt=gt.detection,Ot=gt.pubSub,Ct=gt.events,Et=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),St.bindAll(this,"onLoaderShow","onLoaderMute","onLoaderUnmute","onLoaderHide","onRemoveLoaderTitle");var e={};e[Ct.loader.SHOW]=this.onLoaderShow,e[Ct.loader.MUTE]=this.onLoaderMute,e[Ct.loader.UNMUTE]=this.onLoaderUnmute,e[Ct.loader.HIDE]=this.onLoaderHide,e[Ct.loader.REMOVE_TITLE]=this.onRemoveLoaderTitle,e[Ct.startOverlay.READY]=this.onLoaderHide,wt.addClass(document.body,"theme-".concat(window.globals.themeName)),document.body.classList.contains("view-tablet")&&wt.addClass(document.body,"is-touchable-tablet"),kt.env.is360&&wt.addClass(document.body,"is-360"),Ot.on(e),this.setupBrandingColor()}var e,n,i;return e=t,(n=[{key:"setupBrandingColor",value:function(){window.requestAnimationFrame((function(){var t=dt.getColor(DS.constants.refs.FRAME,".cs-brandhighlight-bg","background-color",".cs-base.cs-custom-theme");null!=t&&(DS.constants.theme.brandingHighlight=t,Ot.trigger(Ct.app.BRANDING_COLOR,t))}))}},{key:"onRemoveLoaderTitle",value:function(){var t=document.querySelector("body > .mobile-load-title-overlay");null!=t&&t.parentNode.removeChild(t)}},{key:"getSpinLoader",value:function(){return document.querySelector("body > .slide-loader")}},{key:"onLoaderMute",value:function(){var t=this.getSpinLoader();null!=t&&(t.style.opacity=0)}},{key:"showLoaderDelayed",value:function(t){clearTimeout(this.loaderTimeout),this.loaderTimeout=setTimeout(this.onLoaderShow,t)}},{key:"onLoaderHide",value:function(){clearTimeout(this.loaderTimeout),this.getSpinLoader().style.display="none",wt.addClass(document.getElementById("preso"),"hide-slide-loader"),Ot.trigger(Ct.app.HIDE_LOADER)}},{key:"onLoaderUnmute",value:function(){var t=this.getSpinLoader();null!=t&&(t.style.opacity=1)}},{key:"onLoaderShow",value:function(t){t>0?this.showLoaderDelayed(t):(this.getSpinLoader().style.display="block",wt.removeClass(document.getElementById("preso"),"hide-slide-loader"),Ot.trigger(Ct.app.SHOW_LOADER))}}])&&pt(e.prototype,n),i&&pt(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Lt=DS,Tt=Lt.globalEventHelper.addWindowListener,xt=Lt.events,Pt=xt.ds,It=Pt.FRAME_DATA_LOADED,_t=Pt.PRESO_READY,jt=xt.window.STACKING_CHANGED,Dt=xt.frame,At=Dt.MODEL_READY,Rt=Dt.SCALE,Bt=xt.resume.SET_DATA,Mt=xt.startOverlay.READY,Ht=xt.controlOptions.RESET,Nt=xt.sidebar.ACTIVE_TAB_SET,Ft=xt.renderTree.DESTROYED,Vt=Lt.constants,Ut=(Vt.els.PRESO,Vt.refs.FRAME),Wt=Lt.detection.theme,zt=Lt.pubSub,Zt=Lt.focusManager,Kt=(Lt.flagManager,Lt.playerGlobals),Gt=Lt.stringTabler,Qt=Lt.shortcutManager,qt=Lt.dom,Yt={},Xt=function(t){var e=G.nsStack.indexOf(t);e>=0&&G.nsStack.splice(e,1)},$t=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];G.nsStack.forEach((function(e,n,i){e.tabReachable=n===i.length-1&&t,e.updateTabIndex()}))},Jt=function(t){yt={createWindow:function(e){var n,i,r=this,o=G.getNamespace(e),a=function(){return function(t){var e=G.getNamespace(t),n=e.isAttached;e.reattach(),Xt(e),G.nsStack.push(e),n||Yt[t].all();var i=G.nsStack.length;G.nsStack.forEach((function(t,e){var n=t.slide.el;e===i-1?(qt.addClass(n,"primary-slide"),qt.removeClass(n,"secondary-slide")):(qt.removeClass(n,"primary-slide"),qt.addClass(n,"secondary-slide"))})),$t(),zt.trigger(jt,t)}(e)},l=function(t,n,i){if(t===e){var r=i?i.getWndBlockerBackground():"",a=G.getBlocker(t);null!=a&&(a.setBackgroundColor(r),a.setVisibility(n)),o.tabReachable=!n,o.updateTabIndex(!1,!0)}};return null==o&&(G.addNameSpace(e),i=t[e](bt),n=_.flow(Tt("resize",(function(){i.resize(),zt.trigger(Rt)})),DS.pubSub.addListener(DS.events.utilityWindow.DOCKED,(function(){i.resize(),zt.trigger(Rt)}))),e===Ut?bt.setLayout(bt.frame.default_layout,Ut):i.all(),o=G.getNamespace(e),Yt[e]=i,o.moveToTop=a,Wt.isUnified&&(zt.on(DS.events.frameModel.BLOCKED_CHANGED,l),zt.on(DS.events.window.MAIN_CHANGED,(function(t,e){return l(e,!1)})))),a(),zt.on(Ht,(function t(){var e=function(){var t=[],e=G.getNamespace(Ut).tabs.viewLogic.getSelectedTab();return e&&t.push(e.nameKey),_.each(G.getNamespace(Ut).topTabs.children,(function(e){_.each(_.filter(e.children,"viewLogic.showing",!0),(function(e){return t.push(e.nameKey)}))})),t}();Xt(G.getNamespace(Ut)),i.destroy(),DS.pubSub.trigger(Ft),G.nameSpaces[Ut]=null,n(),zt.off(Ht,t),r.createWindow("_frame"),i.rerender(),e.forEach((function(t){zt.trigger(Nt,t)}))})),{id:e,el:o.slide.el,wndEl:o.wrapper.el,captionEl:(o.captionContainer||{}).el,x:function(){return o.wrapper.x},y:function(){return o.wrapper.y},close:function(){o.zoomBounds=null,o.detach(),Xt(o),G.nsStack[G.nsStack.length-1].moveToTop(),Zt.reCenter()},moveToTop:a,getWinScale:function(){return o.slide.winScale||1},getPinchZoomBounds:function(){return o.slide.pinchZoomBounds},onPinchZoom:Yt[e].pinchZoom?function(t){o.zoomBounds=t,Yt[e].pinchZoom()}:function(){},onWndBlockedChanged:l}},getSidebarPosition:function(){return bt.sidebarOpts.sidebarPos},getDefaultLayout:function(){return vt.default_layout},getFonts:function(){return vt.fonts},getFontScale:function(){return bt.frame.fontscale},getCaptionData:function(){var t=bt.frame.controlOptions.controls,e={font:t.font,enabled:t.closed_captions},n=bt.frame.controlOptions.ccOptions||{};return e.font=n.font,e.size=n.size,e.placement=n.placement,e.backgroundColor=n.backgroundColor,e.color=n.color,e.text=n.text,e},getNavData:function(){return bt.frame.navData.outline.links},isReadOnlyOnce:function(){return vt.controlOptions.controls.readonlyOnce},topmostUnreachable:function(){return G.nsStack},setAllAccVisibility:function(t){_.forEach(G.nameSpaces,(function(e){var n=e.wrapper;t?n.el.removeAttribute("aria-hidden"):n.el.setAttribute("aria-hidden",!0)}))}},zt.on(Bt,$t),zt.on(Mt,(function(){$t(!1)})),Kt.player=yt},te=function(){yt.hasData=!0,zt.trigger(It,yt)};function ee(t){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ee(t)}function ne(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,ie(i.key),i)}}function ie(t){var e=function(t,e){if("object"!==ee(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==ee(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ee(e)?e:String(e)}var re=DS.detection,oe=new(function(){function t(){var e,n,i,r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=this,i=function(){r.scale=Math.min(window.innerWidth/r.ratioW,window.innerHeight/r.ratioH),r.scaledRatioH=r.ratioH*r.scale,r.scaledRatioW=r.ratioW*r.scale},(n=ie(n="onResize"))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,this.scale=1,this.ratioW=720,this.ratioH=540,this.isMobileChrome=re.os.isIOS&&re.browser.isChrome,re.deviceView.isMobile?this.isScaled=!0:(this.isLockedFit="LockedFit"===window.globals.scale,this.isLocked="Locked"===window.globals.scale,this.isScaled="Scaled"===window.globals.scale),DS.flagManager.playerSizeOption&&this.isLockedFit&&(window.addEventListener("resize",this.onResize),this.onResize()),DS.pubSub.on("frame:modelReady",(function(){var t,e,n=G.model.frame.chromeless||re.env.hideFrame?1:1.5;r.ratioW=(null==G||null===(t=G.model)||void 0===t?void 0:t.slideWidth)*n,r.ratioH=(null==G||null===(e=G.model)||void 0===e?void 0:e.slideHeight)*n,r.onResize()}))}var e,n,i;return e=t,(n=[{key:"shouldUseCache",value:function(){return this.isMobileChrome&&document.activeElement.classList.contains("acc-textinput")}},{key:"innerWidth",get:function(){return this.isLockedOption?this.isLocked?this.ratioW:this.scaledRatioW:window.innerWidth}},{key:"innerHeight",get:function(){return this.isLockedOption?this.isLocked?this.ratioH:this.scaledRatioH:window.innerHeight}},{key:"minHeight",get:function(){return Math.min(this.innerHeight,window.innerHeight)}},{key:"minWidth",get:function(){return Math.min(this.minWidth,window.innerWidth)}},{key:"x",get:function(){return this.isLockedOption?Math.max(0,(window.innerWidth-this.innerWidth)/2):0}},{key:"y",get:function(){return this.isLockedOption?Math.max(0,(window.innerHeight-this.innerHeight)/2):0}},{key:"height",get:function(){return this.shouldUseCache()?(this.cachedOuterHeight!==this.outerHeight&&(this.cachedHeight=this.outerHeight-(this.cachedOuterHeight-this.cachedHeight),this.cachedOuterHeight=this.outerHeight),this.cachedHeight):(this.cachedOuterHeight=this.outerHeight,this.cachedHeight=this.innerHeight,this.innerHeight)}},{key:"width",get:function(){return this.innerWidth}},{key:"isLockedOption",get:function(){return DS.flagManager.playerSizeOption&&(this.isLockedFit||this.isLocked)}}])&&ne(e.prototype,n),i&&ne(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}());DS.frameWindow=oe;var ae,le=oe,se="wrapper";G.def(se,(function(){return{attrs:{id:se,class:se},x:0,y:0,w:function(){return le.width},h:function(){return le.height},add:!0}}));var ce,ue="-20px",fe="-30px";var de={setTooltipOn:function(t,e,n){var i,r,o=e.left,a=e.top,l=e.width,s=e.height;null==ae&&(i=G.model,r=dt.getColor(DS.constants.refs.FRAME,".cs-button .cs-icon","fill"),(ae=document.createElement("div")).id="tooltip",ae.style.left=ue,ae.style.top=fe,ae.style.borderColor=r,ae.classList.add("cs-base","cs-".concat(i.frame.default_layout)),document.getElementById("app-top").appendChild(ae),ae.addEventListener("mouseleave",de.runObjHoverOut)),ce=t,ae.style.display="block",ae.innerText=n;var c=ae.getBoundingClientRect().width,u=window.innerWidth,f=o+(l/2-c/2);f+c>=u-10?f=u-10-c:f<=10&&(f=10);var d=a-(s+10);d<=10&&(d=a+s+10),ae.style.left="".concat(f,"px"),ae.style.top="".concat(d,"px")},hideTooltip:function(t){null==ae||null!=t&&t!==ce||(ae.style.display="none",ae.innerText="",ae.style.left=0,ce=void 0)},updateTooltip:function(t,e){var n=ae.getBoundingClientRect().width;ae.innerText=e,ae.style.left="".concat(t-n/2,"px")},runObjHoverOut:function(){null!=ce?ce.onHoverOut():de.hideTooltip()}},he=de;function pe(t){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pe(t)}function ye(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==pe(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==pe(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===pe(o)?o:String(o)),i)}var r,o}var be=DS,ve=be.dom,me=be.pubSub,ge=be.events,we=be._,Se=be.constants,ke=be.keyManager,Oe=be.focusManager,Ce=(be.flagManager,be.stringTabler),Ee=be.detection,Le="click",Te=function(){return Ee.deviceView.isUnifiedDesktop},xe=function(){function t(e){var n=this;for(var i in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=e.el,this.view=e,this.model=e.model,e.children)this[i+"El"]=e.children[i].el;DS.flagManager.multiLangSupport||DS.flagManager.aiCourseTranslation?(e.simpleView||(DS._.bindAll(this,"onFocus","onBlur","onLayoutChange"),this.el.addEventListener("focusin",this.onFocus),this.el.addEventListener("focusout",this.onBlur),me.on(ge.frameModel.LAYOUT_CHANGED,this.onLayoutChange)),me.on(ge.strings.UPDATE_STRINGS,(function(){return n.onStringsUpdated()}))):(DS._.bindAll(this,"onFocus","onBlur","onLayoutChange"),this.el.addEventListener("focusin",this.onFocus),this.el.addEventListener("focusout",this.onBlur),me.on(ge.frameModel.LAYOUT_CHANGED,this.onLayoutChange)),Te()&&(we.bindAll(this,"onHoverIn","onHoverOut","onMainKeydown"),document.body.addEventListener("mouseenter",this.onHoverOut),this.el.addEventListener("mouseenter",this.onHoverIn),this.el.addEventListener("mouseleave",this.onHoverOut),this.hasTooltip&&this.el.addEventListener("mouseup",this.onHoverOut),document.addEventListener("keydown",this.onMainKeydown))}var e,n,i;return e=t,(n=[{key:"onClick",value:function(t){this.el.addEventListener(Le,t.bind(this))}},{key:"onClickEl",value:function(t,e){t.addEventListener(Le,e.bind(this))}},{key:"on",value:function(t,e){this.el.addEventListener(t,e.bind(this))}},{key:"getViewBox",value:function(){return this.view.getBox()}},{key:"onFocus",value:function(t){var e=this.getViewBox(),n=e.x,i=e.y,r=e.w,o=e.h;Oe.setFocusRectOn(this.el,{left:n,top:i,width:r,height:o}),this.onHoverIn(t),this.hasFocus=!0}},{key:"onBlur",value:function(t){Oe.takeFocusOff(),this.onHoverOut(t),this.hasFocus=!1}},{key:"getTooltipString",value:function(){return Ce.getString(this.tooltipKey)}},{key:"onHoverIn",value:function(t){var e=this;if(Te()&&this.hasTooltip&&(null==this.hideTooltipWhenOpen||!this.isOpen)){var n=this.getTooltipString(t);if(null==n&&"seek"===this.view.nameKey)return void setTimeout((function(){return e.onHoverIn(t)}),200);he.hideTooltip();var i=this.getViewBox(t),r=i.x,o=i.y,a=i.w,l=i.h;he.setTooltipOn(this,{left:r,top:o,width:a,height:l},n),this.tooltipMoves&&this.setForFollowMouse(),this.tooltipOn=!0}}},{key:"dismissTooltip",value:function(){he.hideTooltip(this),this.tooltipMoves&&this.stopFollowMouse(),this.tooltipOn=!1}},{key:"onHoverOut",value:function(){var t=this;Te()&&this.hasTooltip&&this.tooltipOn&&setTimeout((function(){var e=document.elementFromPoint(ve.mouseX,ve.mouseY);null!=e&&(t.el.contains(e)||"tooltip"===e.id||t.dismissTooltip())}),200)}},{key:"onMainKeydown",value:function(t){ke.isKey(t.which,Se.keys.ESCAPE)&&(t.stopPropagation(),this.dismissTooltip())}},{key:"teardown",value:function(){me.off(ge.frameModel.LAYOUT_CHANGED,this.onLayoutChange),Ee.deviceView.isUnifiedDesktop&&(document.body.removeEventListener("mouseenter",this.onHoverOut),this.el.removeEventListener("mouseenter",this.onHoverIn),this.el.removeEventListener("mouseleave",this.onHoverOut),this.el.removeEventListener("mousedown",this.dismissTooltip),document.removeEventListener("keydown",this.onMainKeydown),this.tooltipOn&&(this.onHoverOut(),this.tooltipMoves&&this.stopFollowMouse()))}},{key:"onLayoutChange",value:function(){}},{key:"onStringsUpdated",value:function(){this.view.updateStrings()}}])&&ye(e.prototype,n),i&&ye(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Pe(t){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pe(t)}function Ie(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Pe(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Pe(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Pe(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _e=DS,je=_e._,De=_e.pubSub,Ae=_e.events,Re=_e.detection,Be=_e.constants.MOBILE_UI_SIZE,Me="top ".concat(150,"ms ease-in-out");function He(t){return He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},He(t)}function Ne(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==He(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==He(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===He(o)?o:String(o)),i)}var r,o}function Fe(t,e){return Fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fe(t,e)}function Ve(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=We(t);if(e){var r=We(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===He(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ue(t)}(this,n)}}function Ue(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function We(t){return We=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},We(t)}var ze=DS,Ze=ze.pubSub,Ke=ze.events,Ge=ze._,Qe=ze.utils,qe=(ze.flagManager,function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fe(t,e)}(o,t);var e,n,i,r=Ve(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=r.call(this,t),Ge.bindAll(Ue(e),"onSlideChange","onAriaToggle"),Ze.on(Ke.slide.HAS_MOUNTED,e.onSlideChange),Ze.on(Ke.slide.ARIA_TOGGLE,e.onAriaToggle),e.teardownPushableSlide=function(t){var e;if(!Re.deviceView.isPhone)return je.noop;function n(){t.view.el.style.transition=null,t.view.el.style.top="0px"}function i(e){t.view.el.style.transition=Me;var n=.45*window.innerHeight-10,i=-(t.view.bottom()-n),r=t.view.y+i,o=0;r<Be&&Re.theme.isUnified?o=Be-r+10:r<0&&(o=-1*r+10),t.view.el.style.top="".concat(i+o,"px")}function r(){t.view.el.style.transition=Me,t.view.el.style.top="".concat(0,"px")}return De.on((Ie(e={},Ae.threeSixtyImage.UN_PUSH_LABEL,n),Ie(e,Ae.threeSixtyImage.PUSH_UP_BY_LABEL,i),Ie(e,Ae.threeSixtyImage.PUSH_DOWN_BY_LABEL,r),e)),function(){n(),De.off(Ae.threeSixtyImage.UN_PUSH_LABEL,n),De.off(Ae.threeSixtyImage.PUSH_UP_BY_LABEL,i),De.off(Ae.threeSixtyImage.PUSH_DOWN_BY_LABEL,r)}}(Ue(e)),e}return e=o,(n=[{key:"onAriaToggle",value:function(t){t.hidden?(this.el.setAttribute("aria-hidden",!0),this.el.setAttribute("tabindex",0)):(this.el.removeAttribute("aria-hidden"),this.el.removeAttribute("tabindex"))}},{key:"teardown",value:function(){Ze.off(Ke.slide.HAS_MOUNTED,this.onSlideChange),this.teardownPushableSlide()}},{key:"onSlideChange",value:function(t){null!=this.labelEl&&this.view.nameSpace===t.props.windowId&&(this.labelEl.textContent="".concat(G.model.getString("slide"),": ").concat(Qe.stripTags(t.props.model.title())))}},{key:"onFocus",value:function(){}},{key:"onBlur",value:function(){}}])&&Ne(e.prototype,n),i&&Ne(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(xe)),Ye=DS,Xe=Ye.constants.MOBILE_UI_SIZE,$e=Ye.detection.orientation,Je="slide";G.def(Je,qe,(function(t){var e=G.model;G.getNamespace(t).optionPane;return{attrs:{id:Je,class:Je},methods:{getAvailableWidth:function(){return le.width-($e.isLandscape?Xe:0)},getAvailableHeight:function(){return le.height-($e.isLandscape?0:Xe)}},winScale:function(){var t=e.slideWidth,n=e.slideHeight;return Math.min(this.getAvailableWidth()/t,this.getAvailableHeight()/n)},origin:"0 0",w:function(){return e.slideWidth*this.winScale},h:function(){return e.slideHeight*this.winScale},x:function(){return(this.getAvailableWidth()-this.w)/2},y:function(){return(this.getAvailableHeight()-this.h)/2},z:1,overflow:"visible",add:!0,html:'<div id="slide-label" data-ref="label" aria-live="polite"></div>\n      <main class="slide-container" data-ref="container" aria-live="off" tabindex="-1"></main>'}}));var tn="frame";function en(t){return en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},en(t)}function nn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==en(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==en(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===en(o)?o:String(o)),i)}var r,o}function rn(t,e){return rn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rn(t,e)}function on(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=ln(t);if(e){var r=ln(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===en(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return an(t)}(this,n)}}function an(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ln(t){return ln=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ln(t)}G.def(tn,(function(){return{attrs:{id:tn},x:0,y:0,w:"100%",h:"100%",z:2}}));var sn=DS,cn=sn.detection,un=sn._,fn=sn.pubSub,dn=sn.events,hn=sn.globalEventHelper.addWindowListener,pn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rn(t,e)}(o,t);var e,n,i,r=on(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=r.call(this,t),un.bindAll(an(e),"onLayoutReady"),cn.deviceView.isTablet&&hn("resize",(function(){window.requestAnimationFrame((function(){e.view.update()}))})),fn.on(dn.frame.LAYOUT_READY,e.onLayoutReady),e}return e=o,(n=[{key:"onLayoutReady",value:function(t){this.view.layout=t}},{key:"teardown",value:function(){fn.off(dn.frame.LAYOUT_READY,this.onLayoutReady)}}])&&nn(e.prototype,n),i&&nn(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(xe),yn=DS,bn=yn.constants.MOBILE_UI_SIZE,vn=yn.detection,mn=vn.deviceView.isPhone,gn=vn.orientation,wn=yn.dom,Sn="optionPane";G.def(Sn,pn,(function(t){G.model;var e=G.getNamespace(t),n=e.fullScreenOpen,i=e.captions,r=e.settings,o=e.seek,a=e.playPause,l=e.submit,s=e.next,c=e.prev;return{tag:"section",attrs:{id:Sn,class:_.kebabCase(Sn)},wl:function(){return bn},wp:function(){return window.innerWidth},hl:function(){return window.innerHeight},hp:function(){return bn},xl:function(){return window.innerWidth-bn},xp:0,yl:0,yp:function(){return window.innerHeight-bn},z:4,childVisibilityChangedHook:function(){this.update()},methods:{moveButtonsToOverflow:function(){var t=[n,i,r,a,l,s,c].filter((function(t){return t&&t.visible}));this.applyOverflowVisibility(t,[i])},applyOverflowVisibility:function(t,e){for(this.ctrlOverflow=[];t.length>5&&e.length>0;){var n=e.pop(),i=t.indexOf(n);i>=0&&(t.splice(i,1),n.setVisibility(!1),this.ctrlOverflow.push(n),wn.addClass(this.el,"".concat(n.nameKey,"-overflow")))}return t},revertOverflowVisibility:function(){var t=this;null!=this.ctrlOverflow&&this.ctrlOverflow.forEach((function(e){e.setVisibility(e.layoutDefaultVisible),wn.removeClass(t.el,"".concat(e.nameKey,"-overflow"))}))}},updateHook:function(){if(this.hasAllChildren())if(mn&&(this.revertOverflowVisibility(),this.moveButtonsToOverflow()),gn.isPortrait){this.layout.seek&&o.setVisibility(!0),o.width=0;var t=this.calcChildrensWidth();o.width=this.w-t,this.flowChildren({sizeToChildren:!0,reverse:!1})}else o.setVisibility(!1),this.flowChildren({vertical:!0,sizeToChildren:!0,reverse:!1})},overflow:"visible"}}));var kn=function(){return"no icon"},On={hamburger:function(){return'<svg class="cs-icon hamburger-icon" width="40" height="36" viewBox="0 0 40 36" focusable="false">\n    <g id="icon-menu-mobile">\n    <rect width="40" height="4"></rect>\n    <rect y="16" width="40" height="4"></rect>\n    <rect y="32" width="40" height="4"></rect>\n    </g>\n  </svg>'},play:function(){return'<svg class="cs-icon play-icon" width="13" height="15" viewBox="0 0 13 15" focusable="false">\n    <path id="icon-play" d="M 13 7.15 L 2 0 2 14.3 13 7.15 Z"/>\n  </svg>'},next:function(){return'<svg className="cs-icon pause-icon" width="40" height="36" viewBox="0 0 40 36" focusable="false">\n    <path transform="translate(0, -5)" d="M39.414,16.587L22.826,0L20,2.826L33.175,16H0v4h33.175L20,33.174L22.826,36l16.588-16.587C40.195,18.633,40.195,17.368,39.414,16.587z"/>\n  </svg>'},prev:function(){return'<svg class="cs-icon prev-mobile-icon" width="40" height="36" viewBox="0 0 40 36" focusable="false">\n    <path transform="translate(0, -5)" d="M0.586,19.413L17.174,36L20,33.174L6.825,20H40v-4H6.825L20,2.826L17.174,0L0.586,16.587C-0.195,17.367-0.195,18.632,0.586,19.413z"/>\n  </svg>'},pause:function(){return'<svg class="cs-icon pause-icon" width="12" height="14" viewBox="0 0 12 14" focusable="false">\n    <g id="icon-pause">\n      <rect x="0" width="4" height="14"/>\n      <rect x="8" width="4" height="14"/>\n    </g>\n  </svg>'},submit:function(){return'<svg class="cs-icon submit-icon" width="40" height="30" viewBox="0 0 40 30" focusable="false">\n    <path transform="translate(0, -5)" d="M12.685,30c-0.538,0-1.053-0.218-1.429-0.604L0,17.832l2.857-2.8l9.827,10.097L37.143,0L40,2.8L14.114,29.396C13.738,29.782,13.222,30,12.685,30z"/>\n  </svg>'},close:function(){return'\n    <svg class="cs-icon icon-close" width="36" height="36" viewBox="0 0 36 36" focusable="false">\n      <polygon points="36,2.826 33.174,0 18,15.174 2.826,0 0,2.826 15.174,18 0,33.174 2.826,36 18,20.826 33.174,36 36,33.174 20.826,18" />\n    </svg>'},captions:function(t){return'<svg class="cs-icon caption-icon" width="22px" height="20px" viewBox="0 0 22 20" focusable="false">\n    <g stroke="none" stroke-width="1" fill-rule="evenodd" focusable="false">\n      <g>\n        <path d="M14.8517422,14 L20.008845,14 C21.1103261,14 22,13.1019465 22,11.9941413 L22,2.00585866 C22,0.897060126 21.1085295,0 20.008845,0 L1.991155,0 C0.889673948,0 0,0.898053512 0,2.00585866 L0,11.9941413 C0,13.1029399 0.891470458,14 1.991155,14 L8.09084766,14 L11.4712949,17.3804472 L14.8517422,14 Z M3,4 L13,4 L13,6 L3,6 L3,4 Z M14,4 L19,4 L19,6 L14,6 L14,4 Z M19,8 L8,8 L8,10 L19,10 L19,8 Z M7,8 L3,8 L3,10 L7,10 L7,8 Z"></path>\n      </g>\n    </g>\n  </svg>'},disableOrientation:function(){return'<svg viewBox="0 0 161 135">\n    <g stroke="none" stroke-width="1" fill="#fff" fill-rule="evenodd">\n      <path d="M59,31.9948589 C59,30.340844 60.3408574,29 62.0069809,29 L99.9930191,29 C101.653729,29 103,30.3364792 103,31.9948589 L103,103.005141 C103,104.659156 101.659143,106 99.9930191,106 L62.0069809,106 C60.3462712,106 59,104.663521 59,103.005141 L59,31.9948589 Z M61,36 L101,36 L101,96 L61,96 L61,36 Z M81,104 C82.6568542,104 84,102.656854 84,101 C84,99.3431458 82.6568542,98 81,98 C79.3431458,98 78,99.3431458 78,101 C78,102.656854 79.3431458,104 81,104 Z M76,32.5 C76,32.2238576 76.2276528,32 76.5096495,32 L85.4903505,32 C85.7718221,32 86,32.2319336 86,32.5 C86,32.7761424 85.7723472,33 85.4903505,33 L76.5096495,33 C76.2281779,33 76,32.7680664 76,32.5 Z"></path>\n      <path d="M144.276039,68.4976037 C143.65768,83.6270348 137.530567,98.6224671 125.961909,110.191125 C101.576936,134.576098 62.1020027,134.704192 37.8006658,110.402855 L37.8275751,110.429765 L33.4090737,114.848266 L33.3821643,114.821357 C60.1400795,141.579272 103.595566,141.480117 130.445572,114.630111 C143.247134,101.828549 149.95913,85.2399018 150.581333,68.4976037 L161.373625,68.4976037 L147.23149,54.3554681 L133.089354,68.4976037 L144.276049,68.4976037 Z"></path>\n      <path d="M17.2900541,66.5559885 C17.8833587,51.3895735 24.012088,36.3498513 35.6085461,24.7533932 C59.9935191,0.36842015 99.4684528,0.240325436 123.76979,24.5416624 L123.74288,24.514753 L128.161382,20.0962516 L128.188291,20.1231609 C101.430376,-6.63475424 57.9748898,-6.5355989 31.1248839,20.314407 C18.2955218,33.1437691 11.582203,49.7766814 10.9851551,66.5559885 L0.259994507,66.5559885 L14.4021301,80.6981242 L28.5442658,66.5559885 L17.2900541,66.5559885 Z"></path>\n    </g>\n  </svg>'},search:function(){return'<svg class="cs-icon search-icon" width="22" height="22" viewBox="0 0 40 40" focusable="false">\n    <g id="icon-search" transform="translate(4, 0)">\n      <path d="M14.1378906,27.4473684 C21.6653507,27.4473684 27.7757813,21.4196023 27.7757813,13.9736842 C27.7757813,6.52776609 21.6653507,0.5 14.1378906,0.5 C6.61043053,0.5 0.5,6.52776609 0.5,13.9736842 C0.5,21.4196023 6.61043053,27.4473684 14.1378906,27.4473684 L14.1378906,27.4473684 Z M14.1378906,24.4473684 C8.25820695,24.4473684 3.5,19.7535325 3.5,13.9736842 C3.5,8.19383595 8.25820695,3.5 14.1378906,3.5 C20.0175743,3.5 24.7757813,8.19383595 24.7757813,13.9736842 C24.7757813,19.7535325 20.0175743,24.4473684 14.1378906,24.4473684 L14.1378906,24.4473684 Z" ></path>\n      <path d="M20.887408,24.4494377 L31.4348235,34.8541634 L32.5026823,35.9075758 L34.609507,33.7718582 L33.5416482,32.7184459 L22.9942327,22.3137202 L21.9263739,21.2603078 L19.8195492,23.3960254 L20.887408,24.4494377 L20.887408,24.4494377 Z" ></path>\n    </g>\n  </svg>'},enterFullScreen:function(){return'<svg class="cs-icon enter-fullscreen-icon" width="25" height="25" viewBox="0 0 32 32" focusable="false">\n    <g>\n      <path d="M0,0 L12,0 L12,3 L3,3 L3,12 L0,12 L0,0 Z"/>  \n      <path d="M20,0 L32,0 L32,12, L29,12, L29,3, L20,3, L20,0 Z"/>\n      <path d="M0,20 L3,20 L3,29, L12,29, L12,32, L0,32, L0,20 Z"/>\n      <path d="M29,20 L32,20 L32,32, L20,32, L20,29, L29,29, L29,20 Z"/>\n    </g>\n  </svg>'},settings:function(){return'\n    <svg class="cs-icon" data-ref="settings" width="16px" height="16px" viewBox="0 0 16 16" focusable="false">\n      <path d="M8.94,0 C9.82,0 10.55,0.62 10.63,1.45 L10.73,2.36 C11.1,2.52 11.45,2.71 11.78,2.94 L12.66,2.56 C13.46,2.22 14.39,2.5 14.83,3.23 L15.77,4.77 C16.21,5.5 16,6.4 15.29,6.9 L14.51,7.42 C14.54,8.19 14.53,8.38 14.51,8.58 L15.29,9.11 C16,9.6 16.21,10.51 15.77,11.23 L14.83,12.77 C14.39,13.49 13.46,13.78 12.66,13.44 L11.78,13.06 C11.45,13.29 11.1,13.48 10.73,13.64 L10.63,14.55 C10.55,15.38 9.82,16 8.94,16 L7.06,16 C6.18,16 5.45,15.38 5.37,14.55 L5.27,13.64 C4.9,13.48 4.55,13.29 4.22,13.06 L3.34,13.44 C2.54,13.78 1.61,13.5 1.17,12.77 L0.23,11.23 C-0.21,10.51 0,9.6 0.71,9.11 L1.49,8.58 C1.46,7.81 1.47,7.62 1.49,7.42 L0.71,6.89 C0,6.40 -0.21,5.49 0.23,4.77 L1.17,3.23 C1.61,2.51 2.54,2.22 3.34,2.56 L4.22,2.94 C4.55,2.71 4.9,2.52 5.27,2.36 L5.37,1.45 C5.45,0.62 6.18,0 7.06,0 Z M7.96,4.53 C5.91,4.53 4.25,6.11 4.25,8.06 C4.25,10.01 5.91,11.59 7.96,11.59 C10.02,11.59 11.68,10.01 11.68,8.06 C11.68,6.11 10.02,4.53 7.96,4.53 Z"></path>\n    </svg>\n    '},track:function(t){return'\n      <svg xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="16px" viewBox="0 0 24 16" focusable="false">\n        <defs>\n            <rect id="'.concat(t,'-track" x="2" y="3.5" width="20" height="9" rx="4.5"></rect>\n            <filter x="-12.5%" y="-27.8%" width="125.0%" height="155.6%" filterUnits="objectBoundingBox" id="').concat(t,'-trackFilter">\n                <feGaussianBlur stdDeviation="1.5" in="SourceAlpha" result="shadowBlurInner1"></feGaussianBlur>\n                <feOffset dx="0" dy="1" in="shadowBlurInner1" result="shadowOffsetInner1"></feOffset>\n                <feComposite in="shadowOffsetInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"></feComposite>\n                <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0" type="matrix" in="shadowInnerInner1"></feColorMatrix>\n            </filter>\n        </defs>\n        <g class="thumb-off" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <use fill="#303030" fill-rule="evenodd" xlink:href="#').concat(t,'-track"></use>\n                <use fill="black" fill-opacity="1" filter="url(#').concat(t,'-trackFilter)" xlink:href="#').concat(t,'-track"></use>\n                <use stroke="#595959" stroke-width="1" xlink:href="#').concat(t,'-track"></use>\n                <circle fill="#B4B4B4" stroke-width="0" cx="8" cy="8" r="5"></circle>\n            </g>\n        </g>\n        <g class="thumb-on" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <use fill="#505050" fill-rule="evenodd" xlink:href="#').concat(t,'-track"></use>\n                <use fill="black" fill-opacity="1" filter="url(#').concat(t,'-trackFilter)" xlink:href="#').concat(t,'-track"></use>\n                <use stroke="#595959" stroke-width="1" xlink:href="#').concat(t,'-track"></use>\n                <circle fill="#6EBBEF" stroke-width="0" cx="16" cy="8" r="6"></circle>\n            </g>\n        </g>        \n    </svg>\n    ')},downArrow:function(){return'\n      <svg width="22px" height="11px" viewBox="0 0 22 11" focusable="false">\n        <path d="M 0 0 L 11 11 22 0" fill="#191c1d"/>\n      </svg>\n    '}},Cn=function(t){return On[t]||kn},En=function(t){var e=G.model.frame.controlOptions.controls.search;return'\n    <button\n      class="hamburger"\n      aria-expanded="false"\n      data-ref="burger"\n      aria-label="'.concat(G.model.getString("sidebar_toggle"),'">\n        ').concat(Cn("hamburger")(),"\n    </button>\n    ").concat(e?function(t){return'\n    <button\n      class="search-toggle-btn search-toggle-'.concat(t,'"\n      aria-pressed="false"\n      data-ref="searchBtn"\n      aria-label="').concat(G.model.getString("search_toggle"),'">\n        ').concat(Cn("search")(),"\n    </button>")}(t):"","\n  ")},Ln=DS.constants.MOBILE_UI_SIZE,Tn="hamburger";function xn(t){return xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xn(t)}function Pn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==xn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==xn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===xn(o)?o:String(o)),i)}var r,o}G.def(Tn,(function(){G.model;return{attrs:{id:Tn},x:0,y:0,w:Ln,h:Ln,overflow:"visible",updateHook:function(){var t,e,n,i,r,o;this.setEnabled((t=G.model,e=t.topTabsLeft,n=t.topTabsRight,i=t.sidebarTabs,r=t.currControlLayout,o=function(t){return t.some((function(t){var e=t.name,n=r[e];return"outline"===e?n.enabled:"customlink"===e||n}))},o(e)||o(n)||o(i)))},html:En("portrait")}}));var In=DS,_n=In._,jn=In.pubSub,Dn=In.events,An=In.dom.toggleClasses,Rn=(In.shortcutManager,function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.view=e,_n.bindAll(this,"onSlideChanged","onTimelineChanged","onPlaybackChanged"),jn.on(Dn.slide.STARTED,this.onSlideChanged)}var e,n,i;return e=t,(n=[{key:"teardown",value:function(){jn.off(Dn.slide.STARTED,this.onSlideChanged)}},{key:"onTimelineChanged",value:function(t,e){t!==this.currTimeline&&(jn.trigger(Dn.playbackControls.TIMELINE_CHANGED,t,e),null!=this.currTimeline&&(this.currTimeline.off(Dn.timeline.PLAYING,this.onPlaybackChanged),this.currTimeline.off(Dn.timeline.PAUSED,this.onPlaybackChanged),this.currTimeline.off(Dn.timeline.ENDED,this.onPlaybackChanged)),this.currTimeline=t,this.currTimeline.on(Dn.timeline.PLAYING,this.onPlaybackChanged),this.currTimeline.on(Dn.timeline.PAUSED,this.onPlaybackChanged),this.currTimeline.on(Dn.timeline.ENDED,this.onPlaybackChanged),this.onPlaybackChanged())}},{key:"onPlaybackChanged",value:function(){var t=this.view.children,e=t.reset,n=t.playPause,i=null!=this.currTimeline&&"playing"===this.currTimeline.playbackState();An(document.body,"timeline-playing","timeline-paused",i),An(document.body,"has-reset","no-reset",this.view.visible&&null!=e&&e.visible),null!=n&&n.viewLogic.onPlaybackChanged()}},{key:"onSlideChanged",value:function(t,e,n){this.view.el.tabIndex=0,this.view.el.tabIndex=-1,this.view.nameSpace===n&&(null!=this.currSlide&&this.currSlide.off(Dn.slide.CURRENT_TIMELINE,this.onTimelineChanged),this.currSlide=e,this.currSlide.on(Dn.slide.CURRENT_TIMELINE,this.onTimelineChanged),this.onTimelineChanged(e.currentTimeline(),e))}}])&&Pn(e.prototype,n),i&&Pn(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}()),Bn=DS,Mn=Bn.constants.MOBILE_UI_SIZE,Hn=Bn.detection.orientation,Nn="playbackControls";function Fn(t){return Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fn(t)}function Vn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Gn(i.key),i)}}function Un(t,e){return Un=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Un(t,e)}function Wn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Zn(t);if(e){var r=Zn(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Fn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return zn(t)}(this,n)}}function zn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zn(t){return Zn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zn(t)}function Kn(t,e,n){return(e=Gn(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gn(t){var e=function(t,e){if("object"!==Fn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Fn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Fn(e)?e:String(e)}G.def(Nn,Rn,(function(t){var e=G.getNamespace(t),n=e.hamburger,i=e.seek,r=G.model,o=(r.rtl,r.currControlLayout);o.pauseplay,o.seekbar;return{attrs:{id:Nn,"aria-label":"playback controls"},visibility:"no-reflow",overflow:"visible",x:0,yp:0,yl:function(){return null!=n?Mn:0},wp:function(){return this.width+(i.visible?0:i.w)||0},wl:"100%",hp:"100%",hl:function(){return this.height||0},noUpdate:!0,updateHook:function(){this.flowChildren({fullUpdate:!0,reverse:!1,sizeToChildren:!0,startPos:0,vertical:Hn.isLandscape});var t=this.children.some((function(t){return t.visible}));this.setVisibility(t)}}}));var Qn=DS,qn=Qn._,Yn=Qn.events,Xn=Qn.pubSub,$n=Qn.detection,Jn=Qn.dom.tappedClass,ti=Qn.keyManager,ei=Qn.stringTabler,ni=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Un(t,e)}(o,t);var e,n,i,r=Wn(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),Kn(zn(e=r.call(this,t)),"hasTooltip",!0),Kn(zn(e),"onTap",(function(t){Jn(e.el)})),Kn(zn(e),"onClickBtn",(function(t){1!==e.currTimeline.progress()?e.currTimeline.togglePlayback():$n.theme.isUnified&&e.currTimeline.reset()})),Kn(zn(e),"onKeydown",(function(t){var e=t.which;ti.isSeekKey(e)&&Xn.trigger(Yn.player.SEEK,t)})),Kn(zn(e),"onPlaybackChanged",(function(){e.updateToggle(),e.updateView()})),qn.bindAll(zn(e),"onTimelineChanged"),Xn.on(Yn.player.TOGGLE_PLAYBACK,e.onClickBtn),Xn.on(Yn.playbackControls.TIMELINE_CHANGED,e.onTimelineChanged),$n.deviceView.isMobile&&e.onClick(e.onTap),e.onClick(e.onClickBtn),e.el.addEventListener("keydown",e.onKeydown),e.view.toggle=!0,$n.deviceView.isMobile&&Xn.on(Yn.currTimeline.TICK,e.onTick.bind(zn(e))),e}return e=o,(n=[{key:"tooltipKey",get:function(){return this.view.toggle?"acc_pause":"acc_play"}},{key:"teardown",value:function(){Xn.off(Yn.currTimeline.TICK,this.onTick.bind(this))}},{key:"onTick",value:function(t){null!=this.circleProgress&&this.circleProgress.setAttribute("d",DS.svgUtils.wheelPath(17,17,17,0,360*t)),this.lastProgress=t}},{key:"updateView",value:function(){this.view.updateHtml(),this.circleProgress=this.el.querySelector(".circle-progress path"),this.onTick(this.lastProgress)}},{key:"updateToggle",value:function(){this.view.toggle="playing"===this.currTimeline.playbackState(),this.view.el.setAttribute("aria-pressed",!this.view.toggle),this.view.el.setAttribute("aria-label",ei.getString(this.view.toggle?"acc_pause":"acc_play"))}},{key:"onTimelineChanged",value:function(t){this.currTimeline=t,this.view.toggle=this.currTimeline.isPlaying(),this.updateView()}}])&&Vn(e.prototype,n),i&&Vn(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(xe),ii=DS.constants.MOBILE_UI_SIZE,ri="playPause";function oi(t){return oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oi(t)}function ai(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,fi(i.key),i)}}function li(t,e){return li=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},li(t,e)}function si(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=ui(t);if(e){var r=ui(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===oi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ci(t)}(this,n)}}function ci(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ui(t){return ui=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ui(t)}function fi(t){var e=function(t,e){if("object"!==oi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==oi(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===oi(e)?e:String(e)}G.def(ri,ni,(function(){var t=G.model;return{attrs:{id:ri,class:"play-pause-btn content-center cs-button","aria-pressed":!1,"aria-label":"".concat(t.getString("acc_play"),"/").concat(t.getString("acc_pause")),tabindex:-1},tag:"button",style:{background:"transparent",border:"none"},updateHook:function(){this.el.setAttribute("aria-pressed",!this.toggle)},html:function(){return'\n        <div style="transform:translate(0, -2px)">\n          '.concat(this.toggle?Cn("pause")():Cn("play")(),'\n        </div>\n\n        <svg class="circle-progress" width="38" height="38" viewBox="0 0 38 38">\n          <circle\n            cx="17" cy="17" r="17"\n            fill="#464646"\n            stroke="none" />\n\n          <path\n            d="M 0 0"\n            transform="rotate(-90 17 17)"\n            fill="white"\n            stroke="none" />\n\n          <circle\n            cx="17" cy="17" r="14.5"\n            fill="#31373a"\n            stroke="none" />\n        </svg>\n      ')},minW:ii,minH:ii,z:1}}));var di=DS,hi=di.detection,pi=di.dom,yi=di.pubSub,bi=di.events,vi={next:"acc_next_visual",prev:"acc_previous_visual",submit:"acc_submit"},mi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&li(t,e)}(o,t);var e,n,i,r=si(o);function o(t){var e,n,i,a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=r.call(this,t),n=ci(e),a=!0,(i=fi(i="hasTooltip"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,hi.deviceView.isMobile&&e.onClick(e.onTap),e.onClick(e.onClickBtn),e}return e=o,(n=[{key:"tooltipKey",get:function(){return vi[this.view.nameKey]}},{key:"onTap",value:function(t){pi.tappedClass(this.el)}},{key:"onClickBtn",value:function(t){var e=this.view,n=e.enabled,i=e.nameKey;n&&yi.trigger(bi.presentation.ON_OBJECT_EVENT,i+"_pressed")}},{key:"onLayoutChange",value:function(t){var e=this,n=this.view.nameKey;this.hasFocus&&(t[n]?window.requestAnimationFrame((function(){return e.onFocus()})):this.onBlur())}}])&&ai(e.prototype,n),i&&ai(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(xe),gi="next",wi=DS,Si=wi.detection,ki=Si.orientation,Oi=Si.deviceView.isTablet,Ci=wi.constants.MOBILE_UI_SIZE;G.def(gi,mi,(function(t){var e=G.model,n={tag:"button",attrs:{id:gi,class:"cs-button btn","aria-label":e.getString("acc_"+gi),tabindex:0},html:'\n      <div class="icon">\n        '.concat(Cn(gi)(),"\n      </div>\n    "),padLeft:6,padRight:6,wp:47,wl:Ci,minH:Ci,noUpdate:!0,parentAlign:"br",noContent:!1};return Oi&&Object.assign(n,{wp:"fit-to-text-w",wl:Ci,wPad:function(){return ki.isLandscape?0:20},calcTextSize:!0,html:'\n        <span class="txt">'.concat(e.getString(gi),'</span>\n        <div class="icon">\n          ').concat(Cn("next")(),"\n        </div>\n      "),beforeReflowHook:function(){this.doTextCalcs(),this.update()}}),n}));var Ei=DS,Li=Ei.detection,Ti=Li.orientation,xi=Li.deviceView.isTablet,Pi=Ei.constants.MOBILE_UI_SIZE,Ii="prev";G.def(Ii,mi,(function(){var t=G.model,e={tag:"button",attrs:{id:Ii,class:"cs-button btn","aria-label":t.getString("acc_"+Ii),tabindex:0},html:'\n      <div class="icon">\n        '.concat(Cn(Ii)(),"\n      </div>\n    "),padLeft:6,padRight:6,wp:47,wl:Pi,minH:Pi,noUpdate:!0,parentAlign:"br",noContent:!1};return xi&&Object.assign(e,{wp:"fit-to-text-w",wl:Pi,wPad:function(){return Ti.isLandscape?0:20},calcTextSize:!0,html:'\n        <span class="txt">'.concat(t.getString(Ii),'</span>\n        <div class="icon">\n          ').concat(Cn("prev")(),"\n        </div>\n      "),beforeReflowHook:function(){this.doTextCalcs(),this.update()}}),e}));var _i=DS,ji=_i.constants.MOBILE_UI_SIZE,Di=_i.detection.orientation,Ai="navControls";function Ri(t){return Ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ri(t)}function Bi(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Ui(i.key),i)}}function Mi(t,e){return Mi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Mi(t,e)}function Hi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Fi(t);if(e){var r=Fi(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Ri(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ni(t)}(this,n)}}function Ni(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fi(t){return Fi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fi(t)}function Vi(t,e,n){return(e=Ui(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ui(t){var e=function(t,e){if("object"!==Ri(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Ri(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ri(e)?e:String(e)}G.def(Ai,(function(t){G.model.rtl;var e=G.getNamespace(t).playbackControls;return{tag:"nav",attrs:{id:Ai,"aria-label":"slide navigation"},wp:function(){return this.width||0},wl:"100%",hp:"100%",hl:function(){return this.parent.h-ji},updateHook:function(){var t={reverse:!1,pad:0,fullUpdate:!0,sizeToChildren:!0};Di.isLandscape&&(t.sizeToChildren=!1,t.vertical=!0,t.toTop=!0,t.startPos=this.h-e.h,t.reverse=!0),this.flowChildren(t)}}}));var Wi=DS,zi=Wi._,Zi=Wi.detection,Ki=Wi.utils,Gi=Wi.keyManager,Qi=Wi.dom,qi=Wi.dom,Yi=qi.addClass,Xi=qi.removeClass,$i=Wi.globalEventHelper.addWindowListener,Ji=Wi.events,tr=Wi.pubSub,er=(Wi.stringTabler,function(t){for(;t.startsWith("0")&&!t.startsWith("0:");)t=t.substring(1);return t}),nr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mi(t,e)}(o,t);var e,n,i,r=Hi(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),Vi(Ni(e=r.call(this,t)),"hasTooltip",!0),Vi(Ni(e),"tooltipMoves",!0),zi.bindAll(Ni(e),"onTick","onSeek","onMouseDown","onMouseUp","onMouseMove","checkSeekable","onKeydown","onTimelineChanged","onChange"),tr.on(Ji.slide.STARTED,e.checkSeekable),tr.on(Ji.player.SEEK,e.onKeydown),tr.on(Ji.playbackControls.TIMELINE_CHANGED,e.onTimelineChanged),e.isUserControlled=!G.model.frame.controlOptions.controls.readonly||G.model.frame.controlOptions.controls.readonlyOnce,e.bindListeners(),e.isUp=!0,e}return e=o,(n=[{key:"bindListeners",value:function(){if(this.isUserControlled){var t=Zi.deviceView.isClassicDesktop?this.seekEl:this.view.el;Zi.device.isMobile?(t.addEventListener("touchstart",this.onMouseDown),this.seekEvent="touchmove",this.endEvent="touchend"):(t.addEventListener("mousedown",this.onMouseDown),t.addEventListener("keydown",this.onKeydown),this.seekEvent="mousemove",this.endEvent="mouseup"),this.progressBarEl.addEventListener("change",this.onChange)}}},{key:"isSeekable",value:function(){if(null==this.currSlide)return!1;var t=G.model.frame.controlOptions.controls,e=t.readonly,n=t.readonlyOnce;return!(e&&!n||n&&!this.currSlide.currentTimelineCompletedOnce())}},{key:"getSeekValue",value:function(t){var e=this.view.getBox();return Ki.clamp(0,1,(t-e.x)/e.w)}},{key:"getEventX",value:function(t){return Zi.device.isMobile?t.touches[0]&&t.touches[0].pageX:t.pageX}},{key:"onTimelineChanged",value:function(t,e){null!=this.currTimeline&&(this.currTimeline.off(Ji.timeline.TICK,this.onTick),this.currTimeline.off(Ji.timeline.COMPLETE,this.checkSeekable)),this.currSlide=e,this.currTimeline=t,this.currTimeline.on(Ji.timeline.TICK,this.onTick),this.currTimeline.on(Ji.timeline.COMPLETE,this.checkSeekable);var n=this.currTimeline.progress();this.duration=Ki.toSeconds(this.currTimeline.timelineDuration()),this.progressBarEl.max=Math.round(1e3*this.duration),this.progressBarEl.step=100,isNaN(n)&&(n=0),this.onTick(n),this.checkSeekable()}},{key:"checkSeekable",value:function(){this.isSeekable()?(Xi(this.el,"read-only"),this.progressBarEl.disabled=!1):(Yi(this.el,"read-only"),this.progressBarEl.disabled=!0)}},{key:"onTick",value:function(t){var e=100*t;this.progressBarFillEl.style.width="".concat(e,"%"),this.progressBarEl.setAttribute("aria-valuetext","".concat(Math.round(e),"%")),this.progressBarEl.value=this.currTimeline.timeline?this.currTimeline.timeline.currentTime:0,tr.trigger(Ji.currTimeline.TICK,t,Math.floor(this.progressBarEl.value))}},{key:"onSeek",value:function(t){var e=this;t.preventDefault(),t.stopPropagation(),this.seeking=!0,!0!==this.isUp&&this.currTimeline.isPlaying()&&(this.currTimeline.pause(!0),this.currTimeline.on(Ji.timeline.AFTER_SEEK_UPDATE,(function t(){e.currTimeline.play(),e.currTimeline.off(Ji.timeline.AFTER_SEEK_UPDATE,t)})));var n=this.getEventX(t);null!=n&&this.currTimeline.progress(this.getSeekValue(n)),this.isUp=!1}},{key:"seekBy",value:function(t,e){var n=this;t.preventDefault();var i=(this.currTimeline.elapsedTime()+e)/this.currTimeline.duration();this.currTimeline.onSeekStart(),this.currTimeline.progress(i),this.currTimeline.onSeekEnd(),this.currTimeline.isPlaying()&&(this.currTimeline.pause(),setTimeout((function(){return n.currTimeline.play()}),125))}},{key:"isEnded",value:function(){return this.currTimeline.progress()>=1}},{key:"onChange",value:function(t){this.currTimeline.progress(this.progressBarEl.value/this.progressBarEl.max)}},{key:"onMouseDown",value:function(t){this.isUp=!1,this.removeEndListener=$i(this.endEvent,this.onMouseUp),this.removeSeekListener=$i(this.seekEvent,this.onSeek),this.currTimeline.onSeekStart(),this.onSeek(t)}},{key:"onMouseUp",value:function(t){this.onSeek(t),this.removeEndListener(),this.removeSeekListener(),this.isUp=!0,this.currTimeline.onSeekEnd()}},{key:"onKeydown",value:function(t){var e=t.which;Gi.isActionKey(e)?tr.trigger(Ji.player.TOGGLE_PLAYBACK):this.isSeekable()&&(Gi.isDownishKey(e)?this.seekBy(t,-100):Gi.isPageDownKey(e)?this.seekBy(t,-1e3):Gi.isUpishKey(e)?this.seekBy(t,100):Gi.isPageUpKey(e)&&this.seekBy(t,1e3))}},{key:"getViewBox",value:function(t){var e=this.view.getBox();return null!=t&&(e.x="focusin"===t.type?e.x+e.w/2:t.pageX,e.w=2),e}},{key:"onMouseMove",value:function(t){he.updateTooltip(t.pageX,this.getTooltipString())}},{key:"setForFollowMouse",value:function(){this.el.addEventListener("mousemove",this.onMouseMove)}},{key:"stopFollowMouse",value:function(){this.el.removeEventListener("mousemove",this.onMouseMove)}},{key:"getTooltipString",value:function(t){if(null!=this.duration){this.view.getBox().x;var e=this.getSeekValue(Qi.mouseX)*this.duration;null!=t&&"focusin"===t.type&&(e=Math.floor(Ki.toSeconds(this.progressBarEl.value)));var n=Ki.formatSecondsAsTime(e),i=Ki.formatSecondsAsTime(this.duration);return"".concat(er(n)," / ").concat(er(i))}}}])&&Bi(e.prototype,n),i&&Bi(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(xe),ir="seek";G.def(ir,nr,(function(){var t=G.model,e=G.model.frame.controlOptions.controls,n=e.readonly,i=e.seekbar;return{attrs:{id:ir,tabindex:-1,class:"progress-bar cs-seekcontrol ".concat(n?"read-only":"")},y:function(){return this.parent.h/3},overflow:"visible",noUpdate:!0,w:function(){return this.width||0},h:30,html:'\n      <div class="cs-seekbar-inner progress-bar-inner slide-lockable">\n        <div class="cs-seek progress-bar-seek">\n          <div data-ref="progressBarFill" class="cs-fill progress-bar-fill" style="width: 0px">\n          </div>\n        </div>\n        <input\n          aria-hidden="'.concat(!i,'"\n          ').concat(n?"disabled":"",'\n          data-ref="progressBar"\n          type="range"\n          tabindex="0"\n          aria-label="').concat(t.getString("acc_slide_progress"),'"\n        />\n      </div>\n    ')}}));var rr=DS,or=rr.constants.MOBILE_UI_SIZE,ar=rr.detection,lr=ar.orientation,sr=ar.deviceView.isTablet,cr="submit";G.def(cr,mi,(function(){var t=G.model,e={tag:"button",attrs:{id:cr,class:"cs-button btn","aria-label":t.getString("acc_"+cr),tabindex:0},html:'\n      <div class="icon">\n        '.concat(Cn(cr)(),"\n      </div>\n    "),overflow:"visible",padLeft:6,padRight:6,wp:47,wl:or,minH:or,noUpdate:!0,parentAlign:"br",noContent:!1};return sr&&Object.assign(e,{wp:"fit-to-text-w",wl:or,wPad:function(){return lr.isLandscape?0:20},calcTextSize:!0,html:'\n        <span class="txt">'.concat(t.getString(cr),'</span>\n        <div class="icon">\n          ').concat(Cn(cr)(),"\n        </div>\n      "),beforeReflowHook:function(){this.doTextCalcs(),this.update()}}),e}));function ur(t){return ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ur(t)}function fr(t,e,n){return(e=hr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dr(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,hr(i.key),i)}}function hr(t){var e=function(t,e){if("object"!==ur(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==ur(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ur(e)?e:String(e)}function pr(t,e){return pr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pr(t,e)}function yr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=vr(t);if(e){var r=vr(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===ur(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return br(t)}(this,n)}}function br(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vr(t){return vr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vr(t)}var mr=DS,gr=mr.events,wr=mr.pubSub,Sr=mr.detection.orientation,kr=(mr.utils.getPath,mr.dom.hasClass),Or=mr._,Cr=Or.bindAll,Er=Or.first,Lr=Or.kebabCase,Tr=mr.globalEventHelper.addWindowListener,xr=mr.constants.MOBILE_ANIMATION_DURATION,Pr=/Panel$/,Ir=/Link$/,_r=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pr(t,e)}(o,t);var e,n,i,r=yr(o);function o(t){var e,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this,t)).ns=G.getCurrentNameSpace(),Cr(br(n),"onShow","onHide","onCloseClick","onLayoutReady","onCheckLayoutLandscape"),wr.on((fr(e={},gr.tab.SHOW,n.onShow),fr(e,gr.tab.HIDE,n.onHide),fr(e,gr.frame.LAYOUT_READY,n.onLayoutReady),e)),o.current=Er(n.view.children),n.onClickEl(n.tabCloseEl,n.onCloseClick),Tr("resize",n.onCheckLayoutLandscape),n}return e=o,n=[{key:"isDeactivated",value:function(t){return kr(document.body,"no-"+t)}},{key:"onCheckLayoutLandscape",value:function(){!this.view.visible&&null!=this.lastViewVisibility&&Sr.isLandscape&&(this.onLayoutReady(this.lastViewVisibility),this.lastViewVisibility=null)}},{key:"onLayoutReady",value:function(t){var e=this;if(null==this.lastLink||!t[this.lastLink.nameKey])if(Sr.isLandscape){var n=this.ns.tabs.children;o.panelAvailable=n.some((function(n){var i=n.nameKey.replace(Ir,""),r=Ir.test(n.nameKey)&&t[n.nameKey]&&!e.isDeactivated(i);return r&&e.onShow(n.nameKey.replace(Ir,"Panel"),!1),r})),this.lastViewVisibility=null}else this.lastViewVisibility=t}},{key:"onCloseClick",value:function(){Sr.isLandscape?this.ns.sidebar.viewLogic.toggle():wr.trigger(DS.events.tab.HIDE)}},{key:"onShow",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.view.children[t];if(this.view.setVisibility(e),null!=this.lastPanel&&this.lastPanel.setVisibility(!1),null!=n){n.setVisibility(e),o.current=n;var i=this.ns[t.replace(Pr,"Link")];this.lastLink=i,i.viewLogic.select(),e&&(wr.trigger(gr.slide.ARIA_TOGGLE,{hidden:!0}),"outlinePanel"===t?wr.trigger(gr.mobile.OUTLINE_SHOWN):"transcriptPanel"===t&&wr.trigger(gr.mobile.NOTES_SHOWN),document.body.classList.add("tab-shown"),null!=this.prevPanelName&&document.body.classList.remove(this.prevPanelName),this.prevPanelName=this.activePanelClass(t),document.body.classList.add(this.prevPanelName),null!=this.lastPanel&&(this.lastPanel.el.style.opacity=0),n.el.style.opacity=1),this.lastPanel=n}}},{key:"activePanelClass",value:function(t){return"tab-active-".concat(Lr(t))}},{key:"onHide",value:function(t){clearTimeout(this.tabShownDelayId),this.tabShownDelayId=setTimeout((function(){document.body.classList.remove("tab-shown")}),xr),wr.trigger(gr.slide.ARIA_TOGGLE,{hidden:!1}),this.view.setVisibility(!1)}}],n&&dr(e.prototype,n),i&&dr(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(xe);_r.current=null,_r.panelAvailable=!1;var jr=_r;function Dr(t){return Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dr(t)}function Ar(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=o.call(n)).done)&&(l.push(i.value),l.length!==e);s=!0);}catch(t){c=!0,r=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(t,e)||Mr(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rr(t,e,n){return(e=Fr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Br(t){return function(t){if(Array.isArray(t))return Hr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Mr(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mr(t,e){if(t){if("string"==typeof t)return Hr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hr(t,e):void 0}}function Hr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Nr(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Fr(i.key),i)}}function Fr(t){var e=function(t,e){if("object"!==Dr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Dr(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Dr(e)?e:String(e)}function Vr(t,e){return Vr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Vr(t,e)}function Ur(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=zr(t);if(e){var r=zr(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Dr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Wr(t)}(this,n)}}function Wr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zr(t){return zr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zr(t)}var Zr=DS,Kr=Zr._,Gr=Zr.detection,Qr=Gr.orientation,qr=Gr.deviceView,Yr=qr.isTablet,Xr=qr.isPhone,$r=Zr.events,Jr=Zr.pubSub,to=Zr.dom,eo=(to.addClass,to.removeClass,Zr.globalEventHelper),no=eo.addWindowListener,io=eo.addDocumentListener,ro=Zr.constants,oo=ro.MOBILE_UI_SIZE,ao=ro.MOBILE_ANIMATION_DURATION,lo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vr(t,e)}(o,t);var e,n,i,r=Ur(o);function o(t){var e,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),n=r.call(this,t),Kr.bindAll(Wr(n),"showContent","hideContent","onCheckTabShown","onCheckTabHidden","forceHide","onToggleSearch");var i=G.getCurrentNameSpace();return n.panels=i.panels,n.visibleOverlay=i.visibleOverlay,n.hamburger=i.hamburger,n.toggleShow=!1,window.requestAnimationFrame((function(){Br(document.querySelectorAll(".hamburger")).forEach((function(t){return n.onClickEl(t,n.onToggle)}))})),no("resize",n.onResize.bind(Wr(n))),Jr.on((Rr(e={},$r.sidebar.OPEN,n.showContent),Rr(e,$r.sidebar.CLOSE,n.hideContent),Rr(e,$r.tab.SHOW,n.onCheckTabShown),Rr(e,$r.tab.HIDE,n.onCheckTabHidden),Rr(e,$r.window.STACKING_CHANGED,n.forceHide),e)),n.searchToggle=!1,io("touchend",n.onToggleSearch),n.hideContent(),n}return e=o,n=[{key:"onToggleSearch",value:function(t){if(t.target.classList.contains("search-toggle-btn")){this.searchToggle=!this.searchToggle;var e=Ar(this.searchToggle?["add",$r.sidebar.SHOW_SEARCH,!0]:["remove",$r.sidebar.HIDE_SEARCH,!1],3),n=e[0],i=e[1],r=e[2];Jr.trigger(i),document.body.classList[n]("search-active"),t.target.setAttribute("aria-pressed",r)}}},{key:"forceHide",value:function(t){"MessageWnd"===t&&(this.hideContent(),Jr.trigger($r.tab.HIDE))}},{key:"onCheckTabShown",value:function(){this.tabShown=!0,Qr.isPortrait&&this.hideContent()}},{key:"onCheckTabHidden",value:function(){this.tabShown=!1}},{key:"onResize",value:function(){var t=this;this.el.classList.remove("transition-all"),setTimeout((function(){t.el.classList.add("transition-all"),t.tabShown&&Qr.isLandscape&&(t.showContent(),t.el.style.display="block")}),ao),this.hideContent()}},{key:"ariaToggleBurger",value:function(t){null==this.hamburgers&&(this.hamburgers=document.querySelectorAll(".hamburger")),this.hamburgers.forEach((function(e){e.setAttribute("aria-expanded",t)}))}},{key:"showContent",value:function(){var t=this,e=this.view.children.tabs,n=G.getNamespace(this.view.nameSpace).hamburger;if(Qr.isPortrait&&this.visibleOverlay.setVisibility(!0),this.el.removeAttribute("aria-hidden"),this.el.focus(),this.el.style.display="block",window.requestAnimationFrame((function(){t.el.style.opacity=1;var n=window.innerHeight-e.h-oo,i=0;Yr&&(n-=25,i=25),t.el.style.transform=Qr.isPortrait?"translate(".concat(i,"px, ").concat(n,"px)"):"translate(".concat(window.innerWidth-160,"px, 0)")})),this.toggleShow=!0,null!=n){var i=n.children,r=i.burger,o=i.searchBtn;this.ariaToggleBurger(!0),this.el.setAttribute("aria-expanded",!0),(Xr||Yr&&Qr.isLandscape)&&(r.el.style.display="none"),null!=o&&(o.el.style.display="none")}if(!this.tabShown&&Qr.isLandscape&&jr.panelAvailable){var a=jr.current||Kr.first(this.panels.children);null!=a&&(Jr.trigger($r.tab.SHOW,a.nameKey),this.tabShown=!0)}}},{key:"hideContent",value:function(){var t=this,e=G.getNamespace(this.view.nameSpace).hamburger;if(this.visibleOverlay.setVisibility(!1),this.el.style.opacity=0,this.el.setAttribute("aria-hidden",!0),Qr.isPortrait&&setTimeout((function(){t.el.style.display="none"}),ao),this.view.updateTrans(),this.toggleShow=!1,null!=e){var n=e.children,i=n.burger,r=n.searchBtn;this.ariaToggleBurger(!1),i.el.style.display="block",null!=r&&(r.el.style.display="block"),this.el.setAttribute("aria-expanded",!1)}}},{key:"toggle",value:function(){this.toggleShow?(this.hideContent(),Kr.forEach(this.el.querySelectorAll(".selected"),(function(t){return t.classList.remove("selected")})),Qr.isLandscape&&Jr.trigger($r.tab.HIDE)):this.showContent(),this.ariaToggleBurger(this.toggleShow),this.el.setAttribute("aria-expanded",this.toggleShow)}},{key:"onToggle",value:function(t){null!=this.hamburger&&this.hamburger.enabled&&this.toggle()}}],n&&Nr(e.prototype,n),i&&Nr(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(xe),so=lo,co=DS.constants.MOBILE_UI_SIZE,uo=DS.detection.deviceView.isTablet,fo="sidebar";function ho(t){return ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ho(t)}function po(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==ho(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==ho(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===ho(o)?o:String(o)),i)}var r,o}function yo(t,e){return yo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},yo(t,e)}function bo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=vo(t);if(e){var r=vo(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===ho(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function vo(t){return vo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vo(t)}G.def(fo,so,(function(t){var e=G.getNamespace(t).tabs,n={tag:"section",attrs:{id:fo,"aria-label":"sidebar",class:"transition-all "+(uo?"sidebar-tablet-trans":"")},z:3,overflow:"visible",wp:function(){return this.parent.w},wl:160,hp:function(){return e.h+co},hl:function(){return this.parent.w},xp:0,xl:function(){return window.innerWidth},yl:0,yp:function(){return window.innerHeight},html:En("landscape")};return uo&&Object.assign(n,{hp:function(){return e.h},wp:function(){return this.width||this.parent.w}}),n}));var mo=DS,go=mo._,wo=mo.pubSub,So=mo.events,ko=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yo(t,e)}(o,t);var e,n,i,r=bo(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,t)).onClick(e.onClickLink),e}return e=o,(n=[{key:"onClickLink",value:function(t){wo.trigger(So.tab.SHOW,this.model.name+"Panel")}},{key:"deselect",value:function(){go.forEach(this.el.parentNode.querySelectorAll(".selected"),(function(t){t.classList.remove("selected")}))}},{key:"select",value:function(){this.deselect(),this.el.classList.add("selected")}}])&&po(e.prototype,n),i&&po(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(xe);function Oo(t){return Oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oo(t)}function Co(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==Oo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Oo(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===Oo(o)?o:String(o)),i)}var r,o}function Eo(t,e){return Eo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Eo(t,e)}function Lo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=To(t);if(e){var r=To(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Oo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function To(t){return To=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},To(t)}var xo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Eo(t,e)}(o,t);var e,n,i,r=Lo(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,t)).onClick(e.onClickLink),e}return e=o,(n=[{key:"onClickLink",value:function(t){var e=this.model.properties.data;DS.pubSub.trigger(DS.events.sidebar.CLOSE),DS.pubSub.trigger(DS.events.tab.HIDE),DS.pubSub.trigger(DS.events.customlink.EVENT,e)}}])&&Co(e.prototype,n),i&&Co(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(xe);function Po(t){return function(t){if(Array.isArray(t))return Io(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Io(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Io(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Io(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var _o=DS,jo=(_o.utils.getPath,_o.constants.MOBILE_UI_SIZE),Do=_o.detection,Ao=Do.orientation,Ro=Do.deviceView,Bo=Ro.isTablet,Mo=Ro.isPhone,Ho="tabs",No=G.def(Ho,(function(t){var e=!0,n=G.getNamespace(t),i=n.sidebar;n.tabs;return{attrs:{id:Ho,tabindex:0,"aria-label":"sidebar-tabs"},overflow:"auto",x:0,yl:jo,yp:function(){return Bo&&Ao.isPortrait?0:jo},noContent:!1,w:"100%",h:function(){return Ao.isLandscape?window.innerHeight-58:this.height||0},methods:{sizeToLargestTab:function(){var t=160;this.children.forEach((function(e){e.el.style.width="auto";var n=e.el.clientWidth;n>t&&(t=n)})),i.width=t,i.updateSize(),this.updateSize(),this.children.forEach((function(e){e.el.style.width="",e.width=t,e.updateSize()}))}},updateHook:function(){0!==this.children.length&&(this.flowChildren({fullUpdate:!1,sizeToChildren:!0,vertical:!0}),Bo&&e&&Ao.isPortrait?(this.sizeToLargestTab(),e=!1):this.updateSize())},childDef:function(){Fo(G.model)}}})),Fo=function(t){[].concat(Po(t.sidebarTabs),Po(t.topTabsLeft),Po(t.topTabsRight)).forEach((function(e,n){!function(t,e,n){var i,r,o,a=e.name,l=a+"Tab";"customlink"===a?(i=xo,r=e.properties.title,l="link".concat(n),o="custom-link"):(i=ko,r=t.getString(e.name),l=e.name+"Link",o="panel-link");var s=G.def(l,i,{model:Object.assign(e,{idx:n}),tag:"button",attrs:{id:l,class:"tab ".concat(o),"aria-label":r,tabindex:-1},w:function(){return Ao.isLandscape||Mo?this.parent.w:this.width||null},h:50,noUpdate:!0,html:r});s.init(),No.append(s)}(t,e,n)}))};function Vo(t){return Vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vo(t)}function Uo(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==Vo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Vo(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===Vo(o)?o:String(o)),i)}var r,o}function Wo(t,e){return Wo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Wo(t,e)}function zo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Ko(t);if(e){var r=Ko(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Vo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Zo(t)}(this,n)}}function Zo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ko(t){return Ko=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ko(t)}var Go,Qo=DS,qo=Qo.pubSub,Yo=Qo.events,Xo=Qo.TweenLite,$o=Qo.focusManager,Jo=Qo._.bindAll,ta=Qo.dom.addClass,ea=Qo.detection,na=!1,ia=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wo(t,e)}(o,t);var e,n,i,r=zo(o);function o(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var n=(e=r.call(this,t)).view.children.searchForm.el,i=e.view.children.searchInput.el;return n.addEventListener("submit",e.onSearch.bind(Zo(e))),ea.deviceView.isMobile&&(Jo(Zo(e),"onMobileOutlineShown"),i.addEventListener("input",e.onSearch.bind(Zo(e))),qo.on(Yo.mobile.OUTLINE_SHOWN,e.onMobileOutlineShown)),e.ensureEventSubscriptions(),e}return e=o,n=[{key:"teardown",value:function(){qo.off(Yo.mobile.OUTLINE_SHOWN,this.onMobileOutlineShown),qo.off(Yo.controlOptions.RESET,this.onControlOptionsReset,this),na=!1}},{key:"ensureEventSubscriptions",value:function(){na||(qo.on(Yo.controlOptions.RESET,this.onControlOptionsReset,this),na=!0)}},{key:"onControlOptionsReset",value:function(){this.view.updateHtml(),this.view.update()}},{key:"onMobileOutlineShown",value:function(){document.getElementById("outline-panel").appendChild(this.el),ta(document.body,"tab-shown")}},{key:"onFocus",value:function(t){$o.setFocusRectOn(this.view.el)}},{key:"onSearch",value:function(t){t.preventDefault();var e=this.view.parent.children.searchResults,n=this.view.children.bottomDiv,i=document.querySelector("#outline-content ul");Xo.to(i,.2,{alpha:0,onComplete:function(){e.el.style.opacity=0,Xo.to(e.el,.2,{alpha:1,onComplete:function(){return e.viewLogic.onAfterVisible()}}),n.el.style.opacity=0,e.setVisibility(!0)}}),e.viewLogic.performSearch(this.searchInputEl.value),ta(document.body,"search-results-active")}},{key:"updateVisibility",value:function(t){var e=this.view,n=e.searchResults,i=e.searchResults.visible,r=e.visible;this.view.setVisibility(t),n.setVisibility(t&&this.searchResultsOpen),r&&(this.searchResultsOpen=i)}}],n&&Uo(e.prototype,n),i&&Uo(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(xe),ra=ia,oa="search",aa=DS,la=aa.pubSub,sa=aa.events,ca=aa.constants.MOBILE_ANIMATION_DURATION,ua=G.def(oa,ra,(function(){var t=G.model,e=(G.getCurrentNameSpaceString(),t.frame.controlOptions.controls.search),n=0;return e&&(n=-58,la.on(sa.sidebar.SHOW_SEARCH,(function(){n=0,Go.update()})),la.on(sa.sidebar.HIDE_SEARCH,(function(){setTimeout((function(){n=-58,Go.update()}),ca)}))),{attrs:{class:oa,"aria-label":t.getString("acc_search_input"),tabIndex:0},style:{background:"white"},z:3,x:0,y:function(){return n},w:function(){return this.parent.w},h:function(){return 58},updateHook:function(){Go=this},html:'\n      <div class="search-ui">\n        <div data-ref="bottomDiv"></div>\n        <form id="outline-search" data-ref="searchForm" class="search-input cs-outlinesearch cs-searchinput">\n          <input class="cs-input " data-ref="searchInput" type="search" placeholder="'.concat(t.getString("search"),'">\n          <div\n            class="input-search-icon"\n            style="background-repeat: no-repeat"\n            tabindex="-1"\n          >').concat(Cn("search")(),"</div>\n        </form>\n      </div>\n    ")}}));function fa(t){return fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fa(t)}function da(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==fa(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==fa(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===fa(o)?o:String(o)),i)}var r,o}function ha(){return ha="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=va(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},ha.apply(this,arguments)}function pa(t,e){return pa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pa(t,e)}function ya(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=va(t);if(e){var r=va(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===fa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ba(t)}(this,n)}}function ba(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function va(t){return va=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},va(t)}var ma=DS,ga=ma.focusManager,wa=ma.keyManager,Sa=ma.detection,ka=ma.globalEventHelper,Oa=ka.addDocumentListener,Ca=ka.removeDocumentListener,Ea=(ma.utils.getPath,ma.dom),La=Ea.parentNodesOf,Ta=Ea.addClass,xa=Ea.removeClass,Pa=ma._,Ia=Pa.first,_a=Pa.last,ja=Pa.bindAll,Da=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pa(t,e)}(o,t);var e,n,i,r=ya(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=r.call(this,t),ja(ba(e),"onKeydown","addEvents","onClickItem"),e.addEvents(),e}return e=o,(n=[{key:"focusSelf",value:function(){this.hasListItems()&&this.getItems().find((function(t){return 0===t.tabIndex})).focus()}},{key:"addEvents",value:function(){var t=this;Sa.device.isMobile?(this.el.addEventListener("touchmove",(function(e){t.moved=!0})),this.onClick((function(e){t.moved||t.onClickItem(e),t.moved=!1}))):this.onClick(this.onClickItem)}},{key:"onClickItem",value:function(){}},{key:"onFocus",value:function(){!this.isFocused&&this.hasListItems()&&(this.isFocused=!0,this.currentItem=this.currentItem||Ia(this.getItems()),Ta(this.currentItem,"hover"),wa.isShowFocus&&this.centerOnFocused(),ga.setFocusRectOn(this.getFocusRectTarget()),Oa("keydown",this.onKeydown))}},{key:"onBlur",value:function(t){this.el.contains(t.relatedTarget)||(ha(va(o.prototype),"onBlur",this).call(this,t),null!=this.currentItem&&(xa(this.currentItem,"hover"),this.currentItem.style.backgroundColor=""),Ca("keydown",this.onKeydown),this.isFocused=!1)}},{key:"onKeydown",value:function(t){var e=this.currentItem;wa.isActionKey(t.which)?(this.activateItem(t),wa.isSpaceKey(t.which)&&t.preventDefault()):wa.isDownishKey(t.which)?this.currentItem=this.getNextItem(this.getItemContent()):wa.isUpishKey(t.which)?this.currentItem=this.getPrevItem(this.getItemContent()):wa.isHomeKey(t.which)?this.currentItem=this.getFirstItem():wa.isEndKey(t.which)&&(this.currentItem=this.getLastItem()),e!==this.currentItem&&(t.preventDefault(),e.tabIndex=-1,xa(e,"hover"),this.focusOnCurrent())}},{key:"hasListItems",value:function(){return!1}},{key:"getFocusRectTarget",value:function(){return this.currentItem}},{key:"focusOnCurrent",value:function(){this.centerOnFocused(),document.activeElement!==this.currentItem&&(this.currentItem.tabIndex=0,Ta(this.currentItem,"hover"),this.currentItem.focus()),ga.setFocusRectOn(this.getFocusRectTarget())}},{key:"activateItem",value:function(){this.onClickItem({target:this.currentItem.firstElementChild})}},{key:"getNextItem",value:function(t){var e=this,n=this.getItems().findIndex((function(n){return e.findIndexCb(n,t)}))+1;return n===this.getItems().length&&(n=0),this.getItems()[n]}},{key:"getPrevItem",value:function(t){var e=this,n=this.getItems().findIndex((function(n){return e.findIndexCb(n,t)}))-1;return-1===n&&(n=this.getItems().length-1),this.getItems()[n]}},{key:"getLastItem",value:function(){return _a(this.getItems())}},{key:"getFirstItem",value:function(){return Ia(this.getItems())}},{key:"getItemContent",value:function(){return this.currentItem.textContent.trim()}},{key:"findIndexCb",value:function(t,e){return t.textContent.trim()===e}},{key:"getItems",value:function(){return[]}},{key:"getScrollEl",value:function(){return this.el}},{key:"getOffsetEl",value:function(){return this.el}},{key:"getOffsetTop",value:function(t){return function(t){return La(t,(function(t){return"li"===t.nodeName.toLowerCase()})).reduce((function(t,e){return t+e.offsetTop}),0)}(t)}},{key:"getOffsetHeight",value:function(t){return t.offsetHeight}},{key:"centerOnFocused",value:function(){if(null!=this.currentItem){var t=this.getOffsetEl(),e=this.getOffsetHeight(t),n=this.getScrollEl().scrollTop,i=this.getOffsetTop(this.currentItem),r=i+this.getOffsetHeight(this.currentItem);r-n>e?t.scrollTop=r-e+10:i<n+10&&(t.scrollTop=i-10)}}}])&&da(e.prototype,n),i&&da(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(xe),Aa=DS,Ra=(Aa.MicroScrollBar,Aa.detection,function(t){return null!=t&&2===t.split(".").length}),Ba=function(){return"no icon"},Ma={next:function(){return'\n  <svg class="cs-icon next-icon" width="10px" height="18px" viewBox="0 -1 10 18" focusable="false">\n    <path transform="rotate(180, 5, 8)" d="M2.81685219,7.60265083 L9.00528946,1.41421356 L7.5910759,-1.27897692e-13 L1.55431223e-13,7.5910759 L0.0115749356,7.60265083 L1.55431223e-13,7.61422577 L7.5910759,15.2053017 L9.00528946,13.7910881 L2.81685219,7.60265083 Z" stroke="none" fillRule="evenodd"></path>\n  </svg>'},prev:function(){return'\n  <svg class="cs-icon prev-icon" width="10px" height="18px" viewBox="0 -1 10 18" focusable="false">\n    <path transform="translate(0, 1)" d="M2.81685219,7.60265083 L9.00528946,1.41421356 L7.5910759,-1.27897692e-13 L1.55431223e-13,7.5910759 L0.0115749356,7.60265083 L1.55431223e-13,7.61422577 L7.5910759,15.2053017 L9.00528946,13.7910881 L2.81685219,7.60265083 Z" stroke="none" fillRule="evenodd"></path>\n  </svg>\n'},submit:function(){return'\n   <svg class="cs-icon check-icon" width="17px" height="18px" viewBox="0 0 17 16" focusable="false">\n\n  <path stroke="none" transform="translate(0, 1)" d="\n  M 17 1.4\n  L 15.6 0 5.7 9.9 1.4 5.65 0 7.05 5.65 12.75 5.7 12.75 17 1.4 Z"/>\n\n  </svg>'},replay:function(){return'<svg class="cs-icon" x="0px" y="0px" width="16px" height="16px" viewBox="0 0 16 16" focusable="false">\n    <path fill="#FFFFFF" stroke="none" d="\n      M 10.95 8.75\n      Q 11 9 11 9.25 10.95 11.15 9.7 12.4 8.4 13.7 6.5 13.75 4.6 13.7 3.3 12.4 2.05 11.15 2 9.25 2.05 7.3 3.3 6.05 4.398828125 4.998828125 6 4.75\n      L 6 6.9\n      Q 6.05 7.75 6.85 7.35\n      L 11.35 4.3\n      Q 11.7 4.05 11.7 3.75 11.7 3.45 11.35 3.2\n      L 6.85 0.15\n      Q 6.05 -0.3 6 0.6\n      L 6 2.75\n      Q 3.4517578125 3.001171875 1.8 4.75 0.05 6.6 0 9.25 0.05 12 1.9 13.85 3.75 15.65 6.5 15.75 9.25 15.65 11.1 13.85 12.95 12 13 9.25 13 9 13 8.75\n      L 10.95 8.75 Z"/>\n    </svg>'},play:function(){return'<svg id="icon-play" class="cs-icon play-icon" width="11" height="13" viewBox="0 0 11 13" focusable="false">\n    <path fill="#FFFFFF" stroke="none" d="\n      M 0.851 13.011\n      C 0.381 13.295 0 13.068 0 12.526\n      L 0 0.771\n      C 0 0.219 0.378 0 0.854 0.288\n      L 10.507 6.132\n      C 10.979 6.417 10.981 6.878 10.504 7.168\n      L 6.307 9.708\n      L 0.851 13.011 Z" />\n  </svg>'},pause:function(){return'<svg id="icon-pause" class="cs-icon pause-icon" width="9" height="14" viewBox="0 0 9 14" focusable="false">\n    <rect x="0" width="3" height="14"/>\n    <rect x="6" width="3" height="14"/>\n  </svg>'},volume:function(t,e){var n=Math.min(1,t/5),i=Math.min(1,Math.max(0,t/5-.5));return'<svg class="cs-icon volume-icon '.concat(e?"volume-icon-selected":"",'" width="16px" height="14px" viewBox="0 0 16 14" focusable="false">\n      <rect x="0" y="4" width="3" height="6"></rect>\n      <polygon points="4 4 9 0 9 14 4 10"></polygon>\n      <g transform="translate(10, 0)">\n        <mask id="vol-mask" fill="white">\n          <rect id="path-1" x="0" y="0" width="8" height="14" style="fill: white;"></rect>\n        </mask>\n        <circle strokeWidth="1.5" style="opacity: ').concat(i,';" mask="url(#vol-mask)" fill="none" cx="-1" cy="7" r="6.5"></circle>\n        <circle strokeWidth="1.5" style="opacity: ').concat(n,';" mask="url(#vol-mask)" fill="none" cx="-1" cy="7" r="3.5"></circle>\n      </g>\n    </g>\n  </svg>')},captionsOn:function(t){return'<svg class="cs-icon captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false">\n            <path fill="#FFFFFF" stroke="none" d="M 19 2 Q 19 1.15 18.4 0.6 17.85 0 17 0 L 2 0 Q 1.15 0 0.6 0.6 0 1.15 0 2 L 0 12 Q 0 12.85 0.6 13.4 1.15 14 2 14 L 7.6 14 9.5 15.9 11.4 14 17 14 Q 17.85 14 18.4 13.4 19 12.85 19 12 L 19 2 M 15.7 4.2 L 15.25 4.85 Q 15.15 4.9 15.1 5 15 5.05 14.85 5.05 14.75 5.05 14.6 4.95 14.5 4.9 14.3 4.8 14.15 4.65 13.9 4.6 13.65 4.5 13.3 4.5 12.85 4.5 12.5 4.7 12.15 4.85 11.9 5.15 11.7 5.45 11.6 5.9 11.45 6.35 11.45 6.9 11.5 7.45 11.6 7.9 11.7 8.35 11.95 8.65 12.2 8.95 12.5 9.15 12.85 9.3 13.25 9.3 13.65 9.3 13.9 9.2 14.2 9.1 14.35 8.95 14.5 8.85 14.65 8.75 14.8 8.65 14.95 8.65 15.15 8.65 15.25 8.8 L 15.75 9.4 Q 15.45 9.75 15.15 10 14.8 10.2 14.45 10.35 14.05 10.5 13.7 10.55 13.3 10.6 12.95 10.6 12.25 10.6 11.65 10.35 11.1 10.1 10.65 9.65 10.2 9.15 9.95 8.45 9.7 7.75 9.7 6.9 9.7 6.1 9.95 5.4 10.15 4.75 10.6 4.25 11.05 3.75 11.7 3.5 12.35 3.2 13.2 3.2 14 3.2 14.6 3.45 15.2 3.7 15.7 4.2 M 5.85 4.7 Q 5.5 4.85 5.25 5.15 5.05 5.45 4.95 5.9 4.8 6.35 4.8 6.9 4.85 7.45 4.95 7.9 5.05 8.35 5.3 8.65 5.55 8.95 5.85 9.15 6.2 9.3 6.6 9.3 7 9.3 7.25 9.2 7.55 9.1 7.7 8.95 7.85 8.85 8 8.75 8.15 8.65 8.3 8.65 8.5 8.65 8.6 8.8 L 9.1 9.4 Q 8.8 9.75 8.5 10 8.15 10.2 7.8 10.35 7.4 10.5 7.05 10.55 6.65 10.6 6.3 10.6 5.6 10.6 5 10.35 4.45 10.1 4 9.65 3.55 9.15 3.3 8.45 3.05 7.75 3.05 6.9 3.05 6.1 3.3 5.4 3.5 4.75 3.95 4.25 4.4 3.75 5.05 3.5 5.7 3.2 6.55 3.2 7.35 3.2 7.95 3.45 8.55 3.7 9.05 4.2 L 8.6 4.85 Q 8.5 4.9 8.45 5 8.35 5.05 8.2 5.05 8.1 5.05 7.95 4.95 7.85 4.9 7.65 4.8 7.5 4.65 7.25 4.6 7 4.5 6.65 4.5 6.2 4.5 5.85 4.7 Z"/>\n          </svg>'},captionsOff:function(t){return'<svg class="cs-icon captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false">\n            <g>\n              <path d="M 11.45 3.5 Q 10.8 3.75 10.35 4.25 9.9 4.75 9.7 5.4 9.45 6.1 9.45 6.9 9.45 7.75 9.7 8.45 9.95 9.15 10.4 9.65 10.85 10.1 11.4 10.35 12 10.6 12.7 10.6 13.05 10.6 13.45 10.55 13.8 10.5 14.2 10.35 14.55 10.2 14.9 10 15.2 9.75 15.5 9.4 L 15 8.8 Q 14.9 8.65 14.7 8.65 14.55 8.65 14.4 8.75 14.25 8.85 14.1 8.95 13.95 9.1 13.65 9.2 13.4 9.3 13 9.3 12.6 9.3 12.25 9.15 11.95 8.95 11.7 8.65 11.45 8.35 11.35 7.9 11.25 7.45 11.2 6.9 11.2 6.35 11.35 5.9 11.45 5.45 11.65 5.15 11.9 4.85 12.25 4.7 12.6 4.5 13.05 4.5 13.4 4.5 13.65 4.6 13.9 4.65 14.05 4.8 14.25 4.9 14.35 4.95 14.5 5.05 14.6 5.05 14.75 5.05 14.85 5 14.9 4.9 15 4.85 L 15.45 4.2 Q 14.95 3.7 14.35 3.45 13.75 3.2 12.95 3.2 12.1 3.2 11.45 3.5 M 5.6 4.7 Q 5.95 4.5 6.4 4.5 6.75 4.5 7 4.6 7.25 4.65 7.4 4.8 7.6 4.9 7.7 4.95 7.85 5.05 7.95 5.05 8.1 5.05 8.2 5 8.25 4.9 8.35 4.85 L 8.8 4.2 Q 8.3 3.7 7.7 3.45 7.1 3.2 6.3 3.2 5.45 3.2 4.8 3.5 4.15 3.75 3.7 4.25 3.25 4.75 3.05 5.4 2.8 6.1 2.8 6.9 2.8 7.75 3.05 8.45 3.3 9.15 3.75 9.65 4.2 10.1 4.75 10.35 5.35 10.6 6.05 10.6 6.4 10.6 6.8 10.55 7.15 10.5 7.55 10.35 7.9 10.2 8.25 10 8.55 9.75 8.85 9.4 L 8.35 8.8 Q 8.25 8.65 8.05 8.65 7.9 8.65 7.75 8.75 7.6 8.85 7.45 8.95 7.3 9.1 7 9.2 6.75 9.3 6.35 9.3 5.95 9.3 5.6 9.15 5.3 8.95 5.05 8.65 4.8 8.35 4.7 7.9 4.6 7.45 4.55 6.9 4.55 6.35 4.7 5.9 4.8 5.45 5 5.15 5.25 4.85 5.6 4.7 Z" />\n              <path class="icon-stroke-only" stroke-width="1.5" stroke-linejoin="round" stroke-linecap="round" fill="none" d="M 9.5 15.2 L 7.8 13.5 2 13.5 Q 1.35 13.5 0.95 13.05 0.5 12.65 0.5 12 L 0.5 2 Q 0.5 1.35 0.95 0.95 1.35 0.5 2 0.5 L 17 0.5 Q 17.65 0.5 18.05 0.95 18.5 1.35 18.5 2 L 18.5 12 Q 18.5 12.65 18.05 13.05 17.65 13.5 17 13.5 L 11.2 13.5 9.5 15.2 Z" />\n            </g>\n          </svg>'},captions:function(){return'\n    <svg class="cs-icon captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false">\n      <g>\n        <path d="M 11.45 3.5 Q 10.8 3.75 10.35 4.25 9.9 4.75 9.7 5.4 9.45 6.1 9.45 6.9 9.45 7.75 9.7 8.45 9.95 9.15 10.4 9.65 10.85 10.1 11.4 10.35 12 10.6 12.7 10.6 13.05 10.6 13.45 10.55 13.8 10.5 14.2 10.35 14.55 10.2 14.9 10 15.2 9.75 15.5 9.4 L 15 8.8 Q 14.9 8.65 14.7 8.65 14.55 8.65 14.4 8.75 14.25 8.85 14.1 8.95 13.95 9.1 13.65 9.2 13.4 9.3 13 9.3 12.6 9.3 12.25 9.15 11.95 8.95 11.7 8.65 11.45 8.35 11.35 7.9 11.25 7.45 11.2 6.9 11.2 6.35 11.35 5.9 11.45 5.45 11.65 5.15 11.9 4.85 12.25 4.7 12.6 4.5 13.05 4.5 13.4 4.5 13.65 4.6 13.9 4.65 14.05 4.8 14.25 4.9 14.35 4.95 14.5 5.05 14.6 5.05 14.75 5.05 14.85 5 14.9 4.9 15 4.85 L 15.45 4.2 Q 14.95 3.7 14.35 3.45 13.75 3.2 12.95 3.2 12.1 3.2 11.45 3.5 M 5.6 4.7 Q 5.95 4.5 6.4 4.5 6.75 4.5 7 4.6 7.25 4.65 7.4 4.8 7.6 4.9 7.7 4.95 7.85 5.05 7.95 5.05 8.1 5.05 8.2 5 8.25 4.9 8.35 4.85 L 8.8 4.2 Q 8.3 3.7 7.7 3.45 7.1 3.2 6.3 3.2 5.45 3.2 4.8 3.5 4.15 3.75 3.7 4.25 3.25 4.75 3.05 5.4 2.8 6.1 2.8 6.9 2.8 7.75 3.05 8.45 3.3 9.15 3.75 9.65 4.2 10.1 4.75 10.35 5.35 10.6 6.05 10.6 6.4 10.6 6.8 10.55 7.15 10.5 7.55 10.35 7.9 10.2 8.25 10 8.55 9.75 8.85 9.4 L 8.35 8.8 Q 8.25 8.65 8.05 8.65 7.9 8.65 7.75 8.75 7.6 8.85 7.45 8.95 7.3 9.1 7 9.2 6.75 9.3 6.35 9.3 5.95 9.3 5.6 9.15 5.3 8.95 5.05 8.65 4.8 8.35 4.7 7.9 4.6 7.45 4.55 6.9 4.55 6.35 4.7 5.9 4.8 5.45 5 5.15 5.25 4.85 5.6 4.7 Z" />\n        <path class="icon-stroke-only" stroke-width="1.5" stroke-linejoin="round" stroke-linecap="round" fill="none" d="M 9.5 15.2 L 7.8 13.5 2 13.5 Q 1.35 13.5 0.95 13.05 0.5 12.65 0.5 12 L 0.5 2 Q 0.5 1.35 0.95 0.95 1.35 0.5 2 0.5 L 17 0.5 Q 17.65 0.5 18.05 0.95 18.5 1.35 18.5 2 L 18.5 12 Q 18.5 12.65 18.05 13.05 17.65 13.5 17 13.5 L 11.2 13.5 9.5 15.2 Z" />\n      </g>\n    </svg>'},carrot:function(t){return'\n    <svg style="left:calc('.concat(t,');" class="cs-icon cs-icon-carrot carrot"width="30" height="30" viewBox="0 0 30 30" focusable="false">\n      <g transform="translate(8, 8)">\n        <polygon style="fill:currentColor !important" points="1,1.5 5,5 1,8.5"/>\n      </g>\n  </svg>')},search:function(){return'\n    <svg class="search-icon" width="13px" height="15px" viewBox="0 0 13 15" focusable="false"\n      <g fill="none" fill-rule="evenodd">\n        <g stroke-width="2">\n          <circle cx="5.6" cy="5.6" r="4.6"/>\n          <path d="M8 9l4 5"/>\n        </g>\n      </g>\n    </svg>\n    '},searchClear:function(){return'\n    <svg class="cs-icon icon" width="11px" height="11px" viewBox="0 0 11 11">\n    <g id="Desktop-Color-Contrast" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Search" transform="translate(-290.000000, -69.000000)" fill="fill:currentColor !important" fill-rule="nonzero">\n            <g id="search" transform="translate(13.000000, 59.000000)">\n                <polygon id="ic_close" points="286.777666 10 282.500215 14.2779053 278.222334 10 277 11.2222382 281.277881 15.5002869 277 19.7779053 278.222334 21 282.500215 16.7222382 286.777666 21 288 19.7779053 283.722119 15.5002869 288 11.2222382"></polygon>\n            </g>\n        </g>\n    </g>\n    </svg>\n    '},filter:function(){return'<svg class="cs-icon icon-gear" width="14" height="14" viewBox="0 0 14 14" focusable="false">\n    <path id="icon-gear" transform="translate(0,3)" d="M11.1,9.8C11.1,9.8,11.1,9.8,11.1,9.8C11.1,9.8,11.1,9.7,11.1,9.8c0-0.1,0.1-0.1,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0-0.1,0.1-0.1c0,0,0,0,0,0c0-0.1,0.1-0.1,0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1,0.1-0.2c0,0,0,0,0,0c0.1-0.2,0.2-0.5,0.2-0.7l2-0.4V6.4l-2-0.4c0-0.3-0.1-0.5-0.2-0.7c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0,0,0-0.1-0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.2-1.7l-0.9-0.9L9.7,2.8c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0-0.1,0-0.1-0.1c0,0,0,0,0,0c-0.1,0-0.1-0.1-0.2-0.1c0,0,0,0,0,0c-0.1,0-0.1,0-0.2-0.1c0,0,0,0,0,0C8.3,2.1,8.1,2.1,7.8,2L7.4,0H6.2L5.9,2c-0.3,0-0.5,0.1-0.7,0.2c0,0,0,0,0,0C5,2.3,5,2.3,4.9,2.3c0,0,0,0,0,0c-0.1,0-0.1,0-0.2,0.1c0,0,0,0,0,0c0,0-0.1,0-0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0L2.3,1.6L1.4,2.5l1.2,1.7c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0.1-0.1,0.1c0,0,0,0,0,0C2.2,5,2.2,5,2.2,5.1c0,0,0,0,0,0c0,0.1,0,0.1-0.1,0.2c0,0,0,0,0,0C2,5.5,1.9,5.8,1.9,6l-2,0.4v1.2l2,0.4c0,0.3,0.1,0.5,0.2,0.7c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0,0,0.1,0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l-1.2,1.7l0.9,0.9L4,11.2c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0.1,0,0.1,0.1c0,0,0,0,0,0c0.1,0,0.1,0.1,0.2,0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2,0.1c0,0,0,0,0,0c0.2,0.1,0.5,0.2,0.7,0.2l0.4,2h1.2l0.4-2c0.3,0,0.5-0.1,0.7-0.2c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0,0,0.1,0,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.7,1.2l0.9-0.9L11.1,9.8C11,9.8,11,9.8,11.1,9.8C11,9.8,11.1,9.8,11.1,9.8z M6.8,9.2c-1.2,0-2.2-1-2.2-2.2c0-1.2,1-2.2,2.2-2.2C8,4.8,9,5.8,9,7C9,8.2,8,9.2,6.8,9.2z"/>\n  </svg>'},close:function(){return'\n    <svg class="cs-icon icon-close" width="20" height="20" viewBox="0 0 36 36" focusable="false">\n      <polygon points="36,2.826 33.174,0 18,15.174 2.826,0 0,2.826 15.174,18 0,33.174 2.826,36 18,20.826 33.174,36 36,33.174 20.826,18" />\n    </svg>'},clear:function(){return'<svg class="cs-icon icon-clear" width="13" height="14" viewBox="0 0 13 14" focusable="false">\n    <use xlink:href="#icon-clear" fill="rgba(240, 240, 240, 1)" transform="translate(0, 1)" />\n    <path id="icon-clear" transform="translate(3,3)" d="M6.5,0C2.9,0,0,2.9,0,6.5C0,10.1,2.9,13,6.5,13c3.6,0,6.5-2.9,6.5-6.5C13,2.9,10.1,0,6.5,0z M1.5,6.5c0-2.8,2.2-5,5-5c1.2,0,2.4,0.5,3.2,1.2L2.2,9.1C1.8,8.3,1.5,7.5,1.5,6.5z M6.5,11.5c-1.2,0-2.3-0.5-3.2-1.2L10.8,4c0.4,0.7,0.7,1.6,0.7,2.5C11.5,9.3,9.3,11.5,6.5,11.5z"/>\n  </svg>'},hamburger:function(){return'\n    <svg class="cs-icon" width="30px" height="12px" viewBox="0 10 30 12" focusable="false">\n      <path transform="translate(0, 1)" d="M0,15 L17,15 L17,17 L0,17 L0,15 Z M0,11 L17,11 L17,13 L0,13 L0,11 Z M0,19 L17,19 L17,21 L0,21 L0,19 Z" ></path>\n    </svg>\n  '},file:function(){return'\n    <svg width="20px" height="27px" viewBox="0 0 40 50" role="presentation" focusable="false">\n      <g stroke="none" strokeWidth="1" fill="none" fillRule="evenodd">\n        <g>\n          <path class="file-icon-bg" d="M2.00804893,0 C0.899034128,0 0,0.889064278 0,1.99091407 L0,48.0090859 C0,49.1086374 0.892756032,50 1.99862555,50 L37.2170607,50 C38.3208711,50 39.2156863,49.1011186 39.2156863,47.993136 L39.2156863,13.6363636 L26.1437908,0 L2.00804893,0 Z"></path>\n          <path class="file-icon-fold" d="M26.1437908,0 L26.1437908,11.7296861 C26.1437908,12.8319383 27.0422752,13.7254902 28.1433598,13.7254902 L39.2156863,13.7254902"></path>\n        </g>\n      </g>\n    </svg>'},link:function(t){return'\n  <svg class="link-icon" preserveAspectRatio="none" x="0px" y="0px" width="18px" height="18px" viewBox="0 0 18 18" role="presentation" focusable="false">\n      <path fill="'.concat(t,'" stroke="none" d="\n            M 1.45 8.5\n            Q 0.0453125 10.0015625 0 11.9\n            L 0 12.15\n            Q 0.0453125 14.0484375 1.45 15.55\n            L 1.5 15.6\n            Q 3.0015625 17.0046875 4.85 17.05\n            L 5.1 17.05\n            Q 7.0150390625 17.0046875 8.5 15.6\n            L 10.65 13.45\n            Q 10.95 13.15 10.95 12.75 10.95 12.35 10.65 12.05 10.3689453125 11.7689453125 10 11.75\n            L 9.95 11.75\n            Q 9.55 11.75 9.2 12.05\n            L 7.1 14.15\n            Q 6.2 15.05 5 15.05 3.8 15.05 2.9 14.15 2 13.25 2 12.05 2 10.8826171875 2.85 9.95\n            L 5 7.8\n            Q 5.3 7.5 5.3 7.1\n            L 5.3 7.05\n            Q 5.2810546875 6.6810546875 5 6.4 4.7 6.1 4.3 6.1 3.9 6.1 3.55 6.4\n            L 1.45 8.5\n            M 12.05 5\n            Q 11.75 4.7 11.35 4.7 10.95 4.7 10.65 5\n            L 5 10.65\n            Q 4.7 10.95 4.7 11.35 4.7 11.75 5 12.05 5.3 12.35 5.7 12.35 6.1 12.35 6.4 12.05\n            L 12.05 6.4\n            Q 12.35 6.1 12.35 5.7 12.35 5.3 12.05 5\n            M 15.6 1.5\n            L 15.55 1.45\n            Q 14 0 12.05 0\n            L 12 0\n            Q 10.05 0 8.5 1.45\n            L 6.4 3.55\n            Q 6.1 3.9 6.1 4.3 6.1 4.7 6.4 5 6.7 5.3 7.1 5.3 7.5 5.3 7.8 5\n            L 9.95 2.85\n            Q 10.8826171875 2 12.05 2 13.25 2 14.15 2.9 15.05 3.8 15.05 5 15.05 6.2 14.15 7.1\n            L 12.05 9.2\n            Q 11.75 9.55 11.75 9.95 11.75 10.35 12.05 10.65 12.35 10.95 12.75 10.95 13.15 10.95 13.45 10.65\n            L 15.6 8.5\n            Q 17.05 6.96875 17.05 5 17.05 3.05 15.6 1.5 Z"/>\n          </svg>')},settings:function(){return'\n    <svg class="cs-icon" data-ref="settings" width="16px" height="16px" viewBox="0 0 16 16" focusable="false">\n      <path d="M8.94,0 C9.82,0 10.55,0.62 10.63,1.45 L10.73,2.36 C11.1,2.52 11.45,2.71 11.78,2.94 L12.66,2.56 C13.46,2.22 14.39,2.5 14.83,3.23 L15.77,4.77 C16.21,5.5 16,6.4 15.29,6.9 L14.51,7.42 C14.54,8.19 14.53,8.38 14.51,8.58 L15.29,9.11 C16,9.6 16.21,10.51 15.77,11.23 L14.83,12.77 C14.39,13.49 13.46,13.78 12.66,13.44 L11.78,13.06 C11.45,13.29 11.1,13.48 10.73,13.64 L10.63,14.55 C10.55,15.38 9.82,16 8.94,16 L7.06,16 C6.18,16 5.45,15.38 5.37,14.55 L5.27,13.64 C4.9,13.48 4.55,13.29 4.22,13.06 L3.34,13.44 C2.54,13.78 1.61,13.5 1.17,12.77 L0.23,11.23 C-0.21,10.51 0,9.6 0.71,9.11 L1.49,8.58 C1.46,7.81 1.47,7.62 1.49,7.42 L0.71,6.89 C0,6.40 -0.21,5.49 0.23,4.77 L1.17,3.23 C1.61,2.51 2.54,2.22 3.34,2.56 L4.22,2.94 C4.55,2.71 4.9,2.52 5.27,2.36 L5.37,1.45 C5.45,0.62 6.18,0 7.06,0 Z M7.96,4.53 C5.91,4.53 4.25,6.11 4.25,8.06 C4.25,10.01 5.91,11.59 7.96,11.59 C10.02,11.59 11.68,10.01 11.68,8.06 C11.68,6.11 10.02,4.53 7.96,4.53 Z"></path>\n    </svg>\n    '},playbackSpeed:function(){return'\n    <svg class="cs-icon" width="15" height="15" viewBox="0 0 15 15" focusable="false">\n      <path d="M5.9 4.0L10.4 7.4L5.9 10.8V4.0ZM1.5 8.2H0.0C0.1 9.6 0.6 10.9 1.5 12.0L2.6 11.0C2.0 10.1 1.6 9.2 1.5 8.2H1.5ZM15 7.4H14.9C14.9 5.6 14.3 3.8 13.0 2.4C11.8 1.0 10.0 0.1 8.2 0.0V1.5C10.1 1.7 11.8 2.9 12.8 4.7C13.7 6.4 13.7 8.5 12.8 10.2C11.8 12.0 10.1 13.1 8.2 13.4V14.9C10.0 14.7 11.8 13.8 13.0 12.5C14.3 11.1 14.9 9.3 14.9 7.4L15 7.4ZM3.6 12.1L2.5 13.1C3.7 14.1 5.1 14.8 6.7 14.9V13.4V13.4C5.5 13.3 4.5 12.8 3.6 12.1V12.1ZM2.6 3.9L1.5 2.8C0.6 3.9 0.1 5.3 0 6.7H1.5H1.5C1.6 5.7 2.0 4.7 2.6 3.9H2.6ZM6.7 1.5V0.0C5.1 0.1 3.7 0.7 2.5 1.7L3.6 2.8C4.5 2.1 5.5 1.6 6.7 1.5V1.5Z" stroke="none" />\n    </svg>\n  '},track:function(t,e){return'\n    <svg xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="16px" viewBox="0 0 24 16" focusable="false">\n      <defs>\n        <rect id="'.concat(e,'-track" x="2" y="3.5" width="20" height="9" rx="4.5"></rect>\n        <filter x="-12.5%" y="-27.8%" width="125.0%" height="155.6%" filterUnits="objectBoundingBox" id="').concat(e,'-trackFilter">\n          <feGaussianBlur stdDeviation="1.5" in="SourceAlpha" result="shadowBlurInner1"></feGaussianBlur>\n          <feOffset dx="0" dy="1" in="shadowBlurInner1" result="shadowOffsetInner1"></feOffset>\n          <feComposite in="shadowOffsetInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"></feComposite>\n          <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0" type="matrix" in="shadowInnerInner1"></feColorMatrix>\n        </filter>\n      </defs>\n      <g class="thumb-off" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g>\n          <use class="track" fill-rule="evenodd" xlink:href="#').concat(e,'-track"></use>\n          <use fill="black" fill-opacity="1" filter="url(#').concat(e,'-trackFilter)" xlink:href="#').concat(e,'-track"></use>\n          <use class="border" stroke-width="1" xlink:href="#').concat(e,'-track"></use>\n          <circle class="thumb" stroke-width="0" cx="8" cy="8" r="6"></circle>\n        </g>\n      </g>\n      <g class="thumb-on" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g>\n          <use class="track" fill-rule="evenodd" xlink:href="#').concat(e,'-track"></use>\n          <use fill="black" fill-opacity="1" filter="url(#').concat(e,'-trackFilter)" xlink:href="#').concat(e,'-track"></use>\n          <use class="border" stroke-width="1" xlink:href="#').concat(e,'-track"></use>\n          <circle fill="').concat(t,'" stroke-width="0" cx="16" cy="8" r="6"></circle>\n        </g>\n      </g>\n    </svg>\n  ')},downArrow:function(t,e){return'\n    <div style="height: 100%; width: 100%; background-color: '.concat(t,"; border-right: 1px solid; border-bottom: 1px solid; border-color: ").concat(e,'; border-bottom-right-radius: 3px; transform: rotate(45deg);" />\n    ')},checkmark:function(){return'<svg  class="cs-icon check-icon" focusable="false" width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n          <polygon style="fill:currentColor !important" points="12.04 4 13.45 5.41 6.25 12.62 2 8.36 3.41 6.95 6.25 9.79"></polygon>\n      </g>\n    </svg>'},lock:function(){return'<svg width="16px" height="12px" viewBox="0 0 9 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g fill="#FFFFFF" fill-rule="nonzero">\n            <path style="fill:currentColor !important" d="M7.875,4 L7.3125,4 L7.3125,2.85714286 C7.3125,1.28 6.0525,0 4.5,0 C2.9475,0 1.6875,1.28 1.6875,2.85714286 L1.6875,4 L1.125,4 C0.50625,4 0,4.51428571 0,5.14285714 L0,10.8571429 C0,11.4857143 0.50625,12 1.125,12 L7.875,12 C8.49375,12 9,11.4857143 9,10.8571429 L9,5.14285714 C9,4.51428571 8.49375,4 7.875,4 Z M6.24375,4 L2.75625,4 L2.75625,2.85714286 C2.75625,1.88 3.538125,1.08571429 4.5,1.08571429 C5.461875,1.08571429 6.24375,1.88 6.24375,2.85714286 L6.24375,4 Z"></path>\n        </g>\n    </g>\n</svg>'},lockedViewed:function(){return'<svg width="16px" height="12px" viewBox="0 0 9 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g fill="#FFFFFF" fill-rule="nonzero">\n            <path style="fill:currentColor !important" d="M7.875,4 L7.3125,4 L7.3125,2.85714286 C7.3125,1.28 6.0525,0 4.5,0 C2.9475,0 1.6875,1.28 1.6875,2.85714286 L1.6875,4 L1.125,4 C0.50625,4 0,4.51428571 0,5.14285714 L0,10.8571429 C0,11.4857143 0.50625,12 1.125,12 L7.875,12 C8.49375,12 9,11.4857143 9,10.8571429 L9,5.14285714 C9,4.51428571 8.49375,4 7.875,4 Z M7.11248548,6.17405922 C7.38175483,6.47268397 7.38175483,6.92847965 7.0966461,7.21138731 L4.53066757,9.75755627 C4.38811321,9.8990101 4.19804072,9.96187847 4.02380761,9.96187847 C3.83373513,9.96187847 3.65950202,9.8990101 3.51694766,9.75755627 L2.34544071,8.45018243 C2.06033199,8.16727477 2.06033199,7.71147909 2.34544071,7.42857143 C2.63054944,7.14566377 3.08989127,7.14566377 3.375,7.42857143 L4.02380761,8.21728122 L6.08292619,6.17405922 C6.36803491,5.89115155 6.82737675,5.89115155 7.11248548,6.17405922 Z M4.5,1.08571429 C5.461875,1.08571429 6.24375,1.88 6.24375,2.85714286 L6.24375,4 L2.75625,4 L2.75625,2.85714286 C2.75625,1.88 3.538125,1.08571429 4.5,1.08571429 Z"></path>\n        </g>\n    </g>\n</svg>'},languagePicker:function(){return'\n<svg class="cs-icon" viewBox="0 0 48 48" width="16" height="16" xmlns="http://www.w3.org/2000/svg">\n  <path d="M23.99 4c-11.05 0-19.99 8.95-19.99 20s8.94 20 19.99 20c11.05 0 20.01-8.95 20.01-20s-8.96-20-20.01-20zm13.85 12h-5.9c-.65-2.5-1.56-4.9-2.76-7.12 3.68 1.26 6.74 3.81 8.66 7.12zm-13.84-7.93c1.67 2.4 2.97 5.07 3.82 7.93h-7.64c.85-2.86 2.15-5.53 3.82-7.93zm-15.48 19.93c-.33-1.28-.52-2.62-.52-4s.19-2.72.52-4h6.75c-.16 1.31-.27 2.64-.27 4 0 1.36.11 2.69.28 4h-6.76zm1.63 4h5.9c.65 2.5 1.56 4.9 2.76 7.13-3.68-1.26-6.74-3.82-8.66-7.13zm5.9-16h-5.9c1.92-3.31 4.98-5.87 8.66-7.13-1.2 2.23-2.11 4.63-2.76 7.13zm7.95 23.93c-1.66-2.4-2.96-5.07-3.82-7.93h7.64c-.86 2.86-2.16 5.53-3.82 7.93zm4.68-11.93h-9.36c-.19-1.31-.32-2.64-.32-4 0-1.36.13-2.69.32-4h9.36c.19 1.31.32 2.64.32 4 0 1.36-.13 2.69-.32 4zm.51 11.12c1.2-2.23 2.11-4.62 2.76-7.12h5.9c-1.93 3.31-4.99 5.86-8.66 7.12zm3.53-11.12c.16-1.31.28-2.64.28-4 0-1.36-.11-2.69-.28-4h6.75c.33 1.28.53 2.62.53 4s-.19 2.72-.53 4h-6.75z"/>\n</svg>\n  '}},Ha={play:function(){return'<svg id="icon-play" class="cs-icon play-icon" width="14" height="16" viewBox="0 0 14 16" focusable="false">\n    <path d="M1.4 15.4C0.8 15.8 0 15.3 0 14.5L0 1.4C0 0.6 0.8 0.1 1.4 0.5L12.9 7.1C13.5 7.5 13.5 8.4 12.9 8.8L8.0 11.6L1.4 15.4Z" stroke="none" />\n  </svg>'}},Na=function(t){return DS.detection.env.isPerpetual?Ma[t]||Ba:Ha[t]||Ma[t]||Ba};function Fa(t){return Fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fa(t)}function Va(t){return function(t){if(Array.isArray(t))return za(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Wa(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ua(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=o.call(n)).done)&&(l.push(i.value),l.length!==e);s=!0);}catch(t){c=!0,r=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(t,e)||Wa(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wa(t,e){if(t){if("string"==typeof t)return za(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?za(t,e):void 0}}function za(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Za(t,e){return Za=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Za(t,e)}function Ka(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Qa(t);if(e){var r=Qa(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Fa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ga(t)}(this,n)}}function Ga(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qa(t){return Qa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qa(t)}function qa(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==Fa(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Fa(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===Fa(o)?o:String(o)),i)}var r,o}function Ya(t,e,n){return e&&qa(t.prototype,e),n&&qa(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var $a=function(t){return Ra(t.slideid)},Ja=DS,tl=Ja.windowManager,el=Ja.focusManager,nl=Ja.TweenLite,il=Ja.events,rl=Ja.pubSub,ol=Ja.keyManager,al=Ja.resolver,ll=Ja.dom,sl=(ll.hasClass,ll.removeClass),cl=ll.addClass,ul=ll.getParentWithClass,fl=Ja._,dl=fl.bindAll,hl=(fl.first,Ja.utils),pl=hl.stripTags,yl=(hl.stripPlayer,hl.prefixWithPlayer),bl=Ja.globalEventHelper,vl=bl.addDocumentListener,ml=(bl.removeDocumentListener,Ja.detection),gl=ml.theme,wl=ml.os,Sl=Ya((function t(e,n,i){Xa(this,t),this.slideId=e,this.title=n,this.text=i})),kl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Za(t,e)}(n,t);var e=Ka(n);function n(t){var i;Xa(this,n),i=e.call(this,t),dl(Ga(i),"traverseLinks","performSearch","onSlideChanged","onClear","onReset","loadSlideBankSearchData"),i.animationDuration=.2;var r=G.model.frame.notesData||[];return i.notesBySlideId=r.map((function(t){return new Sl(yl(t.slideId),DS.utils.getPath(al.resolvePath(t.slideId,DS.presentation),"title"),pl(t.content).trim())})),i.slideTextData=G.model.frame.navData.search||[],i.slideTextBySlideId=i.slideTextData.filter((function(t){return!t.slidebank})).map((function(t){return new Sl(yl(t.slideid),DS.utils.getPath(al.resolvePath(t.slideid,DS.presentation),"title"),pl(t.Text).trim())})),i.menuOptions=G.model.frame.controlOptions.menuOptions,i.wrapListItems=i.menuOptions.wrapListItems,i.links=G.model.frame.navData.outline.links,i.hasSlideBankSlides=i.slideTextData.some((function(t){return t.slidebank})),i.hasSlideBankSlides&&rl.on(il.player.RESET,i.onReset),null!=i.clearEl&&i.onClickEl(i.clearEl,i.onClear),rl.on(il.search.CLEAR,i.onClear),i.onClickEl(i.searchFilterEl,i.onToggleSearchOptions),i.onClick(i.onClickLink),rl.on(il.window.MAIN_CHANGED,i.onSlideChanged),i}return Ya(n,[{key:"loadSlideBankSearchData",value:function(){this.slideBankTextBySlideId=this.slideTextData.filter((function(t){return t.slidebank})).reduce((function(t,e){var n=al.getSlideBankSlideInstance(e.slideid);return null!==n&&t.push(new Sl(n.absoluteId,n.title(),pl(e.Text))),t}),[])}},{key:"teardown",value:function(){rl.off(il.window.MAIN_CHANGED,this.onSlideChanged),window.globals.HAS_SLIDE&&rl.off(il.search.CLEAR,this.onClear)}},{key:"onSlideChanged",value:function(t){var e=this.resultsEl.querySelector(".cs-selected"),n=this.resultsEl.querySelector('[data-slide-id="'.concat(t.absoluteId,'"]'));null!=e&&sl(e,"cs-selected"),null!=n&&(cl(n,"cs-selected"),cl(n,"cs-viewed"),this.updateAriaLabel(n))}},{key:"onReset",value:function(){this.onClear(),this.loadSlideBankSearchData()}},{key:"onFocus",value:function(t){t.relatedTarget;var e=t.target;if(this.el.contains(e)){if(e===this.searchFilterEl||e===this.clearEl)return el.setFocusRectOn(e),this.isFocused=!1,!1;if(e===this.notesCheckEl||e===this.slideCheckEl)return el.setFocusRectOn(e.parentElement),this.isFocused=!1,!1;if(!this.isFocused&&(!gl.isUnified||ol.isShowFocus)){var n=Ua(this.getItems(),1)[0];this.isFocused=!0,null!=n&&(this.currentItem=n,this.lastSelected!==this.currentItem&&this.focusOnCurrent(),vl("keydown",this.onKeydown))}}return!1}},{key:"getIsSearchVisible",value:function(){return this.searchOptionsEl.classList.contains("visible")}},{key:"setCheckboxesVisible",value:function(t){this.notesCheckEl.hidden=t,this.slideCheckEl.hidden=t}},{key:"onToggleSearchOptions",value:function(t){var e=this,n=this.getIsSearchVisible(),i=n?"remove":"add";this.searchOptionsEl.classList[i]("visible"),n?(clearTimeout(this.checkBoxTimeout),this.checkBoxTimeout=setTimeout((function(){e.setCheckboxesVisible(n)}),200)):this.setCheckboxesVisible(n)}},{key:"onClickLink",value:function(t){if("locked"!==this.menuOptions.flow){var e=ul(t.target,"listitem"),n=e.dataset.slideId;null==n||"restricted"===this.menuOptions.flow&&!t.target.classList.contains("cs-viewed")||(cl(e,"cs-viewed"),this.updateAriaLabel(e),rl.trigger(il.request.NEXT_SLIDE,n))}}},{key:"updateAriaLabel",value:function(t){gl.isUnified&&Va(t.querySelector(".outline-states").children).forEach((function(e){if("none"===window.getComputedStyle(e).display);else{var n=e.getAttribute("aria-label"),i=t.getAttribute("data-slide-title");t.children[0].textContent=i+" "+n}}))}},{key:"traverseLinks",value:function(t){for(var e=0;e<t.length;e++){var n=t[e];$a(n)||this.searchResults.has(n.slideid)||(this.noSearchTerm||n.displaytext.toLowerCase().indexOf(this.term)>=0)&&this.searchResults.set(n.slideid,n.displaytext),null!=n.links&&this.traverseLinks(n.links)}}},{key:"getDefaultSate",value:function(t){var e=tl.getCurrentWindow().getCurrentSlide().absoluteId===t||al.resolvePath(t).viewed,n=this.menuOptions.flow;if(e)switch(n){case"free":case"restricted":return G.model.getString("acc_visited");case"locked":return"".concat(G.model.getString("acc_visited"),", ").concat(G.model.getString("acc_locked"))}else switch(n){case"free":return"";case"restricted":case"locked":return G.model.getString("acc_locked")}}},{key:"performSearch",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(window.globals.HAS_SLIDE){this.term=e.toLowerCase(),this.items=null,this.noSearchTerm=""===e,this.searchResults=new Map,this.resultsEl.innerHTML="",this.slideTextEnabled=this.slideCheckEl.checked,this.notesEnabled=this.notesCheckEl.checked;var n=G.model.frame.navData.links;null!=n&&this.traverseLinks(n),this.hasSlideBankSlides&&void 0===this.slideBankTextBySlideId&&this.loadSlideBankSearchData();var i=function(e){e.forEach((function(e){(e.text.toLowerCase().indexOf(t.term)>=0||e.title.toLowerCase().indexOf(t.term)>=0)&&t.searchResults.set(e.slideId,e.title)}))},r=!this.noSearchTerm;this.slideTextEnabled&&r&&i(this.slideTextBySlideId),this.hasSlideBankSlides&&r&&i(this.slideBankTextBySlideId),this.notesEnabled&&r&&i(this.notesBySlideId);wl.isIOS;var o=this.wrapListItems?"":"no-wrap",a=tl.getCurrentWindow().getCurrentSlide().absoluteId,l=0;this.searchResults.forEach((function(e,n){0;var i=a===n?"cs-selected":"",r=document.createElement("li"),s=al.resolvePath(n).viewed?"cs-viewed":"",c=t.menuOptions.flow,u=t.getDefaultSate(n),f='\n      <div role="menuitem" class="cs-listitem listitem '.concat(i," ").concat(o," ").concat(s," ").concat("free"!==c&&"cs-"+c,'"\n           data-slide-id="').concat(n,'"\n           data-slide-title="').concat(e,'"\n           tabindex="').concat(l,'"\n           role = "treeitem">\n          <span style="position: absolute; opacity: 0;">').concat(e," ").concat(u,"</span>");gl.isUnified?f+='\n           <span class="linkText" aria-hidden="true">\n             '.concat(e,'\n           </span>\n           <span class="outline-states" aria-hidden="true">\n             <span class="visitedIcon" aria-label="').concat(G.model.getString("acc_visited"),'">\n               ').concat(Na("checkmark")(),'\n             </span>\n             <span class="lockedIcon" aria-label="').concat(G.model.getString("acc_locked"),'">\n               ').concat(Na("lock")(),'\n             </span>\n             <span class="lockedViewedIcon" aria-label="').concat(G.model.getString("acc_visited"),", ").concat(G.model.getString("acc_locked"),'">\n               ').concat(Na("lockedViewed")(),"\n             </span>\n           </span>\n        </div>\n      "):f+="\n             ".concat(e,"\n        </div>"),r.innerHTML=f,t.resultsEl.appendChild(r),l=-1}))}}},{key:"onClear",value:function(){var t=this,e=this.view.parent.children,n=e.outline,i=e.search;this.outlineUl=this.outlineUl||document.querySelector("#outline-content ul"),n.setVisibility(!0),nl.to(this.el,this.animationDuration,{alpha:0,onComplete:function(){nl.to(t.outlineUl,t.animationDuration,{alpha:1}),t.view.setVisibility(!1),i.children.bottomDiv.el.style.opacity=1,ol.isShowFocus&&t.el.contains(document.activeElement)&&n.el.focus()}}),this.term="",i.children.searchInput.el.value="",sl(document.body,"search-results-active"),rl.trigger(il.search.UPDATE_PANEL)}},{key:"hasListItems",value:function(){return!_.isEmpty(this.getItems())}},{key:"getItems",value:function(){return this.items=this.items||Va(this.el.querySelectorAll(".cs-listitem")),this.items}},{key:"activateItem",value:function(){this["locked"!==this.menuOptions.flow?"onClickLink":"onCarrotClick"]({target:this.currentItem})}},{key:"findIndexCb",value:function(t,e){return t===e}},{key:"getItemContent",value:function(){return this.currentItem}},{key:"onAfterVisible",value:function(){this.view.parent.children.outline.setVisibility(!1)}}]),n}(Da),Ol=kl;function Cl(t){return Cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cl(t)}function El(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==Cl(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Cl(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===Cl(o)?o:String(o)),i)}var r,o}function Ll(){return Ll="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Il(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},Ll.apply(this,arguments)}function Tl(t,e){return Tl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Tl(t,e)}function xl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Il(t);if(e){var r=Il(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Cl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Pl(t)}(this,n)}}function Pl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Il(t){return Il=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Il(t)}var _l=DS,jl=_l.pubSub,Dl=_l.events,Al=_l.utils.toSeconds,Rl=_l.constants.MOBILE_ANIMATION_DURATION,Bl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tl(t,e)}(o,t);var e,n,i,r=xl(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=r.call(this,t),_.bindAll(Pl(e),"onClear"),e.animationDuration=Al(Rl),jl.on(Dl.sidebar.HIDE_SEARCH,e.onClear),e}return e=o,(n=[{key:"onClear",value:function(){Ll(Il(o.prototype),"onClear",this).call(this)}},{key:"onClickLink",value:function(t){Ll(Il(o.prototype),"onClickLink",this).call(this,t),jl.trigger(Dl.tab.HIDE),jl.trigger(Dl.sidebar.CLOSE),jl.trigger(Dl.topEllipsesPanel.HIDE)}}])&&El(e.prototype,n),i&&El(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(Ol);function Ml(t){return Ml="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ml(t)}function Hl(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Ml(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Ml(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ml(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Nl="searchResults",Fl=G.def(Nl,Bl,(function(t){var e,n=G.model,i=n.rtl?"rtl":"";return Hl(e={attrs:{id:Nl+"-content",class:"cs-menu cs-panel panel".concat(i),tabindex:-1},z:2,x:0,y:0,w:"100%"},"y",(function(){return 48})),Hl(e,"h",(function(){return this.parent.h})),Hl(e,"visible",!1),Hl(e,"html",'\n     <div class="outline-title">'.concat(n.title.text,'</div>\n      <span class="cs-outline search-content">\n        <div style="display:none">\n          <span class="flex-static-auto">\n            <h4 data-ref="title" class=\'cs-heading search-heading panel-section-heading\'>\n              ').concat(n.getString("search_results"),'\n            </h4>\n            <button class="btn-unstyled search-filter cs-search-filter" tabindex="0" data-ref="searchFilter">\n              <span>').concat(n.getString("filter"),"</span>\n              ").concat(Cn("filter")(),'\n            </button>\n          </span>\n          \n          <div class="search-options flex-static-auto" data-ref="searchOptions">\n            <p>').concat(n.getString("search_in"),'</p>\n            <label>\n              <input data-ref="notesCheck" type="checkbox" checked>\n              <span>').concat(n.getString("transcript_chk"),'</span>\n            </label>\n            <label>\n              <input data-ref="slideCheck" type="checkbox" checked>\n              <span>').concat(n.getString("slide_text_chk"),'</span>\n            </label>\n          </div>\n        </div>\n        <div class="search-results is-scrollable" tabindex="0" data-ref="searchResults">\n          <ul data-ref="results"></ul>\n        </div>\n       \n        <button data-ref="clear" class="btn search-clear cs-button flex-static-auto">\n          <span>').concat(n.getString("clear"),"</span>\n          ").concat(Cn("clear")(),"\n        </button>\n      </span>\n    ")),e}));function Vl(t){return Vl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vl(t)}function Ul(t){return function(t){if(Array.isArray(t))return Wl(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Wl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wl(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function zl(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==Vl(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Vl(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===Vl(o)?o:String(o)),i)}var r,o}function Zl(){return Zl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ql(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},Zl.apply(this,arguments)}function Kl(t,e){return Kl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Kl(t,e)}function Gl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=ql(t);if(e){var r=ql(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Vl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ql(t)}(this,n)}}function Ql(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ql(t){return ql=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ql(t)}var Yl,Xl=DS,$l=Xl.detection,Jl=Xl.pubSub,ts=Xl._,es=Xl.events,ns=Xl.keyManager,is=Xl.resolver,rs=Xl.windowManager,os=Xl.utils.prefixWithPlayer,as=Xl.focusManager.setFocusRectOn,ls=Xl.globalEventHelper.addDocumentListener,ss=Xl.dom,cs=ss.parentNodesOf,us=ss.getParentWithClass,fs=ss.hasClass,ds=ss.addClass,hs=ss.removeClass,ps=function(t){return cs(t,(function(t){return"li"===t.nodeName.toLowerCase()}))},ys=function(t){return ps(t).slice(1).some((function(t){return fs(t,"item-collapsed")}))},bs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kl(t,e)}(o,t);var e,n,i,r=Gl(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=r.call(this,t),ts.bindAll(Ql(e),"updateVisitedSlides","onSlideChanged","onSelectFirstSlideLink","addSlideToVisited","visuallyUpdateLinks","collapseLastItem","onClickLink","onCarrotClick","onClickItem","centerOnFocused","setDrawSlides","mouseDown","mouseUp"),e.visitedSlides=new Set,e.menuOptions=G.model.frame.controlOptions.menuOptions,Jl.once(es.resume.SET_DATA,e.updateVisitedSlides),Jl.on(es.window.MAIN_CHANGED,e.onSlideChanged),Jl.on(es.mobile.OUTLINE_SHOWN,e.centerOnFocused),Jl.on(es.navData.SELECT_FIRST_SLIDE_LINK,e.onSelectFirstSlideLink),e.removeDocListeners=ts.flow(ls("mousedown",e.mouseDown),ls("mouseup",e.mouseUp)),null!=DS.presentation.getDrawPromise&&DS.presentation.getDrawPromise().then(e.setDrawSlides),e.isTopTabChild=G.model.topTabs.some((function(t){return"outline"===t.name})),DS.flagManager.aiCourseTranslation&&Jl.on(es.frame.SHOW_TAB_ITEM,e.onShowTabItem.bind(Ql(e))),Jl.on(es.navData.REFRESH_VIEW,(function(){if(DS.flagManager.multiLangSupport){var t=DS.utils.getPath(e.el.querySelector(".cs-selected"),"dataset.ref");e.view.updateHtml(),e.view.update(),e.view.initChildRefs(),e.visuallyUpdateLinks();var n=DS.utils.getPath(e.view,["children",t,"el"]);null!=n&&ds(n,"cs-selected")}else e.view.updateHtml(),e.view.update()})),e}return e=o,n=[{key:"teardown",value:function(){Jl.off(es.window.MAIN_CHANGED,this.onSlideChanged),Jl.off(es.mobile.OUTLINE_SHOWN,this.centerOnFocused),this.removeDocListeners()}},{key:"focusSelf",value:function(){this.getItems().find((function(t){return 0===t.parentNode.tabIndex})).parentNode.focus()}},{key:"onFocus",value:function(){var t=this;this.isMouseDown||(null!=this.view.parent.children.search&&$l.theme.isUnified?setTimeout((function(){t.el.contains(document.activeElement)&&Zl(ql(o.prototype),"onFocus",t).call(t)}),500):Zl(ql(o.prototype),"onFocus",this).call(this))}},{key:"mouseDown",value:function(){this.isMouseDown=!0}},{key:"mouseUp",value:function(){this.isMouseDown=!1}},{key:"onClickItem",value:function(t){var e=this;if($l.theme.isUnified){var n=us(t.target,"listitem");fs(t.target,"carrot")&&(e.onCarrotClick(n),1)||n&&fs(n.parentNode,"item-collapsible")&&(e.onCarrotClick(n),!fs(n,"is-promoted-slide"))||"locked"!==e.menuOptions.flow&&e.onClickLink(n)}else("locked"!==this.menuOptions.flow?this.onClickLink:this.onCarrotClick)(t.target)}},{key:"visuallyUpdateLinks",value:function(){var t=this;this.visitedSlides.forEach((function(e){var n=t.view.children[e];null!=n&&($l.theme.isUnified?t.updateViewedState(n.el):ds(n.el,"cs-viewed"))})),$l.theme.isUnified&&(this.setComplete("div.is-promoted-slide"),this.setComplete("div.is-scene",1))}},{key:"setComplete",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.el.querySelectorAll(t);Array.from(i).forEach((function(t){Array.from(t.parentNode.querySelectorAll("div")).slice(n).every((function(t){return fs(t,"cs-viewed")}))&&(ds(t,"cs-complete"),e.updateAriaLabel(t))}))}},{key:"updateVisitedSlides",value:function(t,e){null!=t&&(t.forEach(this.addSlideToVisited),this.visuallyUpdateLinks())}},{key:"getNextItem",value:function(t){var e,n=this,i=this.getItems(),r=i.findIndex((function(e){return n.findIndexCb(e,t)}));do{(r+=1)===i.length&&(r=0),e=i[r]}while(ys(e));return e}},{key:"getPrevItem",value:function(t){var e,n=this,i=this.getItems(),r=i.findIndex((function(e){return n.findIndexCb(e,t)}));do{-1==(r-=1)&&(r=i.length-1),e=i[r]}while(ys(e));return e}},{key:"addSlideToVisited",value:function(t){var e=t.absoluteId,n=t.getScene().absoluteId;this.visitedSlides.add(n).add(e)}},{key:"isCurrentLinkParent",value:function(t,e){return t.el===this.view.children[e].el&&t.el.getAttribute("data-has-links")&&!t.el.getAttribute("data-is-scene")}},{key:"onSelectFirstSlideLink",value:function(){var t=this.view.el.querySelector("ul > li > div:not(.is-scene)");if(null!=t){var e=t.getAttribute("data-ref");this.selectLink(t,e)}}},{key:"onSlideChanged",value:function(t){if(this.addSlideToVisited(t),!this.currentItem||us(this.currentItem,"listitem").getAttribute("data-ref")!=t.absoluteId){var e=t.absoluteId,n=this.view.children[e];if(null==n){var i=t.getSlideDraw();null!=i&&(e=i.absoluteId,n=this.view.children[e])}null!=n&&this.selectLink(n.el,e)}}},{key:"selectLink",value:function(t,e){var n=this;this.onClickLink(t,!0),cs(t,(function(i){i.classList.contains("item-collapsed")&&(n.isCurrentLinkParent(t,e)||(hs(i,"item-collapsed"),i.setAttribute("aria-expanded",!0)))}),(function(t){return n.el===t}))}},{key:"collapsibleParents",value:function(t){var e=this;return cs(t,(function(t){return t.classList.contains("item-collapsible")}),(function(t){return e.el===t}))}},{key:"collapseLastItem",value:function(t){var e=this;null!=this.lastExpandedEls&&this.menuOptions.autocollapse&&this.lastExpandedEls.forEach((function(n){n.contains(t)||fs(n,"item-collapsed")||e.toggleScene(n)}))}},{key:"toggleScene",value:function(t){var e,n=fs(t,"item-collapsed");if(e=n?"remove":"add",t.classList[e]("item-collapsed"),t.setAttribute("aria-expanded",n),$l.theme.isUnified){var i=Array.from(t.querySelectorAll("div.listitem")),r=i[0];!function(t,e){if(!n){var i=t.slice(1).filter((function(t){return!fs(t,"is-promoted-slide")&&!fs(t,"is-scene")}));i.some((function(t){return fs(t,"cs-viewed")}))&&hs(e,"cs-unvisited"),i.every((function(t){return fs(t,"cs-viewed")}))&&ds(e,"cs-complete")}}(i,r),this.updateAriaLabel(r)}Jl.trigger(es.menuLinksListItem.TOGGLE)}},{key:"updateAriaLabel",value:function(t){var e=[].slice.call(t.querySelector(".outline-states").children),n=t.getAttribute("data-slide-title"),i=t.children[0];e.some((function(t){if("none"!==window.getComputedStyle(t).display){var e=t.getAttribute("aria-label");return i.textContent=n+" "+e,!0}}))||(i.textContent=n)}},{key:"onCarrotClick",value:function(t){if(null!==t){var e=us(t,"item-collapsible");this.toggleScene(e)}}},{key:"onClickLink",value:function(t,e){var n=this;if(t)if($l.theme.isUnified){var i=t.getAttribute("data-ref"),r=null!=i;if("restricted"!==this.menuOptions.flow||e||this.visitedSlides.has(i)){if(null!=this.currentItem&&t!==this.currentItem&&(this.currentItem.tabIndex=-1,hs(this.currentItem,"hover")),this.currentItem=t,null!=i&&(this.collapseLastItem(t),this.lastExpandedEls=this.collapsibleParents(t),this.lastExpandedEls.forEach((function(t){var e=t.firstElementChild;i.includes(e.getAttribute("data-ref"))&&(ds(e,"cs-viewed"),n.updateAriaLabel(e))}))),fs(t,"listitem")){this.updateViewedState(t);var o=this.el.querySelector(".cs-selected");fs(t,"is-scene")||(null!=o&&(hs(o,"cs-selected"),this.updateAriaLabel(o)),ds(t,"cs-selected"),window.requestAnimationFrame((function(){return n.updateAriaLabel(t)})))}else this.onCarrotClick(t);if(r&&!e){var a=rs.getCurrentWindowSlide().absoluteId;i!=a&&(Jl.trigger(es.request.NEXT_SLIDE,i),$l.theme.isUnified&&Jl.trigger(es.topEllipsesPanel.HIDE)),$l.deviceView.isMobile&&(Jl.trigger(es.tab.HIDE),($l.deviceView.isPhone||$l.theme.isClassic)&&Jl.trigger(es.sidebar.CLOSE))}null!=this.currentItem&&null!=this.focusor&&as(this.currentItem)}}else this.onClickLinkOld(t,e)}},{key:"onClickLinkOld",value:function(t,e){var n=t.getAttribute("data-ref"),i=null!=n,r=Ra(n);if("UL"!==t.nodeName)if("restricted"!==this.menuOptions.flow||e||this.visitedSlides.has(n)){if(null!=this.currentItem&&t!==this.currentItem&&(this.currentItem.tabIndex=-1,hs(this.currentItem,"hover")),this.currentItem=t,(r||fs(t.parentNode,"item-collapsible"))&&this.toggleScene(t.parentNode),null!=n&&(this.collapseLastItem(t),this.lastExpandedEls=this.collapsibleParents(t),Array.from(this.lastExpandedEls).forEach((function(t){var e=t.firstElementChild;n.includes(e.getAttribute("data-ref"))&&ds(e,"cs-viewed")}))),fs(t,"listitem")){ds(t,"cs-viewed");var o=this.el.querySelector(".cs-selected");null!=o&&hs(o,"cs-selected"),ds(t,"cs-selected")}else this.onCarrotClick(t);if(i&&!e){var a=rs.getCurrentWindowSlide().absoluteId;r||n==a||(Jl.trigger(es.request.NEXT_SLIDE,n),$l.theme.isUnified&&Jl.trigger(es.topEllipsesPanel.HIDE)),$l.deviceView.isMobile&&(Jl.trigger(es.tab.HIDE),($l.deviceView.isPhone||$l.theme.isClassic)&&Jl.trigger(es.sidebar.CLOSE))}null!=this.currentItem&&null!=this.focusor&&as(this.currentItem)}else fs(t,"carrot")&&this.onCarrotClick(t)}},{key:"updateViewedState",value:function(t){ds(t,"cs-viewed");var e=ps(t).pop();if(!fs(t,"is-scene")&&null!=e){var n=e.querySelector("div.listitem");hs(n,"cs-unvisited")}this.updateAriaLabel(t)}},{key:"isExpanded",value:function(){return!!this.currentItem.dataset.hasLinks&&fs(this.parentElement,"item-collapsed")}},{key:"onKeydown",value:function(t){var e=this.currentItem;if(ns.isActionKey(t.which))this.activateItem(),ns.isSpaceKey(t.which)&&t.preventDefault();else if(ns.isRightKey(t.which)&&e.dataset.hasLinks)fs(this.currentItem.parentNode,"item-collapsed")?this.onCarrotClick(this.currentItem.firstElementChild):this.currentItem=this.getNextItem(this.getItemContent());else if(ns.isDownKey(t.which))this.currentItem=this.getNextItem(this.getItemContent());else if(ns.isUpKey(t.which))this.currentItem=this.getPrevItem(this.getItemContent());else if(ns.isLeftKey(t.which))if(e.dataset.hasLinks&&!fs(e.parentNode,"item-collapsed"))this.onCarrotClick(this.currentItem.firstElementChild);else{var n=us(this.currentItem,"item-collapsible");null!=n&&(this.currentItem=n.querySelector(".cs-listitem"))}else ns.isHomeKey(t.which)?this.currentItem=this.getFirstItem():ns.isEndKey(t.which)&&(this.currentItem=this.getLastItem());e!==this.currentItem&&(t.preventDefault(),hs(e,"hover"),e.parentNode.tabIndex=-1,this.focusOnCurrent())}},{key:"focusOnCurrent",value:function(){this.centerOnFocused(),document.activeElement!==this.currentItem.parentNode&&(this.currentItem.parentNode.tabIndex=0,ds(this.currentItem,"hover"),this.currentItem.parentNode.focus()),as(this.currentItem)}},{key:"hasListItems",value:function(){return!ts.isEmpty(G.model.frame.navData.outline.links)}},{key:"getItems",value:function(){return this.links=this.links||Ul(this.el.querySelectorAll(".cs-listitem")),this.links}},{key:"activateItem",value:function(){var t="locked"!==this.menuOptions.flow&&null==this.currentItem.dataset.isScene,e=t?"onClickLink":"onCarrotClick",n=t?this.currentItem:this.currentItem.querySelector(".carrot");this[e](n)}},{key:"findIndexCb",value:function(t,e){return t===e}},{key:"getItemContent",value:function(){return this.currentItem}},{key:"getTreeRootEl",value:function(){return this.el.querySelector("ul")}},{key:"getOffsetEl",value:function(){return $l.deviceView.isMobile?this.el.parentNode:this.el}},{key:"getOffsetTop",value:function(t){return $l.deviceView.isMobile?ts.first(cs(t,(function(t){return"li"===t.nodeName.toLowerCase()}))).offsetTop:Zl(ql(o.prototype),"getOffsetTop",this).call(this,t)}},{key:"onShowTabItem",value:function(t,e){if("outline"===t&&null!=e){var n=this.getItems().find((function(t){return t.dataset.translationId===e}));null!=n&&n.scrollIntoView({block:"nearest",behavior:"smooth"})}}},{key:"scrollToCurrent",value:function(){var t=this;$l.deviceView.isMobile&&(this.currentItem=this.getItems().find((function(e){return e.getAttribute("data-ref")===t.currentSlideId}))),Zl(ql(o.prototype),"scrollToCurrent",this).call(this)}},{key:"setDrawSlides",value:function(){var t=this;this.view.draws.forEach((function(e){var n=e.link,i=e.links,r=is.resolvePath(os(n.drawid)),o=function(){var e=n.spliceNum||1,o=r.slides();i.splice.apply(i,[n.index,e].concat(Ul(o.map(t.createNewLink)))),n.spliceNum=o.length,t.view.updateHtml(),t.view.initChildRefs()};r.on(es.draw.RESET_COMPLETE,o),null!=r.slides()&&o()}))}},{key:"createNewLink",value:function(t){var e={kind:"slidelink",expand:!1,type:"slide"};return e.slideid=t.absoluteId,e.slidetitle=e.displaytext=t.get("title"),e}}],n&&zl(e.prototype,n),i&&zl(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(Da),vs=bs,ms=DS,gs=ms.pubSub,ws=ms.events,Ss=ms.constants.MOBILE_ANIMATION_DURATION,ks="outline",Os=function(t){for(var e="";t;)e=t.index+1+"."+e,t=null!=t.parent&&"slidelink"===t.parent.kind&&t.parent;return e+" "},Cs=G.def(ks,vs,(function(t){var e=G.model,n=G.model.rtl,i=(G.getNamespace(DS.constants.refs.FRAME),n?"rtl":""),r=e.frame.controlOptions.menuOptions,o=r.wrapListItems,a=r.autonumber,l=e.frame.controlOptions.controls.search,s=0;return l&&(gs.on(ws.sidebar.SHOW_SEARCH,(function(){s=48,Yl.update()})),gs.on(ws.sidebar.HIDE_SEARCH,(function(){setTimeout((function(){s=0,Yl.update()}),Ss)}))),{tag:"nav",attrs:{id:ks+"-content",class:"cs-menu cs-panel is-scrollable cs-outline panel ".concat(i),tabindex:-1},w:"100%",y:function(){return s},h:function(){var t=this.parent.h;return t-s},overflow:"auto",draws:[],updateHook:function(){Yl=this},html:function(){var t=this,i=e.frame.navData.outline.links||[];this.el.depth=0,this.el.innerHTML='\n        <div class="outline-title">'.concat(e.title.text,"</div>\n      "),function e(i,r,l){var s=document.createElement("ul");s.depth=r.depth+1,r.appendChild(s);for(var c=0;c<i.length;c++){var u=document.createElement("li"),f=i[c];f.parent=l,f.index=c,u.setAttribute("tabindex",-1),s.appendChild(u),u.depth=s.depth;var d=null!=f.links,h=15*u.depth+5,p=f.slideid;null==p&&t.draws.push({link:f,links:i,i:c});var y=Ra(p);u.innerHTML='\n            <div\n              class="cs-listitem listitem '.concat(o?"":"no-wrap",'"\n              style="padding-').concat(n?"right":"left",": ").concat(h,'px;"\n              data-ref="').concat(p,'"\n              data-slide-title="').concat(i[c].displaytext,'"\n              ').concat(y?'data-is-scene="true"':"","\n              ").concat(d?'data-has-links="true"':"",'\n              tabIndex="-1"\n              >\n\n               ').concat(a?Os(f):""," ").concat(f.displaytext,"\n            </div>\n          "),d&&(u.classList.add("item-collapsible"),f.expand||u.classList.add("item-collapsed"),e(f.links,u,f))}}(i,this.el)}}}));function Es(t){return function(t){if(Array.isArray(t))return Ls(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Ls(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ls(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ls(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Ts="outlineSearch",xs=G.def(Ts,(function(){var t=G.model,e=t.frame,n=t.rtl,i=e.controlOptions.controls.search,r=n?"rtl":"";return{attrs:{id:"".concat(Ts,"-content"),class:"outline-search ".concat(r),tabindex:-1},overflow:"scroll",w:"100%",h:"100%",model:e,childViews:[Cs].concat(Es(i?[ua,Fl]:[]))}}));function Ps(t){return Ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ps(t)}function Is(t){return function(t){if(Array.isArray(t))return _s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return _s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _s(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function js(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Ms(i.key),i)}}function Ds(t,e){return Ds=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ds(t,e)}function As(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Bs(t);if(e){var r=Bs(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Ps(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Rs(t)}(this,n)}}function Rs(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bs(t){return Bs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Bs(t)}function Ms(t){var e=function(t,e){if("object"!==Ps(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Ps(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ps(e)?e:String(e)}var Hs=DS,Ns=(Hs._,Hs.focusManager),Fs=Hs.detection,Vs=Hs.pubSub,Us=Hs.events,Ws=Hs.dom,zs=Ws.addClass,Zs=Ws.removeClass,Ks=(Hs.keyManager.isTabKey,function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ds(t,e)}(o,t);var e,n,i,r=As(o);function o(t){var e,n,i,a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=r.call(this,t),n=Rs(e),a=void 0,(i=Ms(i="s"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,e.view.isUnified&&(e.getScrollEl=function(){return e.termsEl},e.getOffsetTop=function(t){return t.offsetTop},e.getOffsetHeight=function(t){return t.offsetHeight+t.nextElementSibling.clientHeight}),e.hasDefinition=Fs.deviceView.isDesktop&&!e.view.isUnified,Vs.on(Us.glossary.REFRESH_VIEW,(function(){e.view.updateHtml(),e.view.update()})),DS.flagManager.aiCourseTranslation&&Vs.on(Us.frame.SHOW_TAB_ITEM,e.onShowTabItem.bind(Rs(e))),e}return e=o,(n=[{key:"onClickItem",value:function(t){var e=t.target;if(this.hasDefinition&&null!=e&&"p"!==e.nodeName.toLowerCase()){var n=null!=this.activeItem;n&&(this.activeItem.firstElementChild.setAttribute("aria-expanded",!1),this.activeItem.style.backgroundColor="",this.closeItem(this.activeItem)),n&&this.lastSelected==e||(e.setAttribute("aria-expanded",!0),this.openItem(e.parentElement)),this.lastSelected=e}}},{key:"getNextItem",value:function(t){var e,n=this.getItems(),i=this.getItems().indexOf(this.currentItem);do{(i+=1)===n.length&&(i=0),e=n[i]}while("none"===e.parentElement.style.display);return e}},{key:"getPrevItem",value:function(t){var e,n=this.getItems(),i=this.getItems().indexOf(this.currentItem);do{-1==(i-=1)&&(i=n.length-1),e=n[i]}while("none"===e.parentElement.style.display);return e}},{key:"hasListItems",value:function(){return!DS._.isEmpty(this.model.frame.glossaryData)}},{key:"getItems",value:function(){return this.links=this.links||Is(this.el.querySelectorAll(".term")),this.links}},{key:"openItem",value:function(t){zs(t,"cs-selected"),t.nextElementSibling.style.display="block",zs(t.nextElementSibling,"open"),this.activeItem=t}},{key:"closeItem",value:function(t){var e=this;Zs(t,"cs-selected"),Zs(t.nextElementSibling,"open"),this.activeItem=null,TweenLite.to(t,.2,{opacity:1,onComplete:function(){t.nextElementSibling.style.display="none",Ns.setFocusRectOn(e.currentItem)}})}},{key:"onShowTabItem",value:function(t,e){if("glossary"===t&&null!=e){var n=Is(this.el.querySelectorAll("[data-translation-id]")).find((function(t){return t.dataset.translationId===e}));null!=n&&n.scrollIntoView({block:"nearest",behavior:"smooth"})}}}])&&js(e.prototype,n),i&&js(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(Da));function Gs(t){return Gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(t)}function Qs(t){return function(t){if(Array.isArray(t))return qs(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return qs(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qs(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qs(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Ys(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==Gs(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Gs(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===Gs(o)?o:String(o)),i)}var r,o}function Xs(t,e){return Xs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Xs(t,e)}function $s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=tc(t);if(e){var r=tc(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Gs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Js(t)}(this,n)}}function Js(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tc(t){return tc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tc(t)}var ec=DS,nc=(ec.detection,ec.pubSub),ic=ec.events,rc=ec.keyManager.isSpaceKey,oc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xs(t,e)}(o,t);var e,n,i,r=$s(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=r.call(this,t),nc.on(ic.resources.REFRESH_VIEW,(function(){e.view.updateHtml(),e.view.update()})),DS.flagManager.aiCourseTranslation&&nc.on(ic.frame.SHOW_TAB_ITEM,e.onShowTabItem.bind(Js(e))),e}return e=o,(n=[{key:"onClickItem",value:function(){}},{key:"hasListItems",value:function(){return(this.model.resourceData.resources||[]).length>0}},{key:"getItems",value:function(){return this.items=this.items||Qs(this.el.querySelectorAll(".resource a")),this.items}},{key:"activateItem",value:function(t){rc(t.keyCode)&&DS.windowOpen.open({url:this.currentItem.dataset.url})}},{key:"getOffsetTop",value:function(t){return this.currentItem.offsetTop}},{key:"getFocusRectTarget",value:function(){return this.currentItem.parentNode}},{key:"onShowTabItem",value:function(t,e){if("resource"===t&&null!=e){var n=this.getItems().find((function(t){return t.dataset.translationId===e}));null!=n&&n.scrollIntoView({block:"nearest",behavior:"smooth"})}}}])&&Ys(e.prototype,n),i&&Ys(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(Ks),ac=DS,lc=ac.utils,sc=lc.getPath,cc=lc.stripTags,uc=ac.detection.device.isMobile,fc="resources",dc=G.def(fc,oc,(function(){var t=G.model,e=t.frame,n=t.rtl?"rtl":"";return DS.slideObjectUtils.activeMobileMenuItem(G.model.frame.resourceData.resources,"no-resources"),{attrs:{id:"".concat(fc,"-content"),class:"is-scrollable panel ".concat(n),tabindex:-1},overflow:"",model:e,html:'\n      <h4 class="resources-title '.concat(n,'" tabindex="-1">\n        ').concat(cc(sc(e,"resourceData.description")),"\n      </h4>\n      <div class='resources-content panel-content'>\n        <ul>\n          ").concat(sc(e,"resourceData.resources",[]).reduce((function(t,e,n){var i=uc?"data-url":"href",r=uc?e.url:"javascript:DS.windowOpen.open({ url: '".concat(e.url,"' })"),o=uc?'target="_blank"':"";return"".concat(t,'\n              <li class="cs-listitem resource" tabindex="-1"\n                data-url="').concat(e.url,'"\n                id="resource-').concat(n,'"\n                role="presentation">\n                  <a href="').concat(e.url,'" ').concat(i,'="').concat(r,'" ').concat(o,' tabindex="').concat(0===n?0:-1,'">\n                    <img src="').concat(e.image,'" role="presentation" tabindex="-1" />\n                    ').concat(e.title,"\n                  </a>\n              </li>")}),""),"\n        </ul>\n      </div>")}})),hc=DS,pc=hc.slideObjectUtils,yc=hc.utils.getPath,bc="glossary",vc=G.def(bc,(function(){var t=G.model,e=G.model.rtl?"rtl":"";return pc.activeMobileMenuItem(t.frame.glossaryData,"no-glossary"),{attrs:{id:"".concat(bc,"-content"),class:"panel ".concat(e),tabindex:-1},w:"100%",h:"100%",model:t,html:'\n      <h4 class="panel-section-heading glossary-title cs-heading">\n        '.concat(t.getString("terms"),'\n      </h4>\n\n      <div data-ref="terms" class="glossary-content scrolling-panel">\n        <ul>\n        ').concat(yc(t,"frame.glossaryData",[]).map((function(t){return'\n              <dt class="glossary-item glossary-term" tabindex="-1">\n                '.concat(t.title,'\n              </dt>\n              <dd class="glossary-item glossary-desc" tabindex="-1">\n                ').concat(t.content,"\n              </dd>\n            ")})).join(""),"\n        </ul>\n      </div>")}}));function mc(t){return mc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mc(t)}function gc(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==mc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==mc(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===mc(o)?o:String(o)),i)}var r,o}function wc(t,e){return wc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},wc(t,e)}function Sc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Oc(t);if(e){var r=Oc(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===mc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return kc(t)}(this,n)}}function kc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oc(t){return Oc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Oc(t)}var Cc=/color:#ffffff/gi,Ec=DS,Lc=Ec.detection,Tc=Ec.events,xc=Ec.focusManager,Pc=Ec.pubSub,Ic=(Ec.utils,Ec.slideObjectUtils),_c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wc(t,e)}(o,t);var e,n,i,r=Sc(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=r.call(this,t),Pc.on(Tc.window.MAIN_CHANGED,e.onSlideChanged.bind(kc(e))),(DS.flagManager.multiLangSupport||DS.flagManager.aiCourseTranslation)&&Pc.on(Tc.transcript.REFRESH_VIEW,e.onRefreshView.bind(kc(e))),Lc.deviceView.isClassicMobile?Pc.on(Tc.mobile.NOTES_SHOWN,e.onHamburgerToggle.bind(kc(e),!1)):Lc.deviceView.isUnifiedMobile&&Pc.on(Tc.hamburger.TOGGLE,e.onHamburgerToggle.bind(kc(e))),e.forceScrollToTop=!1,e}return e=o,(n=[{key:"onHamburgerToggle",value:function(t){this.forceScrollToTop&&!t&&(this.getScrollElement().scrollTop=0,this.forceScrollToTop=!1)}},{key:"onFocus",value:function(){this.el.focus(),xc.setFocusRectOn(this.el.parentNode)}},{key:"focusSelf",value:function(){this.onFocus()}},{key:"handleTab",value:function(){return this.el.parentElement.focus(),!0}},{key:"onSlideChanged",value:function(t){if(this.lasSlideId!=t.absoluteId){this.lasSlideId=t.absoluteId;var e=(this.model.notesData||[]).find((function(e){return t.absoluteId.includes(e.slideId)}));null!=this.titleEl&&(this.titleEl.innerHTML=t.get("title"));var n=null==e?"":e.content;Lc.deviceView.isClassicMobile&&(n=n.replace(Cc,"color:#515557")),this.contentEl.innerHTML=n,Pc.trigger(Tc.transcript.CHANGED),Ic.activeMobileMenuItem(n,"no-transcript"),this.scrollToTop()}}},{key:"onRefreshView",value:function(){var t=DS.windowManager.getMainWindowSlide();null!=t&&this.onSlideChanged(t)}},{key:"scrollToTop",value:function(){Lc.deviceView.isDesktop?this.view.el.scrollTop=0:Lc.theme.isClassic?0===this.getScrollElement().scrollTop?this.forceScrollToTop=!0:this.getScrollElement().scrollTop=0:G.getNamespace(this.view.nameSpace).sidebar.collapsed?this.forceScrollToTop=!0:this.getScrollElement().scrollTop=0}},{key:"getScrollElement",value:function(){return Lc.deviceView.isClassicMobile?this.view.parent.el:this.view.el}},{key:"getViewBox",value:function(){return this.view.parent.getBox()}},{key:"teardown",value:function(){Pc.off(Tc.window.MAIN_CHANGED,this.onSlideChanged.bind(this)),DS.flagManager.multiLangSupport&&Pc.off(Tc.transcript.REFRESH_VIEW,this.onRefreshView.bind(this)),Lc.deviceView.isClassicMobile?Pc.off(Tc.mobile.NOTES_SHOWN,this.onHamburgerToggle.bind(this,!1)):Lc.deviceView.isUnifiedMobile&&Pc.off(Tc.hamburger.TOGGLE,this.onHamburgerToggle.bind(this))}}])&&gc(e.prototype,n),i&&gc(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(xe),jc="transcript",Dc={resources:dc,transcript:G.def(jc,_c,(function(){var t=G.model,e=t.rtl?"rtl":"";return{attrs:{id:jc+"-content",class:"cs-menu cs-panel is-scrollable cs-menu cs-transcript panel ".concat(e),tabindex:-1},w:"100%",h:"100%",html:'\n      <h4 data-ref="title" class="note-title cs-heading panel-section-heading"></h4>\n      <hr class="cs-div"></hr>\n      <div data-ref="content" class="note-content"></div>\n    ',model:t.frame}})),glossary:vc,outline:xs};function Ac(t){return function(t){if(Array.isArray(t))return Rc(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Rc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rc(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Bc=DS.constants.MOBILE_UI_SIZE,Mc=G.def("panels",jr,(function(){var t=G.model;return{attrs:{class:"panels"},x:0,y:0,wp:function(){return window.innerWidth+2},hp:function(){return window.innerHeight-Bc+2},wl:function(){return window.innerWidth-160},hl:function(){return window.innerHeight+2},bgColor:"white",z:3,visible:!1,html:'\n      <button class="tab-close" data-ref="tabClose" aria-label="'.concat(t.getString("close"),'">\n        ').concat(Cn("close")(),"\n      </button>\n    "),childDef:function(){Hc(t)}}})),Hc=function(t){[].concat(Ac(t.sidebarTabs),Ac(t.topTabsLeft),Ac(t.topTabsRight)).forEach((function(t,e){"customlink"!==t.name&&function(t,e){var n=e.name,i=n+"Panel",r=G.def(i,{attrs:{id:i,class:"tab-panel is-scrollable","aria-labelledby":n+"-tab",role:"tabpanel",tabindex:0},visibility:"no-reflow",visible:!1,overflow:"auto",x:0,y:0,w:"100%",h:"100%"});r.init(),Mc.append(r);var o=Dc[n];null!=o&&(o.init(),r.append(o))}(0,t)}))};function Nc(t){return Nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(t)}function Fc(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==Nc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Nc(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===Nc(o)?o:String(o)),i)}var r,o}function Vc(t,e){return Vc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Vc(t,e)}function Uc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Wc(t);if(e){var r=Wc(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Nc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Wc(t){return Wc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wc(t)}var zc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vc(t,e)}(o,t);var e,n,i,r=Uc(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,t)).onClick(e.onClickOverlay),e}return e=o,(n=[{key:"onClickOverlay",value:function(t){DS.pubSub.trigger(DS.events.sidebar.CLOSE)}}])&&Fc(e.prototype,n),i&&Fc(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(xe);function Zc(t){return Zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(t)}function Kc(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Xc(i.key),i)}}function Gc(t,e){return Gc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Gc(t,e)}function Qc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Yc(t);if(e){var r=Yc(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Zc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return qc(t)}(this,n)}}function qc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yc(t){return Yc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Yc(t)}function Xc(t){var e=function(t,e){if("object"!==Zc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Zc(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Zc(e)?e:String(e)}G.def("visibleOverlay",zc,(function(){return{attrs:{class:"visible-overlay"},x:0,y:0,w:function(){return window.innerWidth},h:function(){return window.innerHeight},visible:!1,position:"fixed",bgColor:"rgba(0, 0, 0, 0.5)",add:!0}}));var $c=DS,Jc=$c.pubSub,tu=$c.captionsManager,eu=$c.stringTabler,nu=$c.events.captions,iu=nu.SHOW_BUTTON,ru=nu.HIDE_BUTTON,ou=nu.ENABLED,au=nu.ENABLE,lu=$c.detection.theme.isUnified,su=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gc(t,e)}(o,t);var e,n,i,r=Qc(o);function o(t){var e,n,i,a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=r.call(this,t),n=qc(e),a=!0,(i=Xc(i="hasTooltip"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,e.onClick(e.onClickCaptions),e.toggle=!1,Jc.on(iu,(function(t){return e.onVisibilityChanged(!0)})),Jc.on(ru,(function(t){return e.onVisibilityChanged(!1)})),Jc.on(ou,e.onCaptionsEnabled.bind(qc(e))),e}return e=o,(n=[{key:"tooltipKey",get:function(){return this.toggle?"acc_cc_hide":"acc_cc_show"}},{key:"onVisibilityChanged",value:function(t){this.view.setVisibility(t,!0),this.view.childVisibilityChanged(),this.toggle=tu.isCaptionEnabled(),this.updateBtn()}},{key:"onCaptionsEnabled",value:function(t){this.toggle=t,this.updateBtn()}},{key:"updateBtn",value:function(){var t=this.toggle?"add":"remove";this.view.el.classList[t]("cs-tabs","cs-selected"),this.view.el.setAttribute("aria-pressed",this.toggle),this.view.el.setAttribute("aria-label",eu.getString(this.toggle?"acc_cc_hide":"acc_cc_show")),lu&&this.view.updateHtml()}},{key:"onClickCaptions",value:function(t){this.toggleCaptions()}},{key:"toggleCaptions",value:function(){this.toggle=!this.toggle,Jc.trigger(au,this.toggle),this.updateBtn()}},{key:"getViewBox",value:function(){var t=this.view.getBox(),e=(t.h-30)/2;return t.h=30,t.y=t.y+e,t}},{key:"teardown",value:function(){Jc.off(iu),Jc.off(ru),Jc.off(ou)}}])&&Kc(e.prototype,n),i&&Kc(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(xe);function cu(t){return cu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(t)}function uu(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==cu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==cu(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===cu(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var fu=DS.constants.MOBILE_UI_SIZE,du="captions";function hu(t){return hu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(t)}function pu(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Su(i.key),i)}}function yu(){return yu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=gu(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},yu.apply(this,arguments)}function bu(t,e){return bu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},bu(t,e)}function vu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=gu(t);if(e){var r=gu(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===hu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return mu(t)}(this,n)}}function mu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gu(t){return gu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gu(t)}function wu(t,e,n){return(e=Su(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Su(t){var e=function(t,e){if("object"!==hu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==hu(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===hu(e)?e:String(e)}G.def(du,su,(function(){var t,e=G.model;return uu(t={tag:"button",attrs:{id:du,class:"cs-button btn","aria-label":e.getString("acc_closed_captions"),tabindex:0,"aria-pressed":!0},xp:function(){return this.left||0},xl:function(){return(this.parent.w-this.w)/2},minH:fu,noUpdate:!0,visible:!1,parentAlign:"tr",html:Cn("captions")()},"xp",(function(){return this.left||0})),uu(t,"xl",(function(){return(this.parent.w-this.w)/2})),uu(t,"minW",47),t}));var ku=DS,Ou=ku.dom,Cu=Ou.addClass,Eu=Ou.removeClass,Lu=ku.appState,Tu=ku.scaler,xu=ku.shortcutManager,Pu=ku.events,Iu=ku.focusManager,_u=ku.pubSub,ju=ku.keyManager,Du=ku.utils.fullScreen,Au=ku.globalEventHelper.addDocumentListener,Ru=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bu(t,e)}(o,t);var e,n,i,r=vu(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),wu(mu(e=r.call(this,t)),"hasTooltip",!0),wu(mu(e),"tooltipKey","acc_settings"),wu(mu(e),"hideTooltipWhenOpen",!0),wu(mu(e),"onToggleBackgroundAudio",(function(){_u.trigger(Pu.backgroundAudio.TOGGLE)})),wu(mu(e),"toggleBackgroundAudio",(function(){e.updateToggle(e.backgroundAudioSwitchEl,DS.courseAudio.enabled())})),wu(mu(e),"onCaptionsEnabled",(function(){e.view.updateHook()})),DS._.bindAll(mu(e),"onAccessibleTextChanged","onZoomModeChanged","onKeyboardShortcutsChanged"),e.onClickEl(e.settingsBtnEl,e.togglePanel),null!=e.shortcutsSwitchEl&&(e.onClickEl(e.shortcutsSwitchEl,e.toggleShortcuts),DS.pubSub.on(Pu.player.ENABLE_KEYBOARD_SHORTCUTS,e.onKeyboardShortcutsChanged)),null!=e.captionsButtonEl&&(e.onClickEl(e.captionsButtonEl,e.toggleCaptions),_u.on(Pu.captions.ENABLED,e.onCaptionsEnabled)),null!=e.resetButtonEl&&e.onClickEl(e.resetButtonEl,e.resetTimeline),null!=e.acctextSwitchEl&&(e.onClickEl(e.acctextSwitchEl,e.toggleAccessibleText),Lu.on(Pu.player.ACCESSIBLE_TEXT_CHANGED,e.onAccessibleTextChanged)),null!=e.zoomSwitchEl&&(e.onClickEl(e.zoomSwitchEl,e.toggleZoomMode),_u.on(Pu.window.ZOOM_MODE_CHANGED,e.onZoomModeChanged)),e.handleFullScreenChange=e.handleFullScreenChange.bind(mu(e)),null!=e.fullScreenToggleButtonEl&&(e.onClickEl(e.fullScreenToggleButtonEl,e.toggleFullScreen),e.removeFullScreenListener=Du.addChangeListener(e.handleFullScreenChange)),null!=e.backgroundAudioSwitchEl&&(e.onClickEl(e.backgroundAudioSwitchEl,e.onToggleBackgroundAudio),_u.on(Pu.backgroundAudio.HAS_TOGGLED,e.toggleBackgroundAudio)),e}return e=o,(n=[{key:"toggleFullScreen",value:function(){Lu.toggleFullScreen()}},{key:"handleFullScreenChange",value:function(){Du.getEl()===Lu.getPresoEl()?Cu(this.el,"full-screen"):Eu(this.el,"full-screen")}},{key:"togglePanel",value:function(){this.isOpen?this.hidePanel():(this.showPanel(),this.dismissTooltip())}},{key:"showPanel",value:function(){var t=this;this.isOpen=!0,Cu(this.el,"open"),this.view.updatePanelPosition(),this.settingsBtnEl.setAttribute("aria-expanded",!0),null!=this.view.updatePanelDepth&&this.view.updatePanelDepth(!0),this.removeShowPanelListener=Au("keydown",(function(e){return t.handleKeyDown(e)}))}},{key:"hidePanel",value:function(){this.isOpen=!1,Eu(this.el,"open"),this.settingsBtnEl.setAttribute("aria-expanded",!1),null!=this.view.updatePanelDepth&&this.view.updatePanelDepth(!1),null!=this.removeShowPanelListener&&this.removeShowPanelListener()}},{key:"handleKeyDown",value:function(t){ju.isEscapeKey(t.which)&&(this.hidePanel(),this.settingsBtnEl.focus(),Iu.setFocusRectOn(this.settingsBtnEl))}},{key:"onBlur",value:function(t){null!=t&&this.isOpen&&!this.el.contains(t.relatedTarget)&&(this.hidePanel(),yu(gu(o.prototype),"onBlur",this).call(this))}},{key:"updateToggle",value:function(t,e){e?(Cu(t,"toggle-on"),Eu(t,"toggle-off")):(Cu(t,"toggle-off"),Eu(t,"toggle-on")),t.querySelector("button").setAttribute("aria-checked",e)}},{key:"onAccessibleTextChanged",value:function(t){this.accTextOn=t,this.updateToggle(this.acctextSwitchEl,this.accTextOn)}},{key:"onKeyboardShortcutsChanged",value:function(t){this.updateToggle(this.shortcutsSwitchEl,t)}},{key:"toggleAccessibleText",value:function(){this.accTextOn=!this.accTextOn,this.updateToggle(this.acctextSwitchEl,this.accTextOn),Lu.onToggleAccessibleText(this.accTextOn)}},{key:"onZoomModeChanged",value:function(){this.updateToggle(this.zoomSwitchEl,Tu.zoomMode)}},{key:"toggleZoomMode",value:function(){Tu.enableZoomMode(!Tu.zoomMode),this.updateToggle(this.zoomSwitchEl,Tu.zoomMode),Iu.setFocusRectOn(this.zoomSwitchEl.querySelector("button"))}},{key:"toggleShortcuts",value:function(){xu.enableShortcuts(!xu.enabled),this.updateToggle(this.shortcutsSwitchEl,xu.enabled)}},{key:"toggleCaptions",value:function(){G.getNamespace("_frame").captions.viewLogic.toggleCaptions(),this.view.updateHook()}},{key:"resetTimeline",value:function(){G.getNamespace("_frame").reset.viewLogic.resetTimeline()}},{key:"teardown",value:function(){Lu.off(Pu.player.ACCESSIBLE_TEXT_CHANGED,this.onAccessibleTextChanged),_u.off(Pu.window.ZOOM_MODE_CHANGED,this.onZoomModeChanged),_u.off(Pu.captions.ENABLED,this.onCaptionsEnabled),_u.off(Pu.backgroundAudio.HAS_TOGGLED,this.toggleBackgroundAudio),null!=this.removeFullScreenListener&&this.removeFullScreenListener()}},{key:"onFocus",value:function(t){var e=t.target;if(this.el.contains(e))return Iu.setFocusRectOn(e),this.onHoverIn(t),this.isFocused=!1,!1}}])&&pu(e.prototype,n),i&&pu(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(xe),Bu=DS,Mu=Bu.dom,Hu=Mu.addClass,Nu=Mu.removeClass,Fu=Bu.appState,Vu=Bu.utils,Uu=Vu.pxify,Wu=Vu.getPath,zu=Bu.detection,Zu=(zu.deviceView.isPhone,zu.orientation),Ku=Bu.constants.MOBILE_UI_SIZE,Gu="settings";function Qu(t){return Qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(t)}function qu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=o.call(n)).done)&&(l.push(i.value),l.length!==e);s=!0);}catch(t){c=!0,r=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Yu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yu(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Xu(t,e,n){return(e=Ju(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Ju(i.key),i)}}function Ju(t){var e=function(t,e){if("object"!==Qu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Qu(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Qu(e)?e:String(e)}function tf(t,e){return tf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tf(t,e)}function ef(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=rf(t);if(e){var r=rf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Qu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return nf(t)}(this,n)}}function nf(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rf(t){return rf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rf(t)}G.def(Gu,Ru,(function(t){var e=G.model,n=(G.model.rtl,G.getNamespace(t)),i=n.optionPane,r=n.captions;return{noUpdate:!0,attrs:{id:Gu,class:"cs-settings"},overflow:"visible",minW:Ku,minH:Ku,w:47,h:Ku,z:2,xp:function(){return this.left||0},xl:function(){return 0},y:function(){return this.top||0},methods:{getControlConfigs:function(){return DS.frameModel.hasModernText?[{name:"acctext",labelId:"accessible_text",isOn:function(){return Fu.accessibleTextOn()}}]:[]},getToggleControls:function(){return this.getControlConfigs().map((function(t){var n=t.name,i=t.labelId,r=(0,t.isOn)();return'\n            <div class="switch '.concat(r?"toggle-on":"toggle-off",'" data-ref="').concat(n,'Switch">\n              <label class="switch-label" id="').concat(n,'-label">\n                ').concat(e.getString(i),'\n              </label>\n              <button class="switch-toggle" id="').concat(n,'-switch" tabindex="0" role="switch" aria-checked="').concat(r,'" aria-labelledby="').concat(n,'-label">\n                ').concat(Cn("track")(n),"\n              </button>\n            </div>\n          ")})).join("")},getIconConfigs:function(){return[{name:"captions",labelId:"acc_closed_captions",getIcon:Cn("captions")}]},getIconControls:function(){return this.getIconConfigs().map((function(t){var n=t.name,i=t.labelId,r=t.getIcon;return'\n            <button id="'.concat(n,'-overflow" class="cs-button overflow-button" tabindex="0" aria-label="').concat(e.getString(i),'" data-ref="').concat(n,'Button">\n              ').concat(r(),"\n            </button>          \n          ")})).join("")},updatePanelPosition:function(){if(null!=i){var t=this.children.settingsPanel.el;if(t.style.left=0,!Zu.isLandscape){var e=t.getBoundingClientRect(),n=i.el.getBoundingClientRect(),r=0;e.right>n.right&&(r=n.right-(e.right+10)),e.left<n.left&&(r=n.left-e.left+10),t.style.left=Uu(r)}}}},updateHook:function(){var t=this;window.requestAnimationFrame((function(){return t.updatePanelPosition()}));var e=Wu(r,"viewLogic.toggle");e?(Hu(this.el,"captions-on"),Nu(this.el,"captions-off")):(Hu(this.el,"captions-off"),Nu(this.el,"captions-on")),this.setVisibility(0!==this.getControlConfigs().length||e)},html:function(){return'\n        <button data-ref="settingsBtn" aria-expanded="false" class="cs-button settings-button" aria-label="'.concat(e.getString("acc_settings"),'" tabIndex="0">\n          ').concat(Cn("settings")(),'\n        </button>\n        <div data-ref="settingsPanel" class="settings-panel top-tabs-drop" tabindex="-1">\n          <div class="icon-buttons">\n            ').concat(this.getIconControls(),'\n          </div>\n          <div class="toggle-buttons">\n            ').concat(this.getToggleControls(),'\n          </div>\n        </div>\n        <div class="panel-down-arrow">\n          ').concat(Cn("downArrow")(),"\n        </div>\n      ")}}}));var of=DS,af=of.detection,lf=of.events,sf=of.pubSub,cf=of.svgUtils,uf=of._.bindAll,ff={remaining:function(t,e){return DS.utils.formatSecondsAsTime(e-t,!0)},totalelapsed:function(t,e){return[t,e].map((function(t){return DS.utils.formatSecondsAsTime(t,!0)})).join(" / ")},elapsed:function(t){return DS.utils.formatSecondsAsTime(t,!0)},none:function(){return""}},df=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tf(t,e)}(o,t);var e,n,i,r=ef(o);function o(t){var e,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),n=r.call(this,t),uf(nf(n),"onShow","onHide","onTick"),sf.on((Xu(e={},lf.timer.SHOW,n.onShow),Xu(e,lf.timer.HIDE,n.onHide),e)),n.timeFormat=n.getTimeFormat(),n.isPieProgress=af.theme.isUnified,n}return e=o,(n=[{key:"getTimeFormat",value:function(){if(!af.deviceView.isClassicMobile){var t=G.model.sidebarOpts.timeFormat;if(t&&null!=ff[t.toLowerCase()])return t.toLowerCase();if(!G.model.sidebarOpts.timeEnabled)return"none"}return"remaining"}},{key:"teardown",value:function(){var t;sf.off((Xu(t={},lf.timer.SHOW,this.onShow),Xu(t,lf.timer.HIDE,this.onHide),t))}},{key:"onTick",value:function(t,e,n){if(this.view.children.timerText.el.innerHTML=ff[this.timeFormat](e,n),!af.deviceView.isClassicMobile){var i=cf.wheelPath(9,9,9,0,360*(1-t),this.isPieProgress);this.view.children.timerPath.el.setAttributeNS(null,"d",i)}}},{key:"onShow",value:function(t){null!=this.currentTimer&&this.onHide(),this.currentTimer=t,this.currentTimer.on("tick",this.onTick),this.toggleVisibility(!0),window.requestAnimationFrame(DS.pubSub.trigger.bind(DS.pubSub,DS.events.timer.SHOWN))}},{key:"onHide",value:function(){null!=this.currentTimer&&(this.currentTimer.off("tick",this.onTick),this.currentTimer=null,window.requestAnimationFrame(DS.pubSub.trigger.bind(DS.pubSub,DS.events.timer.HIDDEN))),this.toggleVisibility(!1)}},{key:"toggleVisibility",value:function(t){var e=qu(t?["add","remove"]:["remove","add"],2),n=e[0],i=e[1];document.body.classList[n]("timer-shown"),this.el.classList[i]("hidden"),this.el.classList[n]("shown"),this.view.setVisibility(t),this.view.parent.updateChildren(!0)}},{key:"onFocus",value:function(){var t=this.view.children.timerText.el.getBoundingClientRect(),e=t.left,n=t.top,i=t.width,r=t.height;e-=8,n-=8,i+=37,r+=12,DS.focusManager.setFocusRectOn(this.el,{left:e,top:n,width:i,height:r})}}])&&$u(e.prototype,n),i&&$u(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(xe),hf="timer";G.def(hf,df,(function(){return{noTabIndex:!0,attrs:{id:hf,"aria-label":"timer",class:"timer"},overflow:"visible",visible:!1,x:0,y:0,w:58,hp:58,hl:34,html:'<div class="timer-text" data-ref="timerText" tabindex="0" data-tabindex="0"></div>'}}));var pf=DS,yf=(pf.detection,pf.detection),bf=yf.orientation,vf=yf.deviceView,mf="disableOverlay";function gf(t){return gf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gf(t)}function wf(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==gf(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==gf(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===gf(o)?o:String(o)),i)}var r,o}function Sf(t,e){return Sf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Sf(t,e)}function kf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Of(t);if(e){var r=Of(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===gf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Of(t){return Of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Of(t)}G.def(mf,(function(){var t=G.model,e=t.frame,n=window.globals.parseParams().orientations||null,i=JSON.parse(decodeURIComponent(n))||e.orientations,r=i.phone,o=i.tablet;return{attrs:{id:mf,role:"dialog","aria-modal":!0,"aria-labelledby":"mobile-disabled-orientation-text"},style:{fontSize:"".concat(e.fontscale,"%"),background:"black",color:"white"},x:0,y:0,w:function(){},h:function(){},updateHook:function(){var t=!0;bf.isLandscape?(vf.isPhone&&r.includes("landscape")||vf.isTablet&&o.includes("landscape"))&&(t=!1):bf.isPortrait&&(vf.isPhone&&r.includes("portrait")||vf.isTablet&&o.includes("portrait"))&&(t=!1),t&&!bf.forceHideWarning?document.body.classList.add("show-disabled-overlay"):document.body.classList.remove("show-disabled-overlay"),this.el.setAttribute("aria-hidden",!(t&&!bf.forceHideWarning))},html:function(){return'<div class="mobile-disabled-orientation-overlay-inner">\n        <div class="mobile-disabled-orientation-overlay-icon">\n          '.concat(Cn("disableOrientation")(),'\n        </div>\n        <div id="mobile-disabled-orientation-text">').concat(t.getString("disabled_orientation"),"</div>\n      </div>")},add:!0}}));var Cf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sf(t,e)}(o,t);var e,n,i,r=kf(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=r.call(this,t),new MutationObserver((function(){e.view.onCaptionChanged()})).observe(e.el,{childList:!0,subtree:!0}),e}return e=o,n&&wf(e.prototype,n),i&&wf(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}(xe),Ef=DS,Lf=Ef.utils.pxify,Tf=Ef.constants.MOBILE_UI_SIZE,xf=Ef.detection.orientation;function Pf(t){return Pf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pf(t)}function If(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==Pf(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Pf(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===Pf(o)?o:String(o)),i)}var r,o}function _f(t,e){return _f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_f(t,e)}function jf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Af(t);if(e){var r=Af(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Pf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Df(t)}(this,n)}}function Df(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Af(t){return Af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Af(t)}G.def("captionContainer",Cf,(function(t){var e=G.getNamespace(DS.constants.refs.FRAME).slide;return{attrs:{class:"caption-container"},overflow:"visible",z:1,wp:function(){return window.innerWidth},wl:function(){return window.innerWidth-Tf},hl:function(){return window.innerHeight},hp:function(){return"unset"},yp:null,add:!0,updateHook:function(){xf.isPortrait?(this.el.style.height="unset",this.el.style.top="unset",this.onCaptionChanged()):this.el.style.bottom=""},onCaptionChanged:function(){if(xf.isPortrait){var t=Math.max(0,window.innerHeight-(e.y+e.h+Tf));this.el.style.bottom=Lf((t-this.el.clientHeight)/2+Tf)}}}}));var Rf=DS,Bf=Rf.events,Mf=Rf.pubSub,Hf=Rf._,Nf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_f(t,e)}(o,t);var e,n,i,r=jf(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=r.call(this,t),Hf.bindAll(Df(e),"onEnterFullscreen"),e.onClick(e.onClickClose),e.view.setVisibility(!1),Mf.on(Bf.presentation.ENTER_FULLSCREEN,e.onEnterFullscreen),e}return e=o,(n=[{key:"onEnterFullscreen",value:function(){this.view.setVisibility(!0)}},{key:"onClickClose",value:function(t){var e=this;DS.utils.fullScreen.exit(),setTimeout((function(){Mf.trigger(Bf.presentation.EXIT_FULLSCREEN),e.view.setVisibility(!1)}),300)}}])&&If(e.prototype,n),i&&If(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(xe),Ff="fullScreenClose";function Vf(t){return Vf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vf(t)}function Uf(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Qf(i.key),i)}}function Wf(t,e){return Wf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Wf(t,e)}function zf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Kf(t);if(e){var r=Kf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Vf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Zf(t)}(this,n)}}function Zf(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kf(t){return Kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kf(t)}function Gf(t,e,n){return(e=Qf(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qf(t){var e=function(t,e){if("object"!==Vf(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Vf(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Vf(e)?e:String(e)}G.def(Ff,Nf,(function(t){return{tag:"button",attrs:{id:Ff,class:"cs-button btn fullscreen-close-btn",tabindex:0},overflow:"visible",html:'\n      <div class="fullscreen-close-btn-bg"></div>\n      '.concat(Cn("close")(),"\n    "),x:26,y:26,w:18,h:18,noContent:!0}}));var qf=DS,Yf=qf.events,Xf=qf.pubSub,$f=qf._,Jf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wf(t,e)}(o,t);var e,n,i,r=zf(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),Gf(Zf(e=r.call(this,t)),"hasTooltip",!0),Gf(Zf(e),"tooltipKey","acc_enter_fullscreen"),$f.bindAll(Zf(e),"onExitFullScreen"),e.onClick(e.onClickOpen),Xf.on(Yf.presentation.EXIT_FULLSCREEN,e.onExitFullScreen),e}return e=o,(n=[{key:"onExitFullScreen",value:function(){this.view.setVisibility(!0)}},{key:"onClickOpen",value:function(t){Xf.trigger(Yf.presentation.ENTER_FULLSCREEN),this.view.setVisibility(!1)}}])&&Uf(e.prototype,n),i&&Uf(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(xe),td="fullScreenOpen",ed=DS.constants.MOBILE_UI_SIZE;function nd(t){return function(t){if(Array.isArray(t))return id(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return id(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return id(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function id(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}G.def(td,Jf,(function(t){G.model;return{tag:"button",attrs:{id:td,class:"cs-button btn fullscreen-open-btn",tabindex:0},html:"\n      ".concat(Cn("enterFullScreen")(),"\n    "),padLeft:6,padRight:6,minW:ed,minH:ed,noUpdate:!0,parentAlign:"br",noContent:!1}}));var rd=DS.constants.refs.FRAME,od=DS,ad=od.pubSub,ld=od.events,sd=od._.isEmpty,cd=od.detection,ud=cd.device,fd=cd.env,dd=fd.is360,hd=fd.isDevicePreview,pd=fd.enableFs,yd=function(){var t=G.model,e=t.topTabsLeft,n=t.topTabsRight,i=t.sidebarTabs;return!_.isEmpty(e)||!_.isEmpty(n)||!_.isEmpty(i)};function bd(t){return bd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bd(t)}function vd(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==bd(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==bd(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===bd(o)?o:String(o)),i)}var r,o}var md=DS,gd=md._,wd=md.pubSub,Sd=md.events,kd=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=e.el,this.nameSpace=e.nameSpace,this.el.classList.add(this.nameSpace),gd.bindAll(this,"onSlideTransitionIn","onWindowClosing"),wd.on(Sd.slide.ON_TRANSITION_IN,this.onSlideTransitionIn),wd.on(Sd.window.CLOSING,this.onWindowClosing)}var e,n,i;return e=t,(n=[{key:"onSlideTransitionIn",value:function(t){t.windowId===this.nameSpace&&document.body.classList.add("showing-".concat(this.nameSpace.toLowerCase()))}},{key:"onWindowClosing",value:function(t){t===this.nameSpace&&document.body.classList.remove("showing-".concat(this.nameSpace.toLowerCase()))}}])&&vd(e.prototype,n),i&&vd(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Od="lightBoxWrapper";G.def(Od,kd,(function(){var t=G.model,e=t.slideWidth,n=t.slideHeight;return{attrs:{id:Od,class:"cs-base fn-".concat(t.frame.default_layout)},style:{transformOrigin:"0px 0px"},overflow:"visible",dimScale:function(){var t=.8*le.width,i=.8*le.height;return Math.min(t/e,i/n)},wl:function(){return e*this.dimScale+58},wp:function(){return e*this.dimScale},hl:function(){return n*this.dimScale},hp:function(){return n*this.dimScale+58},x:function(){return(le.width-this.w)/2},y:function(){return(le.height-this.h)/2},add:!0}}));var Cd="lightBoxSlide";G.def(Cd,(function(){var t=G.getCurrentNameSpace().lightBoxWrapper;return{attrs:{class:Cd,"aria-live":"assertive",role:"dialog","aria-modal":!0},overflow:"visible",winScale:function(){return t.dimScale},origin:"0 0",wl:function(){return this.parent.wl-58},hl:function(){return this.parent.hl},wp:function(){return this.parent.wp},hp:function(){return this.parent.hp-58},z:1,bgColor:"white",add:!0,html:function(){return'<div id="slide-label-lightbox" data-ref="label" aria-live="polite"></div><main data-ref="container" class="slide-container" transform-origin: 0 0; position: absolute;" tabindex="-1"></main>'}}}));var Ed="lightBox";function Ld(t){return Ld="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ld(t)}function Td(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==Ld(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Ld(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===Ld(o)?o:String(o)),i)}var r,o}function xd(t,e){return xd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},xd(t,e)}function Pd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Id(t);if(e){var r=Id(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Ld(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Id(t){return Id=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Id(t)}G.def(Ed,(function(){return{attrs:{class:"".concat(Ed," cs-base")},x:0,y:0,z:1,w:"100%",h:"100%",overflow:"visible"}}));var _d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xd(t,e)}(o,t);var e,n,i,r=Pd(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,t)).onClick(e.onClickClose),e}return e=o,(n=[{key:"onClickClose",value:function(t){var e=this.model.windowId;DS.pubSub.trigger(DS.events.window.CLOSING,e)}}])&&Td(e.prototype,n),i&&Td(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(xe),jd="lightBoxClose";G.def(jd,_d,(function(t){var e={windowId:t};return{tag:"button",attrs:{id:jd,class:"lightbox-close-btn-floating",tabindex:0,"aria-label":DS.stringTabler.getString("close")},style:{overflow:"visible"},html:Cn("close"),y:35,x:function(){return window.innerWidth-(this.w+35)},model:e,w:20,h:20}}));var Dd="close",Ad=DS,Rd=Ad.detection.orientation,Bd=Ad.constants.MOBILE_UI_SIZE;G.def(Dd,_d,(function(t){var e={windowId:t};return{tag:"button",attrs:{id:Dd,class:"cs-button btn",tabindex:0},html:'\n      <div class="icon">\n        '.concat(Cn("close")(),"\n      </div>\n    "),model:e,parentAlign:"t-",w:Bd,h:Bd,noContent:!1,beforeReflowHook:function(){this.setVisibility(Rd.isLandscape)}}}));var Md="LightboxWnd",Hd=DS.detection.orientation,Nd="lightBoxBottom";G.def(Nd,(function(t){var e=G.model.rtl;return{tag:"nav",attrs:{id:Nd,class:"option-pane"},methods:{getZoomBounds:function(){return G.getNamespace(t).zoomBounds},getParentBB:function(){return null==this.cachedParentBB&&(this.cachedParentBB=this.parent.getBox(),null!=this.cachedParentBB&&(this.cachedParentBB.left=this.cachedParentBB.x,this.cachedParentBB.right=this.cachedParentBB.x+this.cachedParentBB.w,this.cachedParentBB.top=this.cachedParentBB.y,this.cachedParentBB.bottom=this.cachedParentBB.y+this.cachedParentBB.h)),this.cachedParentBB},shouldZoom:function(){return null!=this.getParentBB()&&null!=this.getZoomBounds()}},z:1,xp:function(){if(this.shouldZoom()){var t=this.getZoomBounds(),e=this.getParentBB();return Math.floor(Math.max(t.left,0)-e.left)}return 0},xl:function(){if(this.shouldZoom()){var t=this.getZoomBounds(),e=this.getParentBB();return e.w+(Math.min(t.right,window.innerWidth-58)-e.right)}return this.parent.w-this.w},yp:function(){if(this.shouldZoom()){var t=this.getZoomBounds(),e=this.getParentBB();return e.h+(Math.min(t.bottom,window.innerHeight-58)-e.bottom)}return this.parent.h-this.h},yl:function(){if(this.shouldZoom()){var t=this.getZoomBounds(),e=this.getParentBB();return Math.floor(Math.max(t.top,0)-e.top)}return 0},wp:function(){if(this.shouldZoom()){var t=this.getZoomBounds();return Math.ceil(Math.min(t.right,window.innerWidth)-Math.max(t.left,0))}return this.parent.w},wl:58,hp:58,hl:function(){if(this.shouldZoom()){var t=this.getZoomBounds();return Math.ceil(Math.min(t.bottom,window.innerHeight)-Math.max(t.top,0))}return this.parent.h},updateHook:function(){var t=this;if(this.hasAllChildren()){Hd.isLandscape?this.setVisibility(!0):this.setVisibility(this.children.some((function(e){return e.visible&&e!=t.children.close})));var n={vertical:Hd.isLandscape,alignChild:!0,bounds:{t:0,b:this.h,l:0,r:this.w},reverse:e};this.flowChildren(n),this.cachedParentBB=null}},childVisibilityChangedHook:function(){this.update()}}}));var Fd="LightboxControlsWnd",Vd="printWrapper";G.def(Vd,(function(t){return{attrs:{id:Vd,class:"print-window"},w:0,h:0,style:{overflow:"visible",transformOrigin:"0 0",background:"transparent"},scale:1,x:0,y:0,add:!0}}));var Ud=DS.constants.printSettings,Wd="printSlide";G.def(Wd,qe,(function(t){var e=G.model.slideWidth;return{attrs:{id:Wd,class:"cs-window window-slide ".concat(t,"-slide"),tabindex:-1},style:{overflow:"visible",transformOrigin:"0 0",background:"transparent",display:"none"},origin:"0 0",winScale:function(){return this.w/e},w:function(){var t=DS.detection.os,e=t.isAndroid,n=t.isIOS;return e?Ud.android.pageW:n?Ud.ios.pageW:Ud.desktop.pageW},h:0,x:0,y:0,z:1,html:'<div data-ref="container" class="slide-container"></div>'}}));var zd="PrintWindow";function Zd(t){return Zd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zd(t)}function Kd(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==Zd(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Zd(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===Zd(o)?o:String(o)),i)}var r,o}function Gd(t,e){return Gd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Gd(t,e)}function Qd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=qd(t);if(e){var r=qd(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Zd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function qd(t){return qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qd(t)}var Yd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gd(t,e)}(o,t);var e,n,i,r=Qd(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=r.call(this,t),DS.pubSub.on(DS.events.messageWindow.SHOWN,(function(){e.view.isNotResume=!0,e.view.update()})),e}return e=o,n&&Kd(e.prototype,n),i&&Kd(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}(xe),Xd="messageWindowWrapper";G.def(Xd,Yd,(function(t){var e=G.model.preso.display().windows().find({id:t});return{attrs:{id:Xd},w:e.get("width"),h:e.get("height"),style:{overflow:"visible",transformOrigin:"0 0",background:"transparent"},y:function(){return this.isNotResume?(window.innerHeight-this.h)/2:window.innerHeight/2-this.h/2*this.scale},scalel:function(){return this.isNotResume?1:window.innerWidth/this.w},scalep:function(){return this.isNotResume?.8:window.innerWidth/this.w},xl:function(){return this.isNotResume?(window.innerWidth-this.w)/2:0},xp:function(){return this.isNotResume?(window.innerWidth-.8*this.w)/2:0},add:!0}}));var $d="messageWindowSlide";G.def($d,qe,(function(){return{attrs:{id:$d,class:"cs-window","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},winScale:1,origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,html:'<div id="slide-label-message" data-ref="label"></div><div data-ref="container" class="slide-container"></div>'}}));G.def("overlay",(function(){return{attrs:{class:"overlay overlay-message"},x:0,y:0,w:function(){return window.innerWidth},h:function(){return window.innerHeight},position:"fixed",add:!0}}));var Jd,th="MessageWnd";function eh(t){return eh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eh(t)}function nh(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==eh(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==eh(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===eh(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t,e){Jt(t),function(t){var e=window.globalProvideData;if(window.globalProvideData=function(t,n){"frame"===t&&(null!=(vt=JSON.parse(n)).localization&&DS.flagManager.multiLangSupport?(DS.localizationManager.registerFrameLanguageData(vt.localization),DS.localizationManager.loadFrameData().then((function(t){mt=t,te()}))):te(),window.globalProvideData=e)},zt.on(_t,(function(t){new Et,bt=new f(vt,mt,t),G.setModel(bt),Gt.initialize(bt),Qt.initialize((function(t){return bt.getString(t)})),DS.frameModel=bt,DS.views=G,(DS.frameModel.frame.chromeless||DS.detection.env.hideFrame)&&qt.addClass(document.body,"chromeless"),zt.trigger(At)})),window.globals.useJson){var n=t.replace(".js",".json"),i=new XMLHttpRequest;return i.overrideMimeType("application/json"),i.onreadystatechange=function(){4===i.readyState&&200===i.status&&window.globalProvideData("frame",i.responseText.replace(/\\'/g,"'").replace(/\\"/g,'"'))},i.open("GET",n,!0),void i.send(null)}DS.loadScript(t)}(e)}((nh(Jd={},rd,(function(t){var e,n,i=t.topTabsLeft,r=t.topTabsRight,o=t.sidebarOpts,a=t.bottomBarOpts,l=t.sidebarOpts.timeEnabled,s=t.frame.controlOptions.controls,c=s.closed_captions,u=s.settings,f=G.tree(rd,[{wrapper:["slide",{frame:[{optionPane:[].concat(nd(yd()?["hamburger"]:[]),[{playbackControls:["playPause","seek"].concat(nd(c?["captions"]:[]),nd(u?["settings"]:[]),nd(ud.isTablet&&dd?["fullScreenOpen"]:[]))},{navControls:["prev","next","submit"].concat(nd(l?["timer"]:[]))}])}]},"panels","visibleOverlay","captionContainer",{sidebar:["tabs"]}]}].concat(nd(dd?[]:["disableOverlay"]),["fullScreenClose"]));n=!sd(i)||!sd(r),o.sidebarEnabled||a.bottomBarEnabled||n||!e&&dd&&(!hd||pd)||G.getNamespace(rd).optionPane.setVisibility(!1),ad.on(ld.frameModel.LAYOUT_CHANGED,(function(t,e){if(e===rd){var n={playPause:t.seekbar,seek:t.seekbar,next:t.next,prev:t.previous,submit:t.submit,glossaryLink:t.glossary,outlineLink:t.outline.enabled,transcriptLink:t.transcript,resourcesLink:t.resources};ad.trigger(ld.frame.LAYOUT_READY,n),G.resetStates(rd),G.updateVisibility(n,rd),G.update(f)}})),DS.pubSub.on(DS.events.navcontrols.CHANGED,(function(t){var e=t.kind,n=t.name,i=t.visible,r=t.enable,o="toggle_window_control_visible"===e||"toggle_window_control"===e;"previous"===n&&(n="prev");var a=G["enable_window_control"===e||"toggle_window_control"===e?"getTopNameSpace":"getFrameNameSpace"]()[n];null!=a&&(o?"toggle_window_control_visible"===e?(a.setVisibility(!a.visible),a.childVisibilityChanged()):a.setEnabled(!a.enabled):"set_window_control_visible"===e?(a.setVisibility(i),a.childVisibilityChanged()):a.setEnabled(r))}));return{all:function(){return G.update(f)},resize:function(){G.update(f),G.getNamespace(rd).panels.children.forEach((function(t){null!=t.update&&(t.update(),t.updateChildren(!0))}))}}})),nh(Jd,Md,(function(t){var e=G.tree(Md,["visibleOverlay",{lightBoxWrapper:["lightBoxSlide",{lightBox:[{lightBoxBottom:["close","captions"]}]}]},"captionContainer","lightBoxClose"]),n=G.getNamespace(Md);return n.slide=n.lightBoxSlide,n.wrapper=n.lightBoxWrapper,n.visibleOverlay.setVisibility(!0),{all:function(){G.update(e)},resize:function(){n.zoomBounds=null,G.update(e)},pinchZoom:function(){n.lightBoxBottom.update()}}})),nh(Jd,Fd,(function(t){var e=G.tree(Fd,["visibleOverlay",{lightBoxWrapper:["lightBoxSlide",{lightBox:[{lightBoxBottom:["close","submit","next","prev","captions"]}]}]},"captionContainer","lightBoxClose"]),n=G.getNamespace(Fd);n.slide=n.lightBoxSlide,n.wrapper=n.lightBoxWrapper,n.visibleOverlay.setVisibility(!0);var i=function(t,n){if(n===Fd){var i={next:t.next,prev:t.previous,submit:t.submit};G.resetStates(Fd),G.updateVisibility(i,Fd),G.update(e)}};return DS.pubSub.on(DS.events.frameModel.LAYOUT_CHANGED,i),i(t.currControlLayout),{all:function(){return G.update(e)},resize:function(){n.zoomBounds=null,G.update(e)},pinchZoom:function(){return n.lightBoxBottom.update()}}})),nh(Jd,zd,(function(t){G.tree(zd,[{printWrapper:["printSlide"]}]);var e=G.getNamespace(zd);return e.slide=e.printSlide,e.wrapper=e.printWrapper,{all:function(){},resize:function(){},pinchZoom:function(){}}})),nh(Jd,th,(function(t){var e=G.tree(th,["overlay",{messageWindowWrapper:["messageWindowSlide"]},"disableOverlay"]),n=G.getNamespace(th);return n.slide=n.messageWindowSlide,n.wrapper=n.messageWindowWrapper,{all:function(){return G.update(e)},resize:function(){n.isAttached&&(n.overlay.update(),n.messageWindowWrapper.update())}}})),Jd),"html5/data/js/frame.js")}();
